import{Q as T,m as N,c as v,w as h,o as l,b as t,t as e,a as k,d as m,u as p,k as g,e as E,i as w,x,g as d,f as i,s as M,F as U,M as B}from"./app-BdCTErYV.js";import{_ as $}from"./AuthenticatedLayout-CbMAqcF_.js";import{_ as L}from"./Pagination-D9iMUbnc.js";import{S as b}from"./sweetalert2.esm.all-DwEdJQJv.js";const O={class:"pagetitle"},j={class:"breadcrumb"},q={class:"breadcrumb-item"},A={class:"breadcrumb-item active"},P={class:"section dashboard"},Q={class:"card"},z={class:"card-body"},G={class:"row filter_form"},H={class:"col-md-3"},I=["placeholder"],J={class:"col-md-3"},K=["placeholder"],R={class:"col-md-3"},W={type:"submit",class:"btn btn-primary"},X={class:"col-md-3"},Y={class:"table-responsive"},Z={class:"table text-center"},tt={scope:"col"},et={scope:"col"},st={scope:"col"},ot={scope:"col"},nt={scope:"col"},at={scope:"col"},lt={scope:"col"},it={scope:"col"},rt={key:0,scope:"col"},dt={key:1,scope:"col"},ct={key:2,scope:"col"},ut={key:3,scope:"col"},ht={scope:"row"},mt={key:0},bt=["href"],_t={key:1},ft=["onClick"],yt=["href"],vt={key:2},kt=["href"],St={__name:"index",props:{orders:Object,translations:Array},setup(s){const c=s,S=T(),u=N({name:"",model:""}),C=()=>{B.get(route("orders.index"),u,{preserveState:!0,preserveScroll:!0})},r=a=>S.props.auth_permissions.includes(a),D=a=>{b.fire({title:c.translations.are_you_sure,text:c.translations.you_will_not_be_able_to_revert_this,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:c.translations.yes,cancelButtonText:c.translations.cancel}).then(o=>{o.isConfirmed&&B.delete("orders/"+a,{onSuccess:()=>{b.fire({title:c.translations.data_deleted_successfully,icon:"success"})},onError:()=>{b.fire("Error!","There was an issue deleting the order.","error")}})})},V=a=>{const o={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(a).toLocaleDateString("en-US",o)};return(a,o)=>(l(),v($,{translations:s.translations},{default:h(()=>{var _,f;return[t("div",O,[t("h1",null,e(s.translations.orders),1),t("nav",null,[t("ol",j,[t("li",q,[k(p(g),{class:"nav-link",href:a.route("dashboard")},{default:h(()=>[m(e(s.translations.home),1)]),_:1},8,["href"])]),t("li",A,e(s.translations.orders),1)])])]),t("section",P,[t("div",Q,[o[9]||(o[9]=t("div",{class:"card-header"},[t("div",{class:"d-flex"})],-1)),t("div",z,[t("form",{onSubmit:E(C,["prevent"])},[t("div",G,[t("div",H,[w(t("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":o[0]||(o[0]=n=>u.name=n),placeholder:s.translations.name},null,8,I),[[x,u.name]])]),t("div",J,[w(t("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":o[1]||(o[1]=n=>u.model=n),placeholder:s.translations.model},null,8,K),[[x,u.model]])]),t("div",R,[t("button",W,[m(e(s.translations.search)+"   ",1),o[2]||(o[2]=t("i",{class:"bi bi-search"},null,-1))])]),t("div",X,[r("create order")?(l(),v(p(g),{key:0,class:"btn btn-primary",href:a.route("orders.create")},{default:h(()=>[m(e(s.translations.create_invoice)+" "+e(s.translations.dollar)+"   ",1),o[3]||(o[3]=t("i",{class:"bi bi-plus-circle"},null,-1))]),_:1},8,["href"])):d("",!0)])])],32),t("div",Y,[t("table",Z,[t("thead",null,[t("tr",null,[o[4]||(o[4]=t("th",{scope:"col"},"#",-1)),t("th",tt,e(s.translations.client),1),t("th",et,e(s.translations.total)+" "+e(s.translations.dollar),1),t("th",st,e(s.translations.paid_order)+" "+e(s.translations.dollar),1),t("th",ot,e(s.translations.due_order)+" "+e(s.translations.dollar),1),t("th",nt,e(s.translations.paid_order)+" "+e(s.translations.dinar),1),t("th",at,e(s.translations.due_order)+" "+e(s.translations.dinar),1),t("th",lt,e(s.translations.statusOrder),1),t("th",it,e(s.translations.created_at),1),r("update order")?(l(),i("th",rt)):d("",!0),r("delete order")?(l(),i("th",dt)):d("",!0),r("delete order")?(l(),i("th",ct)):d("",!0),r("update order")?(l(),i("th",ut)):d("",!0)])]),t("tbody",null,[(l(!0),i(U,null,M((_=s.orders)==null?void 0:_.data,(n,F)=>{var y;return l(),i("tr",{key:n.id},[t("th",ht,e(F+1),1),t("td",null,e((y=n.customer)==null?void 0:y.name),1),t("td",null,e(n.total_amount),1),t("td",null,e(n.total_paid),1),t("td",null,e(n.total_amount-n.total_paid),1),t("td",null,e(n.total_paid_dinar),1),t("td",null,e(n.total_amount_dinar-n.total_paid_dinar),1),t("td",null,e(n.status),1),t("td",null,e(V(n.created_at)),1),r("update order")?(l(),i("td",mt,[t("a",{class:"btn btn-primary",href:a.route("orders.edit",{order:n.id})},o[5]||(o[5]=[t("i",{class:"bi bi-pencil-square"},null,-1)]),8,bt)])):d("",!0),r("delete order")?(l(),i("td",_t,[t("button",{type:"button",class:"btn btn-danger",onClick:pt=>D(n.id)},o[6]||(o[6]=[t("i",{class:"bi bi-trash"},null,-1)]),8,ft)])):d("",!0),t("td",null,[t("a",{class:"btn btn-secondary",href:a.route("order.print",{id:n.id})},o[7]||(o[7]=[t("i",{class:"bi bi-printer text-white"},null,-1)]),8,yt)]),r("update order")&&n.status=="pending"?(l(),i("td",vt,[t("a",{class:"btn btn-success",href:a.route("orders.edit",{order:n.id})},o[8]||(o[8]=[t("i",{class:"bi bi-currency-dollar"},null,-1)]),8,kt)])):d("",!0)])}),128))])])])])]),k(L,{links:(f=s.orders)==null?void 0:f.links},null,8,["links"])])]}),_:1},8,["translations"]))}};export{St as default};
