import{s as $t,r as b,T as Bt,z as It,k as et,B as R,E as S,K as G,o as Pt,S as Mt,a,h as Vt,w as Ft,b as s,d as u,t as l,I as w,l as O,x as j,u as n,U as nt,n as E,c as r,F as K,f as N,e as f,i as H,j as St}from"./app-DLChBEag.js";import{_ as Et}from"./AuthenticatedLayout-BaBYr0b8.js";import{_ as Dt}from"./InputError-D0ouqqv7.js";import{C as Tt}from"./vue-select-Dka4tz16.js";import{d as lt,M as At}from"./debounce-5Usw5is6.js";import{S as it}from"./sweetalert2.esm.all-DwEdJQJv.js";import{_ as Ut}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ot={class:"pos-header"},jt={class:"d-flex justify-content-between align-items-center"},Kt={class:"pos-title"},Nt={class:"pos-actions"},Qt={class:"pos-container"},zt={class:"pos-products-panel"},Lt={class:"pos-search-section"},Rt={class:"search-input-group"},Gt=["placeholder"],Ht={class:"barcode-section"},Jt=["placeholder"],Wt={class:"pos-filters"},Xt={key:0,class:"pos-categories"},Yt=["onClick"],Zt={class:"pos-products-grid"},ts=["onClick"],ss={class:"product-image"},os=["src","alt"],es={key:0,class:"product-stock-badge"},ns={class:"product-info"},ls={class:"product-name"},is={class:"product-model"},as={class:"product-price"},rs={class:"product-stock"},ds={key:1,class:"text-center p-4"},us={key:2,class:"no-products"},cs={class:"pos-cart-panel"},bs={class:"pos-customer-section"},vs={class:"form-label text-center w-100"},ms={class:"pos-cart-section"},ps={class:"cart-header"},fs={class:"text-center w-100"},ys={key:0,class:"cart-count"},hs={class:"cart-items"},_s={class:"cart-item-info"},gs={class:"item-name"},ks={class:"item-model"},Cs={class:"cart-item-controls"},ws={class:"quantity-controls"},qs=["onClick","disabled"],xs=["onUpdate:modelValue","onInput"],$s=["onClick"],Bs={class:"price-controls"},Is=["onUpdate:modelValue"],Ps={class:"item-total"},Ms=["onClick"],Vs={key:0,class:"empty-cart"},Fs={key:0,class:"pos-summary-section"},Ss={class:"summary-row"},Es={class:"summary-row"},Ds={class:"summary-row total-row"},Ts={class:"total-amount"},As={key:1,class:"pos-actions-section"},Us=["disabled"],Os={key:0,class:"bi bi-credit-card"},js={key:1,class:"spinner-border spinner-border-sm"},Ks={class:"daily-sales-stats"},Ns={class:"stats-grid"},Qs={class:"stat-card stat-orders"},zs={class:"stat-content"},Ls={class:"stat-value"},Rs={class:"stat-card stat-sales"},Gs={class:"stat-content"},Hs={class:"stat-value"},Js={class:"stat-card stat-paid"},Ws={class:"stat-content"},Xs={class:"stat-value"},Ys={class:"stat-card stat-due"},Zs={class:"stat-content"},to={class:"stat-value"},so={key:0,class:"keyboard-shortcuts"},oo={class:"modal-header"},eo={class:"modal-body"},no={class:"cash-summary mb-4"},lo={class:"row"},io={class:"col-md-4"},ao={class:"cash-stat-card"},ro={class:"stat-info"},uo={class:"stat-value"},co={class:"col-md-4"},bo={class:"cash-stat-card"},vo={class:"stat-info"},mo={class:"stat-value"},po={class:"col-md-4"},fo={class:"cash-stat-card"},yo={class:"stat-info"},ho={class:"stat-value"},_o={class:"cash-products"},go={key:0,class:"empty-cash"},ko={key:1,class:"cash-products-list"},Co={class:"product-info"},wo={class:"product-name"},qo={class:"text-muted"},xo={class:"product-actions"},$o=["onClick"],Bo={class:"modal-footer"},Io=["disabled"],Po=["disabled"],Mo={__name:"Create",props:{products:Array,customers:Array,defaultCustomer:Object,translations:Object,defaultCurrency:String,categories:Array,todaySales:Object},setup(d){var st,ot;let v=$t(),M=b(!1),h=b(""),g=b(""),q=b(!1),D=b(!1),V=b(null),C=b("featured"),Q=b(!1),m=b(!1),x=b({totalProducts:0,totalValue:0,products:[]}),$=b({orders_count:0,total_sales:0,total_paid:0,total_due:0});const J=b(null),F=b(null),p=d,B=b(((st=p.defaultCustomer)==null?void 0:st.id)||null),I=Bt({customer_id:((ot=p.defaultCustomer)==null?void 0:ot.id)||null,total_amount:0}),i=It([]),_=b(p.products.filter(e=>e.is_featured)),y=b(new Map),z=et(()=>i.reduce((e,t)=>e+t.quantity*t.price,0)),at=et(()=>i.reduce((e,t)=>e+t.quantity,0));R(z,e=>{I.total_amount=e}),R(B,e=>{I.customer_id=e}),R(i,()=>{bt()},{deep:!0});const L=e=>{if(e.quantity<=0){v.warning("المنتج غير متوفر في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0});return}const t=i.find(o=>o.product_id===e.id);t?t.quantity<e.quantity?t.quantity+=1:v.warning("لا توجد كمية كافية في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0}):i.push({product_id:e.id,quantity:1,price:e.price})},rt=e=>{i.splice(e,1)},dt=e=>{const t=i.findIndex(o=>o.product_id===e);t!==-1&&(i.splice(t,1),v.success("تم حذف المنتج من الكاش",{timeout:2e3,position:"bottom-right",rtl:!0}))},ut=()=>{i.length!==0&&it.fire({title:"تأكيد الحذف",text:"هل أنت متأكد من حذف جميع المنتجات من الكاش؟",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"نعم، احذف الكل",cancelButtonText:"إلغاء"}).then(e=>{e.isConfirmed&&(T(),v.success("تم حذف جميع المنتجات من الكاش",{timeout:2e3,position:"bottom-right",rtl:!0}))})},ct=()=>{it.fire({title:"إفراغ ذاكرة التخزين المؤقت",text:"هل تريد إفراغ ذاكرة المنتجات المخزنة؟ (مفيد بعد تعديل المنتجات)",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#6c757d",confirmButtonText:"نعم، إفراغ الكاش",cancelButtonText:"إلغاء"}).then(e=>{e.isConfirmed&&(y.value.clear(),v.success("تم إفراغ ذاكرة المنتجات المؤقتة",{timeout:2e3,position:"bottom-right",rtl:!0}))})},bt=()=>{x.value={totalProducts:i.reduce((e,t)=>e+t.quantity,0),totalValue:i.reduce((e,t)=>e+t.quantity*t.price,0),products:[...i]}},W=(e,t="IQD")=>Math.round(parseFloat(e||0))+" "+t,vt=e=>{const t=i[e];let o=p.products.find(c=>c.id===t.product_id);if(!o){for(const c of y.value.values())if(c.id===t.product_id){o=c;break}}o&&t.quantity<o.quantity?t.quantity+=1:v.warning("لا توجد كمية كافية في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0})},mt=e=>{const t=i[e];t.quantity>1&&(t.quantity-=1)},T=()=>{i.splice(0)},X=()=>{T(),B.value=null,I.customer_id=null,g.value="",h.value="",C.value="featured",V.value=null,_.value=p.products.filter(e=>e.is_featured)},A=lt(async()=>{if(!g.value.trim()){P(C.value);return}try{D.value=!0;const e=await S.get("/api/products-search",{params:{query:g.value.trim()}});e.data&&e.data.length>0?(_.value=e.data,e.data.forEach(t=>{t.barcode&&!y.value.has(t.barcode)&&y.value.set(t.barcode,t)})):(_.value=[],v.info("لا توجد نتائج للبحث",{timeout:2e3,position:"bottom-right",rtl:!0}))}catch(e){console.error("خطأ في البحث:",e),v.error("خطأ في البحث عن المنتجات",{timeout:3e3,position:"bottom-right",rtl:!0}),P(C.value)}finally{D.value=!1}},300),pt=()=>{_.value.length===1&&(L(_.value[0]),g.value="",P(C.value))},ft=e=>{V.value=e},yt=()=>{V.value=null,P(C.value)},P=e=>{C.value=e,e==="featured"?_.value=p.products.filter(t=>t.is_featured):e==="best_selling"&&(_.value=p.products.filter(t=>t.is_best_selling))},Y=e=>{let t=p.products.find(o=>o.id===e);if(!t){for(const o of y.value.values())if(o.id===e){t=o;break}}return t?t.name:""},ht=e=>{let t=p.products.find(o=>o.id===e);if(!t){for(const o of y.value.values())if(o.id===e){t=o;break}}return t?t.model:""},_t=e=>{e.target.src="/dashboard-assets/img/product-placeholder.svg"},gt=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},kt=()=>{v.info("تم تعليق الطلب",{timeout:3e3,position:"bottom-right",rtl:!0})},Ct=()=>{window.print()},Z=()=>{q.value=!0},wt=async()=>{try{const e=await S.get("/api/today-sales");e.data&&($.value=e.data)}catch(e){console.error("Error fetching daily sales:",e)}},qt=async e=>{M.value=!0;const t={total_amount:I.total_amount,total_paid:e.amountDollar??0,customer_id:I.customer_id,date:e.date,notes:e.notes,discount_amount:e.discount_amount??0,discount_rate:e.discount_rate??0,items:i.map(o=>({product_id:o.product_id,quantity:o.quantity,price:o.price}))};try{const o=await S.post("/api/createOrder",t);if(o.status===200||o.status===201){let{id:c,order_id:k}=o.data;v.success("تم حفظ الفاتورة بنجاح",{timeout:3e3,position:"bottom-right",rtl:!0}),e.printInvoice&&window.open(`/api/getIndexAccountsSelas?print=2&transactions_id=${c}&order_id=${k}`,"_blank"),await wt(),T(),g.value="",h.value="",_.value=[...p.products]}}catch{v.error("خطأ أثناء حفظ الفاتورة",{timeout:5e3,position:"bottom-right",rtl:!0})}finally{M.value=!1,q.value=!1}},U=lt(async()=>{if(!h.value)return;const e=h.value.trim();let t=p.products.find(o=>o.barcode===e);if(!t&&y.value.has(e)&&(t=y.value.get(e)),!t)try{const o=await S.get(`/api/products/${e}`);o.data&&o.data.id&&(t=o.data,y.value.set(e,t))}catch(o){o.response&&o.response.status===404?v.warning("المنتج غير موجود",{timeout:3e3,position:"bottom-right",rtl:!0}):v.error("خطأ في البحث عن المنتج",{timeout:3e3,position:"bottom-right",rtl:!0}),h.value="",G(()=>{var c;(c=F.value)==null||c.focus()});return}t&&(L(t),h.value="",G(()=>{var o;(o=F.value)==null||o.focus()}))},500),xt=async e=>{try{const t=await S.get(`/api/check-stock/${e.product_id}`);e.quantity>t.data.available_quantity&&(v.warning(`الكمية المتوفرة فقط: ${t.data.available_quantity}`,{timeout:3e3,position:"bottom-right",rtl:!0}),e.quantity=t.data.available_quantity)}catch(t){console.error("خطأ عند التحقق من المخزون:",t)}},tt=e=>{var t,o;e.key==="F1"&&(e.preventDefault(),(t=J.value)==null||t.focus()),e.key==="F2"&&(e.preventDefault(),(o=F.value)==null||o.focus()),e.key==="F9"&&i.length>0&&B.value&&(e.preventDefault(),Z()),e.key==="Escape"&&(e.preventDefault(),X()),e.key==="F12"&&(e.preventDefault(),Q.value=!Q.value)};return Pt(()=>{document.addEventListener("keydown",tt),p.todaySales&&($.value=p.todaySales),G(()=>{var e;(e=F.value)==null||e.focus()})}),Mt(()=>{document.removeEventListener("keydown",tt)}),(e,t)=>(a(),Vt(Et,{translations:d.translations},{default:Ft(()=>[s("div",Ot,[s("div",jt,[s("h2",Kt,[t[15]||(t[15]=s("i",{class:"bi bi-shop"},null,-1)),u(" "+l(d.translations.invoice),1)]),s("div",Nt,[s("button",{onClick:t[0]||(t[0]=o=>w(m)?m.value=!0:m=!0),class:"btn btn-outline-info"},t[16]||(t[16]=[s("i",{class:"bi bi-cash-coin"},null,-1),u(" إدارة الكاش ")])),s("button",{onClick:X,class:"btn btn-outline-danger"},t[17]||(t[17]=[s("i",{class:"bi bi-trash"},null,-1),u(" مسح الكل ")])),s("button",{onClick:gt,class:"btn btn-outline-primary"},t[18]||(t[18]=[s("i",{class:"bi bi-fullscreen"},null,-1),u(" ملء الشاشة ")]))])])]),s("div",Qt,[s("div",zt,[s("div",Lt,[s("div",Rt,[O(s("input",{ref_key:"searchInput",ref:J,"onUpdate:modelValue":t[1]||(t[1]=o=>w(g)?g.value=o:g=o),type:"text",class:"form-control pos-search-input",placeholder:d.translations.search_by_name_or_barcode,onInput:t[2]||(t[2]=(...o)=>n(A)&&n(A)(...o)),onKeyup:nt(pt,["enter"])},null,40,Gt),[[j,n(g)]]),s("button",{class:"btn btn-primary search-btn",onClick:t[3]||(t[3]=(...o)=>n(A)&&n(A)(...o))},t[19]||(t[19]=[s("i",{class:"bi bi-search"},null,-1)]))]),s("div",Ht,[O(s("input",{ref_key:"barcodeInput",ref:F,"onUpdate:modelValue":t[4]||(t[4]=o=>w(h)?h.value=o:h=o),type:"text",class:"form-control barcode-input",placeholder:d.translations.barcode,onKeyup:[t[5]||(t[5]=(...o)=>n(U)&&n(U)(...o)),t[6]||(t[6]=nt((...o)=>n(U)&&n(U)(...o),["enter"]))]},null,40,Jt),[[j,n(h)]]),t[20]||(t[20]=s("i",{class:"bi bi-upc-scan barcode-icon"},null,-1))])]),s("div",Wt,[s("button",{onClick:t[7]||(t[7]=o=>P("featured")),class:E(["btn","filter-btn",{active:n(C)==="featured"}])},t[21]||(t[21]=[s("i",{class:"bi bi-star-fill"},null,-1),u(" المميزة ")]),2),s("button",{onClick:t[8]||(t[8]=o=>P("best_selling")),class:E(["btn","filter-btn",{active:n(C)==="best_selling"}])},t[22]||(t[22]=[s("i",{class:"bi bi-trophy-fill"},null,-1),u(" الأكثر مبيعاً ")]),2)]),d.categories&&d.categories.length?(a(),r("div",Xt,[(a(!0),r(K,null,N(d.categories,o=>(a(),r("button",{key:o.id,onClick:c=>ft(o.id),class:E(["btn","category-btn",{active:n(V)===o.id}])},l(o.name),11,Yt))),128)),s("button",{onClick:yt,class:E(["btn","category-btn",{active:n(V)===null}])}," الكل ",2)])):f("",!0),s("div",Zt,[(a(!0),r(K,null,N(_.value,o=>(a(),r("div",{key:o.id,onClick:c=>L(o),class:E(["product-card",{"out-of-stock":o.quantity<=0}])},[s("div",ss,[s("img",{src:o.image_url||"/dashboard-assets/img/product-placeholder.svg",alt:o.name,onError:_t},null,40,os),o.quantity<=5?(a(),r("div",es,l(o.quantity),1)):f("",!0)]),s("div",ns,[s("h6",ls,l(o.name),1),s("p",is,l(o.model),1),s("div",as,l(d.defaultCurrency)+" "+l(Math.round(o.price)),1),s("div",rs," المخزون: "+l(o.quantity),1)])],10,ts))),128))]),n(D)?(a(),r("div",ds,t[23]||(t[23]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"جاري التحميل...")],-1)]))):f("",!0),!n(D)&&_.value.length===0?(a(),r("div",us,t[24]||(t[24]=[s("i",{class:"bi bi-box-seam"},null,-1),s("p",null,"لا توجد منتجات",-1)]))):f("",!0)]),s("div",cs,[s("div",bs,[s("label",vs,l(d.translations.client),1),H(n(Tt),{modelValue:B.value,"onUpdate:modelValue":t[9]||(t[9]=o=>B.value=o),options:d.customers,label:"name",reduce:o=>o.id,placeholder:d.translations.select_customer,class:"customer-select"},null,8,["modelValue","options","reduce","placeholder"]),H(Dt,{message:n(I).errors.customer_id},null,8,["message"])]),s("div",ms,[s("div",ps,[s("h5",fs,[t[25]||(t[25]=s("i",{class:"bi bi-cart3"},null,-1)),t[26]||(t[26]=u(" عربة التسوق ")),i.length?(a(),r("span",ys,l(i.length),1)):f("",!0)]),i.length?(a(),r("button",{key:0,onClick:T,class:"btn btn-sm btn-outline-danger"},t[27]||(t[27]=[s("i",{class:"bi bi-trash"},null,-1)]))):f("",!0)]),s("div",hs,[(a(!0),r(K,null,N(i,(o,c)=>(a(),r("div",{key:c,class:"cart-item"},[s("div",_s,[s("h6",gs,l(Y(o.product_id)),1),s("p",ks,l(ht(o.product_id)),1)]),s("div",Cs,[s("div",ws,[s("button",{onClick:k=>mt(c),class:"btn btn-sm btn-outline-secondary",disabled:o.quantity<=1},t[28]||(t[28]=[s("i",{class:"bi bi-dash"},null,-1)]),8,qs),O(s("input",{"onUpdate:modelValue":k=>o.quantity=k,type:"number",min:"1",class:"form-control quantity-input",onInput:k=>xt(o)},null,40,xs),[[j,o.quantity,void 0,{number:!0}]]),s("button",{onClick:k=>vt(c),class:"btn btn-sm btn-outline-secondary"},t[29]||(t[29]=[s("i",{class:"bi bi-plus"},null,-1)]),8,$s)]),s("div",Bs,[O(s("input",{"onUpdate:modelValue":k=>o.price=k,type:"number",min:"0",step:"1",class:"form-control price-input",style:{"min-width":"92px"}},null,8,Is),[[j,o.price,void 0,{number:!0}]])]),s("div",Ps,l(d.defaultCurrency)+" "+l(Math.round(o.quantity*o.price)),1),s("button",{onClick:k=>rt(c),class:"btn btn-sm btn-danger remove-btn"},t[30]||(t[30]=[s("i",{class:"bi bi-x"},null,-1)]),8,Ms)])]))),128))]),i.length===0?(a(),r("div",Vs,t[31]||(t[31]=[s("i",{class:"bi bi-cart-x"},null,-1),s("p",{class:"text-center"},"عربة التسوق فارغة",-1),s("small",{class:"text-center"},"اضغط على المنتجات لإضافتها",-1)]))):f("",!0)]),i.length>0?(a(),r("div",Fs,[s("div",Ss,[t[32]||(t[32]=s("span",null,"عدد الأصناف:",-1)),s("span",null,l(i.length),1)]),s("div",Es,[t[33]||(t[33]=s("span",null,"إجمالي الكمية:",-1)),s("span",null,l(at.value),1)]),s("div",Ds,[t[34]||(t[34]=s("span",null,"الإجمالي:",-1)),s("span",Ts,l(d.defaultCurrency)+" "+l(Math.round(z.value)),1)])])):f("",!0),i.length>0&&B.value?(a(),r("div",As,[s("button",{onClick:Z,class:"btn btn-success btn-lg checkout-btn",disabled:n(M)},[n(M)?f("",!0):(a(),r("i",Os)),n(M)?(a(),r("span",js)):f("",!0),u(" "+l(d.translations.continue),1)],8,Us),s("div",{class:"quick-actions"},[s("button",{onClick:kt,class:"btn btn-outline-warning"},t[35]||(t[35]=[s("i",{class:"bi bi-pause-circle"},null,-1),u(" تعليق ")])),s("button",{onClick:Ct,class:"btn btn-outline-info"},t[36]||(t[36]=[s("i",{class:"bi bi-printer"},null,-1),u(" طباعة ")]))])])):f("",!0)])]),s("div",Ks,[s("div",Ns,[s("div",Qs,[t[38]||(t[38]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-receipt"})],-1)),s("div",zs,[t[37]||(t[37]=s("h6",null,"عدد الفواتير",-1)),s("span",Ls,l(n($).orders_count),1)])]),s("div",Rs,[t[40]||(t[40]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-cash-stack"})],-1)),s("div",Gs,[t[39]||(t[39]=s("h6",null,"إجمالي المبيعات",-1)),s("span",Hs,l(d.defaultCurrency)+" "+l(Math.round(n($).total_sales)),1)])]),s("div",Js,[t[42]||(t[42]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-check-circle"})],-1)),s("div",Ws,[t[41]||(t[41]=s("h6",null,"المدفوع",-1)),s("span",Xs,l(d.defaultCurrency)+" "+l(Math.round(n($).total_paid)),1)])]),s("div",Ys,[t[44]||(t[44]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-exclamation-circle"})],-1)),s("div",Zs,[t[43]||(t[43]=s("h6",null,"المتبقي",-1)),s("span",to,l(d.defaultCurrency)+" "+l(Math.round(n($).total_due)),1)])])])]),H(At,{translations:d.translations,show:n(q),total:z.value,defaultCurrency:d.defaultCurrency,onClose:t[10]||(t[10]=o=>w(q)?q.value=!1:q=!1),onConfirm:qt},null,8,["translations","show","total","defaultCurrency"]),n(Q)?(a(),r("div",so,t[45]||(t[45]=[s("div",{class:"shortcuts-content"},[s("h6",null,"اختصارات لوحة المفاتيح"),s("div",{class:"shortcut-item"},[s("kbd",null,"F1"),u(" - البحث ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"F2"),u(" - الباركود ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"F9"),u(" - الدفع ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"Esc"),u(" - مسح الكل ")])],-1)]))):f("",!0),n(m)?(a(),r("div",{key:1,class:"modal-overlay",onClick:t[14]||(t[14]=o=>w(m)?m.value=!1:m=!1)},[s("div",{class:"modal-content cash-modal",onClick:t[13]||(t[13]=St(()=>{},["stop"]))},[s("div",oo,[t[47]||(t[47]=s("h5",{class:"modal-title"},[s("i",{class:"bi bi-cash-coin"}),u(" إدارة الكاش ")],-1)),s("button",{type:"button",class:"btn-close",onClick:t[11]||(t[11]=o=>w(m)?m.value=!1:m=!1)},t[46]||(t[46]=[s("i",{class:"bi bi-x"},null,-1)]))]),s("div",eo,[s("div",no,[s("div",lo,[s("div",io,[s("div",ao,[t[49]||(t[49]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-box-seam"})],-1)),s("div",ro,[t[48]||(t[48]=s("h6",null,"إجمالي المنتجات",-1)),s("span",uo,l(n(x).totalProducts),1)])])]),s("div",co,[s("div",bo,[t[51]||(t[51]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-currency-dollar"})],-1)),s("div",vo,[t[50]||(t[50]=s("h6",null,"إجمالي القيمة",-1)),s("span",mo,l(W(n(x).totalValue)),1)])])]),s("div",po,[s("div",fo,[t[53]||(t[53]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-database"})],-1)),s("div",yo,[t[52]||(t[52]=s("h6",null,"ذاكرة المنتجات",-1)),s("span",ho,l(y.value.size),1)])])])])]),s("div",_o,[t[56]||(t[56]=s("h6",{class:"mb-3"},[s("i",{class:"bi bi-list-ul"}),u(" المنتجات في الكاش ")],-1)),n(x).products.length===0?(a(),r("div",go,t[54]||(t[54]=[s("i",{class:"bi bi-inbox"},null,-1),s("p",null,"لا توجد منتجات في الكاش",-1)]))):(a(),r("div",ko,[(a(!0),r(K,null,N(n(x).products,o=>(a(),r("div",{key:o.product_id,class:"cash-product-item"},[s("div",Co,[s("h6",wo,l(Y(o.product_id)),1),s("small",qo,"الكمية: "+l(o.quantity)+" × "+l(W(o.price)),1)]),s("div",xo,[s("button",{class:"btn btn-sm btn-outline-danger",onClick:c=>dt(o.product_id),title:"حذف المنتج"},t[55]||(t[55]=[s("i",{class:"bi bi-trash"},null,-1)]),8,$o)])]))),128))]))])]),s("div",Bo,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[12]||(t[12]=o=>w(m)?m.value=!1:m=!1)}," إغلاق "),s("button",{type:"button",class:"btn btn-warning",onClick:ct,disabled:y.value.size===0},t[57]||(t[57]=[s("i",{class:"bi bi-database-dash"},null,-1),u(" إفراغ ذاكرة المنتجات ")]),8,Io),s("button",{type:"button",class:"btn btn-danger",onClick:ut,disabled:n(x).products.length===0},t[58]||(t[58]=[s("i",{class:"bi bi-trash"},null,-1),u(" مسح الكاش بالكامل ")]),8,Po)])])])):f("",!0)]),_:1},8,["translations"]))}},Uo=Ut(Mo,[["__scopeId","data-v-7c159ffd"]]);export{Uo as default};
