import{X as w,m as k,q as V,B as $,o as i,f as l,b as e,g as c,t as o,i as j,s as B,n as m,F as f,x as h,d as L,A as g}from"./app-DfrujaWl.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"gallery-container"},M={class:"gallery-header"},N={class:"header-content"},O={class:"logo-section"},A=["src"],G={class:"company-name"},H={class:"contact-info"},U={key:0,class:"contact-item"},q={key:1,class:"contact-item"},z={key:2,class:"contact-item"},E={class:"filters-section"},P={class:"filters-container"},Q={class:"search-box"},X={class:"filter-buttons"},Y=["onClick"],J={key:0,class:"gallery-grid"},K=["onClick"],R={class:"item-image"},W=["src","alt"],Z={key:0,class:"featured-badge"},ee={key:1,class:"video-indicator"},se={key:0,class:"bi bi-youtube"},te={key:1,class:"bi bi-play-circle-fill"},ie={key:2,class:"images-count"},le={class:"item-content"},ae={class:"item-title"},ne={class:"item-type"},oe={class:"item-price"},ce={class:"price"},re={class:"item-description"},de={key:1,class:"empty-state"},ue={key:2,class:"pagination-container"},me={class:"pagination"},ve=["onClick","disabled","innerHTML"],be={key:3,class:"loading-overlay"},ye={__name:"Gallery",props:{decorations:Object,types:Array,companyInfo:Object,filters:Object},setup(a){w(n=>({"2100bebe":a.companyInfo.primary_color}));const u=a,d=k(!1),v=k(u.filters.search||""),r=V({type:u.filters.type||"",featured:u.filters.featured||"",search:u.filters.search||""});let p=null;const I=()=>{clearTimeout(p),p=setTimeout(()=>{r.search=v.value,y()},500)},b=(n,t)=>{r[n]=t,y()},y=()=>{d.value=!0,g.get(route("public.gallery"),r,{preserveState:!0,preserveScroll:!0,onFinish:()=>{d.value=!1}})},C=n=>{n&&(d.value=!0,g.visit(n,{onFinish:()=>{d.value=!1}}))},T=n=>{g.visit(route("public.decoration.show",n.id))},x=(n,t)=>n?n.length>t?n.substring(0,t)+"...":n:"",F=n=>n?n.includes("youtube.com")||n.includes("youtu.be"):!1;return $(r,()=>{y()},{deep:!0}),(n,t)=>(i(),l("div",D,[e("header",M,[e("div",N,[e("div",O,[a.companyInfo.logo?(i(),l("img",{key:0,src:a.companyInfo.logo,alt:"Logo",class:"logo"},null,8,A)):c("",!0),e("h1",G,o(a.companyInfo.name),1)]),e("div",H,[a.companyInfo.phone?(i(),l("div",U,[t[3]||(t[3]=e("i",{class:"bi bi-telephone"},null,-1)),e("span",null,o(a.companyInfo.phone),1)])):c("",!0),a.companyInfo.email?(i(),l("div",q,[t[4]||(t[4]=e("i",{class:"bi bi-envelope"},null,-1)),e("span",null,o(a.companyInfo.email),1)])):c("",!0),a.companyInfo.address?(i(),l("div",z,[t[5]||(t[5]=e("i",{class:"bi bi-geo-alt"},null,-1)),e("span",null,o(a.companyInfo.address),1)])):c("",!0)])])]),e("div",E,[e("div",P,[e("div",Q,[t[6]||(t[6]=e("i",{class:"bi bi-search"},null,-1)),j(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),onInput:I,placeholder:"البحث في الديكورات...",class:"search-input"},null,544),[[B,v.value]])]),e("div",X,[e("button",{onClick:t[1]||(t[1]=s=>b("type","")),class:m(["filter-btn",{active:!r.type}])}," الكل ",2),(i(!0),l(f,null,h(a.types,s=>(i(),l("button",{key:s.value,onClick:_=>b("type",s.value),class:m(["filter-btn",{active:r.type===s.value}])},o(s.label),11,Y))),128)),e("button",{onClick:t[2]||(t[2]=s=>b("featured",r.featured?"":"1")),class:m(["filter-btn",{active:r.featured}])},t[7]||(t[7]=[e("i",{class:"bi bi-star-fill"},null,-1),L(" مميز ")]),2)])])]),a.decorations.data&&a.decorations.data.length>0?(i(),l("div",J,[(i(!0),l(f,null,h(a.decorations.data,s=>(i(),l("div",{key:s.id,class:"gallery-item",onClick:_=>T(s)},[e("div",R,[e("img",{src:s.thumbnail_url||s.image_url||"/dashboard-assets/img/placeholder.jpg",alt:s.name,class:"main-image"},null,8,W),s.is_featured?(i(),l("div",Z,t[8]||(t[8]=[e("i",{class:"bi bi-star-fill"},null,-1)]))):c("",!0),s.video_url_attribute||s.video_url?(i(),l("div",ee,[F(s.video_url_attribute||s.video_url)?(i(),l("i",se)):(i(),l("i",te))])):c("",!0),s.images&&s.images.length>1?(i(),l("div",ie,[t[9]||(t[9]=e("i",{class:"bi bi-images"},null,-1)),e("span",null,o(s.images.length),1)])):c("",!0)]),e("div",le,[e("h3",ae,o(s.name),1),e("p",ne,o(s.type_name),1),e("div",oe,[e("span",ce,o(s.formatted_price),1)]),e("p",re,o(x(s.description,100)),1)])],8,K))),128))])):(i(),l("div",de,t[10]||(t[10]=[e("div",{class:"empty-icon"},[e("i",{class:"bi bi-image"})],-1),e("h3",null,"لا توجد ديكورات",-1),e("p",null,"لم يتم العثور على ديكورات تطابق معايير البحث",-1)]))),a.decorations.data&&a.decorations.data.length>0?(i(),l("div",ue,[e("nav",me,[(i(!0),l(f,null,h(a.decorations.links,s=>(i(),l("button",{key:s.label,onClick:_=>C(s.url),disabled:!s.url,class:m(["page-btn",{active:s.active}]),innerHTML:s.label},null,10,ve))),128))])])):c("",!0),d.value?(i(),l("div",be,t[11]||(t[11]=[e("div",{class:"loading-spinner"},[e("i",{class:"bi bi-arrow-clockwise"})],-1)]))):c("",!0)]))}},ge=S(ye,[["__scopeId","data-v-b4a41547"]]);export{ge as default};
