import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as l,c as o,b as e,e as u,Q as Y,o as R,K as oe,i as f,w as h,t as d,n as p,u as m,p as b,g as K,s as se,r as _,k as M,L as J,d as X,y as ie,D as B,j as re,m as de,q as ue,F as ce}from"./app-JpJkzmxV.js";const fe={data(){return{darkMode:!1}},created(){this.darkMode=localStorage.getItem("darkMode")==="true",this.darkMode&&document.documentElement.classList.add("dark")},methods:{toggleDarkMode(){this.darkMode=!this.darkMode,this.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",this.darkMode)}},computed:{iconClass(){return this.darkMode?"fas fa-sun":"fas fa-moon"}}},ve={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},pe={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function me(y,n,r,w,c,s){return l(),o("button",{onClick:n[0]||(n[0]=(...t)=>s.toggleDarkMode&&s.toggleDarkMode(...t)),class:"px-2 py-1 rounded-full focus:outline-none dark:text-gray-400"},[c.darkMode?u("",!0):(l(),o("svg",ve,n[1]||(n[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"},null,-1)]))),c.darkMode?(l(),o("svg",pe,n[2]||(n[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"},null,-1)]))):u("",!0)])}const he=N(fe,[["render",me]]),be={id:"sidebar",class:"sidebar bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"},ge={class:"sidebar-nav",id:"sidebar-nav"},we={class:"nav-item"},ye={key:0,class:"nav-item"},ke={key:1,class:"nav-item"},$e={key:2,class:"nav-item"},_e={key:3,class:"nav-item"},Le={key:4,class:"nav-item"},Ce={id:"decorations-nav",class:"nav-content collapse","data-bs-parent":"#sidebar-nav"},We={key:0},Me={key:1},Se={key:5,class:"nav-item"},xe={key:6,class:"nav-item"},Ie={key:7,class:"nav-item"},Ee={key:8,class:"nav-item"},Oe={class:"nav-item"},je={id:"components-nav",class:"nav-content collapse","data-bs-parent":"#sidebar-nav"},Te={key:9,class:"nav-item"},ze={class:"nav-item"},Be={key:10,class:"nav-item"},qe={key:11,class:"nav-item"},Ae={key:12,class:"nav-item"},Ne={name:"Sidebar"},Ve=Object.assign(Ne,{props:{message:String,translations:Object},setup(y){const n=Y(),r=s=>n.props.auth_permissions.includes(s),w=()=>{window.innerWidth<1200&&document.body.classList.remove("toggle-sidebar")},c=s=>{s&&typeof K<"u"&&K.prefetch&&K.prefetch(s)};return R(()=>{oe(()=>{const s=n.url.value;if(s.startsWith("/decorations")||s.startsWith("/decoration-orders")||s.startsWith("/decoration-payments")||s.startsWith("/decoration-monthly-accounting")){const g=document.getElementById("decorations-nav");g&&(g.classList.add("show"),g.classList.remove("collapse"))}document.querySelectorAll("#sidebar .nav-link, #sidebar a[href]").forEach(g=>{g.addEventListener("click",w);const k=g.getAttribute("href");k&&k.startsWith("/")&&!k.startsWith("/logout")&&g.addEventListener("mouseenter",()=>{c(k)},{once:!0})})})}),(s,t)=>(l(),o("aside",be,[e("ul",ge,[e("li",we,[f(m(b),{class:p(["nav-link",{collapsed:s.$page.url!=="/dashboard"}]),href:s.route("dashboard")},{default:h(()=>[t[0]||(t[0]=e("i",{class:"bi bi-grid"},null,-1)),e("span",null,d(y.translations.dashboard),1)]),_:1},8,["href","class"])]),r("read order")?(l(),o("li",ye,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/orders")}]),href:s.route("orders.index")},{default:h(()=>[t[1]||(t[1]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,d(y.translations.orders),1)]),_:1},8,["href","class"])])):u("",!0),r("read product")?(l(),o("li",ke,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/products")}]),href:s.route("products.index")},{default:h(()=>[t[2]||(t[2]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,d(y.translations.products),1)]),_:1},8,["href","class"])])):u("",!0),r("read product")?(l(),o("li",$e,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/barcode")}]),href:s.route("barcode.index")},{default:h(()=>[t[3]||(t[3]=e("i",{class:"bi bi-qr-code"},null,-1)),e("span",null,d(y.translations.barcode_generation),1)]),_:1},8,["href","class"])])):u("",!0),r("read category")?(l(),o("li",_e,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/categories")}]),href:s.route("categories.index")},{default:h(()=>t[4]||(t[4]=[e("i",{class:"bi bi-tags"},null,-1),e("span",null,"Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª",-1)])),_:1},8,["href","class"])])):u("",!0),r("read decoration")?(l(),o("li",Le,[e("a",{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/decorations")&&!s.$page.url.startsWith("/decoration-orders")&&!s.$page.url.startsWith("/decoration-payments")&&!s.$page.url.startsWith("/decoration-monthly-accounting")}]),"data-bs-target":"#decorations-nav","data-bs-toggle":"collapse",href:"#"},[t[5]||(t[5]=e("i",{class:"bi bi-palette"},null,-1)),e("span",null,d(y.translations.decorations),1),t[6]||(t[6]=e("i",{class:"bi bi-chevron-down ms-auto"},null,-1))],2),e("ul",Ce,[e("li",null,[f(m(b),{href:s.route("decorations.dashboard"),class:p({collapsed:!s.$page.url.startsWith("/decorations-dashboard")})},{default:h(()=>[t[7]||(t[7]=e("i",{class:"bi bi-circle"},null,-1)),e("span",null,d(y.translations.decorations_dashboard),1)]),_:1},8,["href","class"])]),e("li",null,[f(m(b),{href:s.route("decorations.orders"),class:p({collapsed:!s.$page.url.startsWith("/decorations-orders")})},{default:h(()=>[t[8]||(t[8]=e("i",{class:"bi bi-circle"},null,-1)),e("span",null,d(y.translations.decoration_orders),1)]),_:1},8,["href","class"])]),r("read payment")?(l(),o("li",We,[f(m(b),{href:s.route("decoration.payments"),class:p({collapsed:!s.$page.url.startsWith("/decoration-payments")})},{default:h(()=>t[9]||(t[9]=[e("i",{class:"bi bi-circle"},null,-1),e("span",null,"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª",-1)])),_:1},8,["href","class"])])):u("",!0),r("read monthly_accounting")?(l(),o("li",Me,[f(m(b),{href:s.route("decoration.monthly.accounting"),class:p({collapsed:!s.$page.url.startsWith("/decoration-monthly-accounting")})},{default:h(()=>t[10]||(t[10]=[e("i",{class:"bi bi-circle"},null,-1),e("span",null,"Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©",-1)])),_:1},8,["href","class"])])):u("",!0)])])):u("",!0),r("read boxes")?(l(),o("li",Se,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/boxes")}]),href:s.route("boxes.index")},{default:h(()=>[t[11]||(t[11]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,d(y.translations.boxes),1)]),_:1},8,["href","class"])])):u("",!0),r("read supplier")?(l(),o("li",xe,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/customers")}]),href:s.route("customers.index")},{default:h(()=>[t[12]||(t[12]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,d(y.translations.customers),1)]),_:1},8,["href","class"])])):u("",!0),r("read supplier")?(l(),o("li",Ie,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/suppliers")}]),href:s.route("suppliers.index")},{default:h(()=>[t[13]||(t[13]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,d(y.translations.suppliers),1)]),_:1},8,["href","class"])])):u("",!0),r("read users")?(l(),o("li",Ee,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/users")}]),href:s.route("users.index")},{default:h(()=>[t[14]||(t[14]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,d(y.translations.users),1)]),_:1},8,["href","class"])])):u("",!0),e("li",Oe,[e("a",{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/roles")&&!s.$page.url.startsWith("/permissions")}]),"data-bs-target":"#components-nav","data-bs-toggle":"collapse",href:"#"},[t[15]||(t[15]=e("i",{class:"bi bi-lock"},null,-1)),e("span",null,d(y.translations.roles_control),1),t[16]||(t[16]=e("i",{class:"bi bi-chevron-down ms-auto"},null,-1))],2),e("ul",je,[e("li",null,[f(m(b),{href:s.route("roles.index"),class:p({collapsed:!s.$page.url.startsWith("/roles")})},{default:h(()=>[t[17]||(t[17]=e("i",{class:"bi bi-circle"},null,-1)),e("span",null,d(y.translations.roles),1)]),_:1},8,["href","class"])]),e("li",null,[f(m(b),{href:s.route("permissions.index"),class:p({collapsed:!s.$page.url.startsWith("/permissions")})},{default:h(()=>[t[18]||(t[18]=e("i",{class:"bi bi-circle"},null,-1)),e("span",null,d(y.translations.permissions),1)]),_:1},8,["href","class"])])])]),r("read logs")?(l(),o("li",Te,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/logs")}]),href:s.route("logs")},{default:h(()=>[t[19]||(t[19]=e("i",{class:"bi bi-database"},null,-1)),e("span",null,d(y.translations.logs),1)]),_:1},8,["href","class"])])):u("",!0),e("li",ze,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/admin/migrations")}]),href:s.route("admin.migrations")},{default:h(()=>t[20]||(t[20]=[e("i",{class:"bi bi-gear"},null,-1),e("span",null,"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙŠØ´Ù†Ø§Øª",-1)])),_:1},8,["href","class"])]),r("read system_config")?(l(),o("li",Be,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/system-config")}]),href:s.route("system-config.index")},{default:h(()=>[t[21]||(t[21]=e("i",{class:"bi bi-gear-fill"},null,-1)),e("span",null,d(y.translations.system_settings),1)]),_:1},8,["href","class"])])):u("",!0),r("read reports")?(l(),o("li",qe,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/reports")}]),href:s.route("reports.index")},{default:h(()=>t[22]||(t[22]=[e("i",{class:"bi bi-graph-up"},null,-1),e("span",null,"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",-1)])),_:1},8,["href","class"])])):u("",!0),r("read expenses")?(l(),o("li",Ae,[f(m(b),{class:p(["nav-link",{collapsed:!s.$page.url.startsWith("/expenses")}]),href:s.route("expenses.index")},{default:h(()=>t[23]||(t[23]=[e("i",{class:"bi bi-receipt"},null,-1),e("span",null,"Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ",-1)])),_:1},8,["href","class"])])):u("",!0)])]))}}),te=N(Ve,[["__scopeId","data-v-6f7135cf"]]),De={class:"container"},Ue={class:"status-content"},Qe={class:"status-icon"},Fe={key:0,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Pe={key:1,class:"status-emoji"},Re={class:"status-message"},He={class:"message-text"},Ge={key:0,class:"pending-badge"},Ke={key:0,class:"progress-info"},Ye={class:"status-actions"},Je=["disabled"],Xe={key:0},Ze={key:1},es={key:0,class:"progress-bar"},ss={__name:"SyncStatusBar",setup(y){const n=se(),r=_(!1),w=_(navigator.onLine),c=_(!1),s=_(0),t=_(0),g=_(0),k=_(!1),L=_(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),S=M(()=>w.value&&s.value>0&&!c.value),v=M(()=>g.value===0?0:Math.round(t.value/g.value*100)),T=M(()=>c.value?"syncing":w.value?s.value>0?"pending":"online":"offline"),q=M(()=>w.value?s.value>0?"â³":"âœ…":"ðŸ“´"),H=M(()=>c.value?`Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©... ${v.value}%`:w.value?s.value>0?`${s.value} Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©`:"ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ø­Ø¯Ù‘Ø«":"ØºÙŠØ± Ù…ØªØµÙ„ - ÙˆØ¶Ø¹ Offline Ù…ÙØ¹Ù‘Ù„"),W=async()=>{try{if(!w.value){r.value=!0;return}try{const i=await B.get("/api/sync-monitor/metadata");if(i.data.success){const a=i.data.queue_stats||{};s.value=a.pending||0,(s.value>0||!w.value)&&!k.value?r.value=!0:s.value===0&&w.value&&(r.value=!1)}}catch(i){console.error("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:",i),r.value=!1}}catch(i){console.error("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:",i)}},V=async()=>{var i,a,C;if(S.value){c.value=!0,t.value=0,g.value=s.value;try{const $=await B.post("/api/sync-monitor/smart-sync",{limit:100});if(!$.data||!$.data.success)throw new Error(((i=$.data)==null?void 0:i.message)||"ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©");const z=$.data.job_id;n.info("ðŸ”„ ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©...");const j=setInterval(async()=>{try{const I=await B.get("/api/sync-monitor/sync-status",{params:{job_id:z}});if(I.data&&I.data.success){const x=I.data.status;if(x.synced!==void 0&&(t.value=x.synced||0),x.total_processed!==void 0&&(g.value=x.total_processed||s.value),x.status==="completed"){clearInterval(j),c.value=!1;const E=x.synced||0,O=x.failed||0;await W(),O===0&&s.value===0?(n.success(`âœ… ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© ${E} Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!`),r.value=!1):E>0?n.warning(`âš ï¸ ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© ${E} Ø¹Ù…Ù„ÙŠØ©ØŒ ÙØ´Ù„ ${O}ØŒ Ù…ØªØ¨Ù‚ÙŠ ${s.value}`):n.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©")}if(x.status==="failed"){clearInterval(j),c.value=!1;const E=x.error||"ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©";n.error("âŒ "+E),await W()}}else I.data&&I.data.status==="not_found"&&(clearInterval(j),c.value=!1,await W(),s.value===0&&(n.success("âœ… ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­!"),r.value=!1))}catch(I){console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:",I)}},1e3);setTimeout(()=>{clearInterval(j),c.value&&(c.value=!1,n.warning("â±ï¸ Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©. Ù‚Ø¯ ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù„Ø§ ØªØ²Ø§Ù„ Ø¬Ø§Ø±ÙŠØ© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©."),W())},6e5)}catch($){console.error("ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:",$);const z=((C=(a=$.response)==null?void 0:a.data)==null?void 0:C.message)||$.message||"ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©";z.includes("MySQL ØºÙŠØ± Ù…ØªØ§Ø­")||z.includes("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„")?n.error("âŒ MySQL ØºÙŠØ± Ù…ØªØ§Ø­ - Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±."):n.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©: "+z),t.value=0,g.value=s.value}finally{c.value=!1,await W()}}},G=()=>{k.value=!0,r.value=!1,setTimeout(()=>{k.value=!1,W()},6e4)},A=()=>{w.value=!0,k.value=!1,W(),setTimeout(()=>{s.value>0&&V()},2e3)},D=()=>{w.value=!1,r.value=!0},U=()=>{var i;if(window.switchToLocal)window.switchToLocal();else{const a=((i=window.connectionInfo)==null?void 0:i.local_url)||"http://127.0.0.1:8000/";window.location.href=a}},Q=()=>{var i;if(window.switchToOnline)window.switchToOnline();else{const a=((i=window.connectionInfo)==null?void 0:i.online_url)||"https://system.intellijapp.com/dashboard";window.location.href=a}};return R(()=>{W(),window.addEventListener("online",A),window.addEventListener("offline",D);const i=setInterval(W,5e3);J(()=>{window.removeEventListener("online",A),window.removeEventListener("offline",D),clearInterval(i)})}),(i,a)=>r.value?(l(),o("div",{key:0,class:p(["sync-status-bar",T.value])},[e("div",De,[e("div",Ue,[e("div",Qe,[c.value?(l(),o("svg",Fe,a[0]||(a[0]=[e("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)]))):(l(),o("span",Pe,d(q.value),1))]),e("div",Re,[e("span",He,d(H.value),1),s.value>0?(l(),o("span",Ge,d(s.value),1)):u("",!0)]),c.value&&v.value>0?(l(),o("div",Ke,d(t.value)+" / "+d(g.value),1)):u("",!0),e("div",Ye,[L.value?(l(),o("button",{key:0,onClick:Q,class:"btn-switch",title:"Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±"}," ðŸŒ Online ")):u("",!0),L.value?u("",!0):(l(),o("button",{key:1,onClick:U,class:"btn-switch",title:"Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù„ÙˆÙƒÙ„"}," ðŸ’» Local ")),S.value?(l(),o("button",{key:2,onClick:V,class:"btn-sync",disabled:c.value,title:"Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ© - Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ù† sync_queue Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±"},[c.value?(l(),o("span",Ze,"â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...")):(l(),o("span",Xe,"ðŸ”„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©"))],8,Je)):u("",!0),f(m(b),{href:i.route("sync-monitor.index"),class:"btn-details"},{default:h(()=>a[1]||(a[1]=[X(" ðŸ“Š Ø§Ù„ØªÙØ§ØµÙŠÙ„ ")])),_:1},8,["href"]),e("button",{onClick:G,class:"btn-close"}," âœ• ")])]),c.value?(l(),o("div",es,[e("div",{class:"progress-fill",style:ie({width:v.value+"%"})},null,4)])):u("",!0)])],2)):u("",!0)}},ae=N(ss,[["__scopeId","data-v-6b373022"]]),ts={class:"wifi-icon-container"},as=["title"],ns={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},ls={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},os={class:"menu-status"},is={class:"status-item"},rs={class:"status-item"},ds={class:"menu-actions"},us=["disabled"],cs=["disabled"],fs=["disabled"],vs={key:0},ps={key:1},ms=["disabled"],hs={key:0},bs={key:1},gs={class:"menu-footer"},ws={__name:"WiFiIcon",setup(y){const n=se(),r=_(!1),w=_(navigator.onLine),c=_(!0),s=_(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),t=_(!1),g=_(!1),k=_(!1),L=M(()=>w.value&&c.value),S=M(()=>L.value?s.value?"Local - Ø§Ø¶ØºØ· Ù„Ù„ØªØ¨Ø¯ÙŠÙ„":"Online - Ø§Ø¶ØºØ· Ù„Ù„ØªØ¨Ø¯ÙŠÙ„":"ØºÙŠØ± Ù…ØªØµÙ„ - Ø§Ø¶ØºØ· Ù„Ù„ØªØ¨Ø¯ÙŠÙ„"),v=()=>{r.value=!r.value},T=()=>{r.value=!1},q=()=>{var i;if(window.switchToLocal)window.switchToLocal();else{const a=((i=window.connectionInfo)==null?void 0:i.local_url)||"http://127.0.0.1:8000/";window.location.href=a}},H=()=>{var i;if(window.switchToOnline)window.switchToOnline();else{const a=((i=window.connectionInfo)==null?void 0:i.online_url)||"https://system.intellijapp.com/dashboard";window.location.href=a}},W=async(i=!1)=>{var a;try{const C=await B.get("/api/sync-monitor/sync-health",{timeout:5e3,withCredentials:!0});return c.value=((a=C.data)==null?void 0:a.success)!==!1,i&&(c.value?n.success("âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ù…ØªØ§Ø­"):n.warning("âš ï¸ Ø§Ù„Ø³ÙŠØ±ÙØ± ØºÙŠØ± Ù…ØªØ§Ø­")),c.value}catch{return c.value=!1,i&&n.error("âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±"),!1}},V=async()=>{await W(!0),window.checkConnectionManually&&window.checkConnectionManually(),T()},G=async()=>{var i,a,C;if(!L.value||!s.value)return n.warning("ØºÙŠØ± Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø£Ùˆ ØºÙŠØ± Ù…ØªØ§Ø­ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ù„ÙŠ"),!1;g.value=!0;try{n.info("ðŸ”„ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©...",{timeout:3e3});const $=await B.post("/api/sync-monitor/smart-sync",{limit:1e3},{withCredentials:!0});if(!$.data||!$.data.success)throw new Error(((i=$.data)==null?void 0:i.message)||"ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©");const z=$.data.job_id;return new Promise(j=>{let I=0;const x=120,E=setInterval(async()=>{I++;try{const O=await B.get("/api/sync-monitor/sync-status",{params:{job_id:z}},{withCredentials:!0});if(O.data&&O.data.success){const F=O.data.status;if(F.status==="completed"){clearInterval(E),g.value=!1;const le=F.synced||0;n.success(`âœ… ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©: ${le} Ø³Ø¬Ù„`),j(!0)}else F.status==="failed"&&(clearInterval(E),g.value=!1,n.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©: "+(F.error||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ")),j(!1))}else O.data&&O.data.status==="not_found"&&(clearInterval(E),g.value=!1,n.success("âœ… ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©"),j(!0))}catch(O){console.error("Error checking sync status:",O)}I>=x&&(clearInterval(E),g.value=!1,n.warning("â±ï¸ Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± - Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù‚Ø¯ ØªØ³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©"),j(!0))},1e3)})}catch($){return console.error("Error in smart sync:",$),n.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©: "+(((C=(a=$.response)==null?void 0:a.data)==null?void 0:C.message)||$.message)),g.value=!1,!1}},A=async()=>{var i,a;if(!L.value||!s.value)return n.warning("ØºÙŠØ± Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø£Ùˆ ØºÙŠØ± Ù…ØªØ§Ø­ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ù„ÙŠ"),!1;t.value=!0;try{n.info("ðŸ”„ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±...",{timeout:3e3});const C=await B.post("/api/sync-monitor/sync-from-server",{table_name:"orders",limit:1e3},{withCredentials:!0});return C.data.success?(n.success(`âœ… ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©: ${C.data.synced||0} Ø³Ø¬Ù„ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±`),!0):(n.error(C.data.message||"ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±"),!1)}catch(C){return console.error("Error syncing from server:",C),n.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©: "+(((a=(i=C.response)==null?void 0:i.data)==null?void 0:a.message)||C.message)),!1}finally{t.value=!1}},D=async()=>{if(!L.value||!s.value){n.warning("ØºÙŠØ± Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø£Ùˆ ØºÙŠØ± Ù…ØªØ§Ø­ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ù„ÙŠ");return}if(!k.value){k.value=!0;try{n.info("âš¡ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©...",{timeout:3e3}),await G()||n.warning("âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©ØŒ Ø³ÙŠØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±..."),await A(),n.success("âœ… Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©")}catch(i){console.error("Error in quick sync:",i),n.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©: "+(i.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"))}finally{k.value=!1,T()}}},U=async()=>{w.value=!0,await W(!1)},Q=()=>{w.value=!1,c.value=!1};return R(()=>{window.addEventListener("online",U),window.addEventListener("offline",Q),W(!1);const i=()=>{s.value=window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")};window.addEventListener("focus",i);const a=setInterval(()=>{w.value&&W(!1)},3e4);J(()=>{window.removeEventListener("online",U),window.removeEventListener("offline",Q),window.removeEventListener("focus",i),clearInterval(a)})}),(i,a)=>(l(),o("div",ts,[e("button",{onClick:v,class:p(["wifi-icon",{online:L.value,offline:!L.value}]),title:S.value},[L.value?(l(),o("svg",ns,a[2]||(a[2]=[e("path",{d:"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.07 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"},null,-1)]))):(l(),o("svg",ls,a[3]||(a[3]=[e("path",{d:"M23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7L12 21.5 23.64 7zM3.42 2.36L2.01 3.78 4.1 5.87C2.79 7.57 1.74 9.42 1.11 11.3l1.78 1.78c.88-1.9 2.02-3.6 3.33-5.01L8.9 9.98c-1.09 1.29-1.98 2.78-2.66 4.4l1.78 1.78c.84-1.75 2.01-3.31 3.38-4.64l2.01 2.01c-1.37 1.37-2.54 2.89-3.38 4.64l1.78 1.78c.68-1.62 1.57-3.11 2.66-4.4l2.13 2.13c1.31 1.41 2.45 3.11 3.33 5.01l1.78-1.78c-.63-1.88-1.68-3.73-2.99-5.43l2.12 2.12 1.41-1.41L3.42 2.36z"},null,-1)])))],10,as),r.value?(l(),o("div",{key:0,class:"wifi-menu",onClick:a[1]||(a[1]=re(()=>{},["stop"]))},[e("div",{class:"menu-header"},[a[4]||(a[4]=e("span",{class:"menu-title"},"âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„",-1)),e("button",{onClick:T,class:"menu-close"},"âœ•")]),e("div",os,[e("div",is,[a[5]||(a[5]=e("span",{class:"status-label"},"Ø§Ù„Ø­Ø§Ù„Ø©:",-1)),e("span",{class:p(["status-value",L.value?"online":"offline"])},d(L.value?"ðŸŸ¢ Ù…ØªØµÙ„":"ðŸ”´ ØºÙŠØ± Ù…ØªØµÙ„"),3)]),e("div",rs,[a[6]||(a[6]=e("span",{class:"status-label"},"Ø§Ù„Ù…ÙˆÙ‚Ø¹:",-1)),e("span",{class:p(["status-value",s.value?"local":"online"])},d(s.value?"ðŸ’» Local":"ðŸŒ Online"),3)])]),e("div",ds,[e("button",{onClick:q,class:p(["menu-btn",{active:s.value}]),disabled:s.value}," ðŸ’» Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Local ",10,us),e("button",{onClick:H,class:p(["menu-btn",{active:!s.value}]),disabled:!s.value}," ðŸŒ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Online ",10,cs),s.value&&L.value?(l(),o("button",{key:0,onClick:D,class:"menu-btn quick-sync-btn",disabled:k.value||g.value||t.value},[k.value?(l(),o("span",ps,"â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...")):(l(),o("span",vs,"âš¡ Ù…Ø²Ø§Ù…Ù†Ø© Ø³Ø±ÙŠØ¹Ø©"))],8,fs)):u("",!0),s.value&&L.value?(l(),o("button",{key:1,onClick:a[0]||(a[0]=()=>{A().then(()=>T())}),class:"menu-btn sync-btn",disabled:t.value||k.value},[t.value?(l(),o("span",bs,"â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...")):(l(),o("span",hs,"ðŸ“¥ Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±"))],8,ms)):u("",!0),e("button",{onClick:V,class:"menu-btn check-btn"}," ðŸ”„ ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ ")]),e("div",gs,[f(m(b),{href:i.route("sync-monitor.index"),class:"menu-link"},{default:h(()=>a[7]||(a[7]=[X(" ðŸ“Š ØµÙØ­Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ")])),_:1},8,["href"])])])):u("",!0),r.value?(l(),o("div",{key:1,class:"menu-overlay",onClick:T})):u("",!0)]))}},ne=N(ws,[["__scopeId","data-v-0f1659a5"]]),ys={id:"header",class:"header fixed-top d-flex align-items-center justify-content-between bg-gray-100 dark:bg-gray-800"},ks={class:"d-flex align-items-center"},$s=["src"],_s={class:"d-none d-lg-block dark:text-white"},Ls={class:"header-nav ms-auto text-gray-600 dark:text-gray-400"},Cs={class:"d-flex align-items-center text-gray-600 dark:text-gray-400"},Ws={class:"nav-item dropdown text-gray-600 dark:text-gray-400"},Ms={value:"",selected:""},Ss={class:"nav-item text-gray-600 dark:text-gray-400"},xs={class:"nav-item dropdown text-gray-600 dark:text-gray-400"},Is={class:"badge bg-primary badge-number"},Es={class:"nav-item dropdown pe-3 text-gray-600 dark:text-gray-400"},Os={class:"nav-link nav-profile d-flex align-items-center pe-0",href:"#","data-bs-toggle":"dropdown"},js=["src"],Ts={class:"d-none d-md-block dropdown-toggle ps-2 dark:text-white"},zs={class:"dropdown-menu dropdown-menu-end dropdown-menu-arrow profile text-gray-600 dark:text-gray-400"},Bs={class:"dropdown-header"},qs={class:"dark:text-white"},As={class:"dark:text-white"},Ns=["href"],Vs={id:"main",class:"main bg-gray-100 dark:bg-gray-800"},Ds={key:0,class:"alert alert-success bg-success text-light border-0 alert-dismissible fade show",role:"alert"},Z=Y(),ee=M(()=>Z.props.flash.success),P=M(()=>Z.props.auth),Us=M(()=>Math.min(Z.props.auth.notificationCount,9)),Qs={components:{Sidebar:te,SyncStatusBar:ae,WiFiIcon:ne},data(){return{parentMessage:"Hello from Parent"}}},Fs=Object.assign(Qs,{__name:"AuthenticatedLayout",props:{translations:Object},setup(y){const n=Y();_(!1);const r=_(!1),w=M(()=>window.translations||{}),c=M(()=>n.props.company_name||"WEDOO EVENTS"),s=M(()=>n.props.company_logo||"dashboard-assets/img/WEDOO  LOGO PNG.webp"),t=()=>{r.value=!r.value,r.value?document.body.classList.add("toggle-sidebar"):document.body.classList.remove("toggle-sidebar")},g=()=>{r.value=!1,document.body.classList.remove("toggle-sidebar")},k=()=>{window.innerWidth>=1200&&(r.value=!1,document.body.classList.remove("toggle-sidebar"))};R(()=>{window.addEventListener("resize",k),window.innerWidth<1200&&(document.body.classList.remove("toggle-sidebar"),r.value=!1)}),J(()=>{window.removeEventListener("resize",k)});const L=S=>{const v=S.target.value,q=`${window.location.origin}/lang/change?lang=${v}`;window.location.href=q};return(S,v)=>(l(),o(ce,null,[e("header",ys,[e("div",ks,[e("button",{onClick:t,class:"mobile-menu-toggle d-lg-none btn btn-link p-0 text-gray-600 dark:text-gray-400 me-3",type:"button","aria-label":"Toggle sidebar"},v[0]||(v[0]=[e("i",{class:"bi bi-list fs-3"},null,-1)])),f(m(b),{class:"logo d-flex align-items-center",href:S.route("dashboard")},{default:h(()=>[e("img",{src:`/${s.value}`,alt:""},null,8,$s),e("span",_s,d(c.value),1)]),_:1},8,["href"])]),e("nav",Ls,[e("ul",Cs,[e("li",Ws,[e("select",{class:"form-control changeLang",onChange:L},[e("option",Ms,d(w.value.language||"Ø§Ù„Ù„ØºØ©")+" ðŸŒ ",1),v[1]||(v[1]=e("option",{value:"en"}," English",-1)),v[2]||(v[2]=e("option",{value:"ar"},"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",-1))],32)]),e("li",Ss,[f(he)]),e("li",xs,[f(m(b),{class:"nav-link nav-icon",href:S.route("notification.index")},{default:h(()=>[v[3]||(v[3]=e("i",{class:"bi bi-bell"},null,-1)),e("span",Is,d(Us.value),1)]),_:1},8,["href"]),v[4]||(v[4]=de('<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications" data-v-b0f72f5f><li class="dropdown-header" data-v-b0f72f5f> You have 4 new notifications <a href="#" data-v-b0f72f5f><span class="badge rounded-pill bg-primary p-2 ms-2" data-v-b0f72f5f>View all</span></a></li><li data-v-b0f72f5f><hr class="dropdown-divider" data-v-b0f72f5f></li><li class="notification-item" data-v-b0f72f5f><i class="bi bi-exclamation-circle text-warning" data-v-b0f72f5f></i><div data-v-b0f72f5f><h4 data-v-b0f72f5f>Lorem Ipsum</h4><p data-v-b0f72f5f>Quae dolorem earum veritatis oditseno</p><p data-v-b0f72f5f>30 min. ago</p></div></li><li data-v-b0f72f5f><hr class="dropdown-divider" data-v-b0f72f5f></li><li class="notification-item" data-v-b0f72f5f><i class="bi bi-x-circle text-danger" data-v-b0f72f5f></i><div data-v-b0f72f5f><h4 data-v-b0f72f5f>Atque rerum nesciunt</h4><p data-v-b0f72f5f>Quae dolorem earum veritatis oditseno</p><p data-v-b0f72f5f>1 hr. ago</p></div></li><li data-v-b0f72f5f><hr class="dropdown-divider" data-v-b0f72f5f></li><li class="notification-item" data-v-b0f72f5f><i class="bi bi-check-circle text-success" data-v-b0f72f5f></i><div data-v-b0f72f5f><h4 data-v-b0f72f5f>Sit rerum fuga</h4><p data-v-b0f72f5f>Quae dolorem earum veritatis oditseno</p><p data-v-b0f72f5f>2 hrs. ago</p></div></li><li data-v-b0f72f5f><hr class="dropdown-divider" data-v-b0f72f5f></li><li class="notification-item" data-v-b0f72f5f><i class="bi bi-info-circle text-primary" data-v-b0f72f5f></i><div data-v-b0f72f5f><h4 data-v-b0f72f5f>Dicta reprehenderit</h4><p data-v-b0f72f5f>Quae dolorem earum veritatis oditseno</p><p data-v-b0f72f5f>4 hrs. ago</p></div></li><li data-v-b0f72f5f><hr class="dropdown-divider" data-v-b0f72f5f></li><li class="dropdown-footer" data-v-b0f72f5f><a href="#" data-v-b0f72f5f>Show all notifications</a></li></ul>',1))]),e("li",Es,[e("a",Os,[e("img",{src:P.value.avatar_url||"/dashboard-assets/img/profile-img.jpg",alt:"Profile",class:"rounded-circle",style:{width:"32px",height:"32px","object-fit":"cover"}},null,8,js),e("span",Ts,d(P.value.name),1)]),e("ul",zs,[e("li",Bs,[e("h6",qs,d(P.value.name),1),e("span",As,d(P.value.email),1)]),v[7]||(v[7]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),e("li",null,[e("a",{class:"dropdown-item d-flex align-items-center dark:text-white",href:S.route("profile.edit")},[v[5]||(v[5]=e("i",{class:"bi bi-person"},null,-1)),e("span",null,d(w.value.my_profile||"Ø­Ø³Ø§Ø¨ÙŠ Ø§Ù„Ø´Ø®ØµÙŠ"),1)],8,Ns)]),v[8]||(v[8]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),e("li",null,[f(m(b),{href:S.route("logout"),method:"post",as:"button",class:"dropdown-item d-flex align-items-center"},{default:h(()=>[v[6]||(v[6]=e("i",{class:"bi bi-box-arrow-right"},null,-1)),e("span",null,d(w.value.log_out||"ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬"),1)]),_:1},8,["href"])])])])])])]),r.value?(l(),o("div",{key:0,onClick:g,class:"sidebar-overlay d-lg-none"})):u("",!0),f(te,{translations:w.value,permissions:m(n).props.Permissions},null,8,["translations","permissions"]),e("main",Vs,[ee.value?(l(),o("div",Ds,[X(d(ee.value)+" ",1),v[9]||(v[9]=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))])):u("",!0),e("main",null,[ue(S.$slots,"default",{},void 0,!0)])]),f(ae),f(ne)],64))}}),Hs=N(Fs,[["__scopeId","data-v-b0f72f5f"]]);export{Hs as A};
