import{r as S,B as N,a as n,c as T,w as b,b as t,i as p,d as _,t as l,u as v,p as f,l as h,A as U,e as d,g as y,F as g,y as x,f as I,n as A,h as B}from"./app-DRzDNF4B.js";import{_ as E}from"./AuthenticatedLayout-BqMLf6Qf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"pagetitle dark:text-white"},z={class:"breadcrumb"},P={class:"breadcrumb-item"},Q={class:"section dashboard"},q={class:"row mb-4"},G={class:"col-xl-3 col-md-6"},J={class:"card info-card revenue-card"},K={class:"card-body"},R={class:"d-flex align-items-center"},W={class:"ps-3"},X={class:"col-xl-3 col-md-6"},Y={class:"card info-card sales-card"},Z={class:"card-body"},tt={class:"d-flex align-items-center"},st={class:"ps-3"},et={class:"col-xl-3 col-md-6"},lt={class:"card info-card customers-card"},at={class:"card-body"},ot={class:"d-flex align-items-center"},it={class:"ps-3"},nt={class:"col-xl-3 col-md-6"},dt={class:"card info-card revenue-card"},rt={class:"card-body"},ct={class:"d-flex align-items-center"},ut={class:"ps-3"},mt={class:"card"},bt={class:"card-header"},vt={class:"d-flex justify-content-between align-items-center"},ft={class:"card-body"},ht={class:"row mb-3"},pt={class:"col-md-3"},_t=["value"],yt={class:"col-md-3"},gt={class:"col-md-3"},xt={class:"col-md-3"},wt={class:"table-responsive"},kt={class:"table table-striped"},jt={scope:"row"},Ct={key:0,class:"text-muted small"},Vt={class:"badge bg-primary"},Dt={class:"text-danger fw-bold"},Ft={class:"d-flex gap-1"},Lt=["onClick"],Mt={class:"d-flex justify-content-center mt-3"},Tt={class:"pagination"},Bt=["innerHTML"],Ut={__name:"Index",props:{expenses:Object,categories:Object,statistics:Object,filters:Object,translations:Object},setup(a){var w,k,j,C;const c=a,o=S({category:((w=c.filters)==null?void 0:w.category)||"",start_date:((k=c.filters)==null?void 0:k.start_date)||"",end_date:((j=c.filters)==null?void 0:j.end_date)||"",search:((C=c.filters)==null?void 0:C.search)||""}),r=()=>{B.get(route("expenses.index"),o.value,{preserveState:!0,replace:!0})},u=(i,s="IQD")=>parseFloat(i||0).toFixed(2)+" "+s,H=i=>i?new Date(i).toLocaleDateString("ar-SA"):"-",O=i=>{confirm("هل أنت متأكد من حذف هذا المصروف؟")&&B.delete(route("expenses.destroy",i))};return N(o,()=>{r()},{deep:!0}),(i,s)=>(n(),T(E,{translations:a.translations},{default:b(()=>{var V,D,F,L;return[t("div",$,[s[5]||(s[5]=t("h1",{class:"dark:text-white"},"إدارة المصاريف",-1)),t("nav",null,[t("ol",z,[t("li",P,[p(v(f),{class:"nav-link dark:text-white",href:i.route("dashboard")},{default:b(()=>[_(l(a.translations.Home),1)]),_:1},8,["href"])]),s[4]||(s[4]=t("li",{class:"breadcrumb-item active dark:text-white"},"المصاريف",-1))])])]),t("section",Q,[t("div",q,[t("div",G,[t("div",J,[t("div",K,[s[7]||(s[7]=t("h5",{class:"card-title"},"إجمالي المصاريف",-1)),t("div",R,[s[6]||(s[6]=t("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-currency-dollar"})],-1)),t("div",W,[t("h6",null,l(u(((V=a.statistics)==null?void 0:V.total)||0)),1)])])])])]),t("div",X,[t("div",Y,[t("div",Z,[s[9]||(s[9]=t("h5",{class:"card-title"},"مصاريف هذا الشهر",-1)),t("div",tt,[s[8]||(s[8]=t("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-calendar-month"})],-1)),t("div",st,[t("h6",null,l(u(((D=a.statistics)==null?void 0:D.monthly)||0)),1)])])])])]),t("div",et,[t("div",lt,[t("div",at,[s[11]||(s[11]=t("h5",{class:"card-title"},"مصاريف اليوم",-1)),t("div",ot,[s[10]||(s[10]=t("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-calendar-day"})],-1)),t("div",it,[t("h6",null,l(u(((F=a.statistics)==null?void 0:F.today)||0)),1)])])])])]),t("div",nt,[t("div",dt,[t("div",rt,[s[13]||(s[13]=t("h5",{class:"card-title"},"عدد المصاريف",-1)),t("div",ct,[s[12]||(s[12]=t("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-list-ul"})],-1)),t("div",ut,[t("h6",null,l(((L=a.expenses)==null?void 0:L.total)||0),1)])])])])])]),t("div",mt,[t("div",bt,[t("div",vt,[s[15]||(s[15]=t("h5",{class:"card-title mb-0"},[t("i",{class:"bi bi-receipt me-2"}),_(" قائمة المصاريف ")],-1)),p(v(f),{href:i.route("expenses.create"),class:"btn btn-primary"},{default:b(()=>s[14]||(s[14]=[t("i",{class:"bi bi-plus-circle me-1"},null,-1),_(" إضافة مصروف جديد ")])),_:1},8,["href"])])]),t("div",ft,[t("div",ht,[t("div",pt,[s[17]||(s[17]=t("label",{class:"form-label"},"الفئة",-1)),h(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.value.category=e),onChange:r,class:"form-select"},[s[16]||(s[16]=t("option",{value:""},"جميع الفئات",-1)),(n(!0),d(g,null,y(a.categories,(e,m)=>(n(),d("option",{key:m,value:m},l(e),9,_t))),128))],544),[[U,o.value.category]])]),t("div",yt,[s[18]||(s[18]=t("label",{class:"form-label"},"من تاريخ",-1)),h(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>o.value.start_date=e),onChange:r,class:"form-control"},null,544),[[x,o.value.start_date]])]),t("div",gt,[s[19]||(s[19]=t("label",{class:"form-label"},"إلى تاريخ",-1)),h(t("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=e=>o.value.end_date=e),onChange:r,class:"form-control"},null,544),[[x,o.value.end_date]])]),t("div",xt,[s[20]||(s[20]=t("label",{class:"form-label"},"البحث",-1)),h(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=e=>o.value.search=e),onInput:r,placeholder:"البحث في العنوان أو الوصف",class:"form-control"},null,544),[[x,o.value.search]])])]),t("div",wt,[t("table",kt,[s[23]||(s[23]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"العنوان"),t("th",{scope:"col"},"الفئة"),t("th",{scope:"col"},"المبلغ"),t("th",{scope:"col"},"التاريخ"),t("th",{scope:"col"},"المنشئ"),t("th",{scope:"col"},"الإجراءات")])],-1)),t("tbody",null,[(n(!0),d(g,null,y(a.expenses.data,(e,m)=>{var M;return n(),d("tr",{key:e.id},[t("th",jt,l(m+1),1),t("td",null,[t("div",null,[t("strong",null,l(e.title),1),e.description?(n(),d("div",Ct,l(e.description),1)):I("",!0)])]),t("td",null,[t("span",Vt,l(a.categories[e.category]),1)]),t("td",null,[t("span",Dt,l(u(e.amount,e.currency)),1)]),t("td",null,l(H(e.expense_date)),1),t("td",null,l(((M=e.creator)==null?void 0:M.name)||"غير محدد"),1),t("td",null,[t("div",Ft,[p(v(f),{href:i.route("expenses.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:b(()=>s[21]||(s[21]=[t("i",{class:"bi bi-pencil"},null,-1)])),_:2},1032,["href"]),t("button",{onClick:Ht=>O(e.id),class:"btn btn-sm btn-outline-danger"},s[22]||(s[22]=[t("i",{class:"bi bi-trash"},null,-1)]),8,Lt)])])])}),128))])])]),t("div",Mt,[t("nav",null,[t("ul",Tt,[(n(!0),d(g,null,y(a.expenses.links,e=>(n(),d("li",{key:e.label,class:A(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(n(),T(v(f),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(n(),d("span",{key:1,class:"page-link",innerHTML:e.label},null,8,Bt))],2))),128))])])])])])])]}),_:1},8,["translations"]))}};export{Ut as default};
