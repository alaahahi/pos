import{Q as F,z as $,a as o,h as _,w as m,b as t,t as a,i as g,d as b,u as v,p,j as A,l as y,x,A as D,e as u,c as i,f as w,F as B,g as k}from"./app-D346Pjzq.js";import{_ as N}from"./AuthenticatedLayout-BheGbMS3.js";import{_ as U}from"./Pagination-CVsS5qZ9.js";import{S as h}from"./sweetalert2.esm.all-DwEdJQJv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"pagetitle dark:text-white"},j={class:"dark:text-white"},q={class:"breadcrumb"},z={class:"breadcrumb-item"},H={class:"breadcrumb-item active dark:text-white"},L={class:"section dashboard"},O={class:"card"},P={class:"card-body"},Q={class:"row filter_form"},Y={class:"col-md-2"},G=["placeholder"],I={class:"col-md-2"},J=["placeholder"],K={class:"col-md-2"},R={value:"",selected:"",disabled:""},W={value:1},X={value:0},Z={class:"col-md-2"},tt={type:"submit",class:"btn btn-primary"},et={class:"col-md-2"},st={class:"col-md-2"},at={class:"table-responsive"},nt={class:"table text-center"},ot={scope:"col"},rt={scope:"col"},lt={scope:"col"},it={scope:"col"},ct={scope:"col"},dt={scope:"col"},ut={key:0,scope:"col"},ht={key:1,scope:"col"},ft={class:"text-center"},mt={scope:"row"},bt=["src"],_t={class:"inline-flex items-center me-5 cursor-pointer"},vt=["checked","onChange"],pt={key:0},yt=["href"],kt={key:1},gt=["onClick"],Tt={__name:"index",props:{users:Object,translations:Array},setup(s){const l=s,C=F(),c=$({name:"",email:"",is_active:""}),S=()=>{k.get(route("users.index"),c,{preserveState:!0,preserveScroll:!0})},d=r=>C.props.auth_permissions.includes(r),T=r=>{h.fire({title:l.translations.are_your_sure,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#7066e0",confirmButtonText:l.translations.yes,cancelButtonText:l.translations.cancel}).then(e=>{e.isConfirmed&&k.post(`/users/${r}/activate`,{onSuccess:()=>{h.fire("Updated !","user stuaus item has been updated.","success")},onError:()=>{h.fire("Error!","There was an issue updating user status.","error")}})})},V=r=>{h.fire({title:l.translations.are_your_sure,text:l.translations.You_will_not_be_able_to_revert_this,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:l.translations.yes,cancelButtonText:l.translations.cancel}).then(e=>{e.isConfirmed&&k.delete("users/"+r,{onSuccess:()=>{h.fire({title:l.translations.data_deleted_successfully,icon:"success"})},onError:()=>{h.fire("Error!","There was an issue deleting the item.","error")}})})};return(r,e)=>(o(),_(N,{translations:s.translations},{default:m(()=>[t("div",M,[t("h1",j,a(s.translations.users),1),t("nav",null,[t("ol",q,[t("li",z,[g(v(p),{class:"nav-link dark:text-white",href:r.route("dashboard")},{default:m(()=>[b(a(s.translations.Home),1)]),_:1},8,["href"])]),t("li",H,a(s.translations.users),1)])])]),t("section",L,[t("div",O,[e[10]||(e[10]=t("div",{class:"card-header"},[t("div",{class:"d-flex"})],-1)),t("div",P,[t("form",{onSubmit:A(S,["prevent"])},[t("div",Q,[t("div",Y,[y(t("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":e[0]||(e[0]=n=>c.name=n),placeholder:s.translations.name},null,8,G),[[x,c.name]])]),t("div",I,[y(t("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":e[1]||(e[1]=n=>c.email=n),placeholder:s.translations.email},null,8,J),[[x,c.email]])]),t("div",K,[y(t("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e[2]||(e[2]=n=>c.is_active=n)},[t("option",R,a(s.translations.status),1),t("option",W,a(s.translations.active),1),t("option",X,a(s.translations.not_active),1)],512),[[D,c.is_active]])]),t("div",Z,[t("button",tt,[b(a(s.translations.search)+"   ",1),e[3]||(e[3]=t("i",{class:"bi bi-search"},null,-1))])]),t("div",et,[d("read users")?(o(),_(v(p),{key:0,class:"btn btn-success",href:r.route("export.users")},{default:m(()=>[b(a(s.translations.export)+"   ",1),e[4]||(e[4]=t("i",{class:"bi bi-filetype-xls"},null,-1))]),_:1},8,["href"])):u("",!0)]),t("div",st,[d("create users")?(o(),_(v(p),{key:0,class:"btn btn-primary",href:r.route("users.create")},{default:m(()=>[b(a(s.translations.create)+"   ",1),e[5]||(e[5]=t("i",{class:"bi bi-plus-circle"},null,-1))]),_:1},8,["href"])):u("",!0)])])],32),t("div",at,[t("table",nt,[t("thead",null,[t("tr",null,[e[6]||(e[6]=t("th",{scope:"col"},"#",-1)),t("th",ot,a(s.translations.name),1),t("th",rt,a(s.translations.avatar),1),t("th",lt,a(s.translations.role),1),t("th",it,a(s.translations.email),1),t("th",ct,a(s.translations.created_at),1),t("th",dt,a(s.translations.status),1),d("update users")?(o(),i("th",ut,a(s.translations.edit),1)):u("",!0),d("delete users")?(o(),i("th",ht,a(s.translations.delete),1)):u("",!0)])]),t("tbody",ft,[(o(!0),i(B,null,w(s.users.data,(n,E)=>(o(),i("tr",{key:n.id},[t("th",mt,a(E+1),1),t("td",null,a(n.name),1),t("td",null,[t("img",{src:n.avatar,alt:"Avatar",class:"avatar",width:"45px"},null,8,bt)]),t("td",null,[(o(!0),i(B,null,w(n.roles,f=>(o(),i("span",{key:f.id,class:"badge bg-secondary"},a(f.name),1))),128))]),t("td",null,a(n.email),1),t("td",null,a(n.created_at),1),t("td",null,[t("div",null,[t("label",_t,[t("input",{type:"checkbox",class:"sr-only peer",checked:n.is_active==1,onChange:f=>T(n.id)},null,40,vt),e[7]||(e[7]=t("div",{class:"relative w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"},null,-1))])])]),d("update users")?(o(),i("td",pt,[t("a",{class:"btn btn-primary",href:r.route("users.edit",{user:n.id})},e[8]||(e[8]=[t("i",{class:"bi bi-pencil-square"},null,-1)]),8,yt)])):u("",!0),d("delete users")?(o(),i("td",kt,[t("button",{type:"button",class:"btn btn-danger",onClick:f=>V(n.id)},e[9]||(e[9]=[t("i",{class:"bi bi-trash"},null,-1)]),8,gt)])):u("",!0)]))),128))])])])])]),g(U,{links:s.users.links},null,8,["links"])])]),_:1},8,["translations"]))}};export{Tt as default};
