import{r as j,x as W,o as ss,a as b,e as p,b as s,t,j as A,d as u,l as f,A as z,F as Q,g as X,y as U,f as V,n as q,h as E,v as ns,i as H,c as J,k as ls,H as G,Q as $s,w as es}from"./app-Dyo3CGUB.js";import{_ as gs}from"./AuthenticatedLayout-DQQOHWHW.js";import{_ as as}from"./Pagination-ByRiNjxu.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as xs}from"./StatusUpdateModal-CGGYY6ED.js";import{P as ws}from"./PricingEditModal-Bmpt2hvZ.js";const ks={class:"modal-mask"},Cs={class:"modal-wrapper"},Us={class:"modal-container",style:{"max-width":"900px"}},Vs={class:"modal-header"},Ss={class:"modal-body"},Fs={class:"row mb-4"},js={class:"col-12"},Ds={class:"text-primary"},Is={class:"col-md-8"},Ms={class:"form-label"},Os={value:""},As=["value"],qs={class:"col-md-4"},Es={key:0,class:"col-12 mt-3"},Ps={class:"border rounded p-3 bg-light"},zs={class:"row"},Rs={class:"col-md-4"},Ts={class:"form-label"},Ls={class:"col-md-4"},Ns={class:"form-label"},Bs={class:"col-md-4"},Gs={class:"form-label"},Ws={class:"col-12 mt-2"},Hs={class:"form-label"},Js={key:1,class:"col-12 mt-3"},Qs={class:"alert alert-info"},Xs={class:"row mb-4"},Ks={class:"col-12"},Ys={class:"text-success"},Zs={class:"col-md-6"},st={class:"form-label"},tt={class:"col-md-3"},et={class:"form-label"},ot={class:"col-md-3"},nt={class:"form-label"},lt={class:"col-md-6 mt-3"},at={class:"form-label"},it={class:"col-md-6 mt-3"},rt={class:"form-label"},dt={class:"row mb-4"},ct={class:"col-12"},ut={class:"text-info"},mt={class:"col-md-6"},bt={class:"card"},vt={class:"card-body"},_t={class:"card-title"},ht={class:"card-text"},pt={class:"d-flex justify-content-between"},yt={class:"badge bg-primary"},ft={class:"badge bg-info"},$t={class:"col-md-6"},gt={class:"card"},xt={class:"card-body"},wt={class:"card-title"},kt={class:"d-flex justify-content-between mb-2"},Ct={class:"d-flex justify-content-between mb-2"},Ut={class:"d-flex justify-content-between"},Vt={class:"row mb-4"},St={class:"col-12"},Ft={class:"text-warning"},jt={class:"col-md-3"},Dt={class:"form-label"},It={class:"col-md-3"},Mt={class:"form-label"},Ot={class:"col-md-3"},At={class:"form-label"},qt={class:"col-md-3"},Et={class:"form-label"},Pt={class:"d-flex justify-content-center gap-2"},zt=["disabled"],Rt={key:0,class:"spinner-border spinner-border-sm me-2"},Tt={__name:"OrderCreationModal",props:{decoration:Object,customers:Array,translations:Object},emits:["close","success"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=j(!1),i=W({decoration_id:d.decoration.id,customer_id:"",customer_name:"",customer_phone:"",customer_email:"",event_address:"",event_date:"",event_time:"",guest_count:50,special_requests:"",base_price:0,additional_cost:0,discount:0,total_price:0}),y=W({name:"",phone:"",email:"",address:""}),m=k=>{const l=k.currency==="dollar"?k.base_price_dollar:k.base_price_dinar,$=k.currency==="dollar"?d.translations.dollar:d.translations.dinar;return`${parseFloat(l).toFixed(2)} ${$}`},x=()=>{if(i.customer_id){const k=d.customers.find(l=>l.id==i.customer_id);k&&(i.customer_name=k.name,i.customer_phone=k.phone,i.customer_email=k.email||"",n.value=!1)}else i.customer_name="",i.customer_phone="",i.customer_email=""},D=()=>{const k=parseFloat(i.base_price)||0,l=parseFloat(i.additional_cost)||0,$=parseFloat(i.discount)||0;i.total_price=Math.max(0,k+l-$)},w=async()=>{c.value=!0;try{n.value&&y.name&&await E.post("/customers",{...y,is_active:!0,notes:d.translations.created_from_decoration},{preserveState:!0,onSuccess:k=>{i.customer_name=y.name,i.customer_phone=y.phone,i.customer_email=y.email}}),E.post("/decoration-orders",i,{onSuccess:()=>{c.value=!1,S("success")},onError:()=>{c.value=!1}})}catch(k){c.value=!1,console.error("Error creating order:",k)}};return ss(()=>{const k=d.decoration.currency==="dollar"?d.decoration.base_price_dollar:d.decoration.base_price_dinar;i.base_price=parseFloat(k),i.total_price=parseFloat(k)}),(k,l)=>(b(),p("div",ks,[s("div",Cs,[s("div",Us,[s("div",Vs,[s("h3",null,t(e.translations.create_order)+" - "+t(e.decoration.name),1),s("button",{onClick:l[0]||(l[0]=$=>k.$emit("close")),class:"btn-close"})]),s("div",Ss,[s("form",{onSubmit:A(w,["prevent"])},[s("div",Fs,[s("div",js,[s("h5",Ds,[l[17]||(l[17]=s("i",{class:"bi bi-person"},null,-1)),u(" "+t(e.translations.customer_details),1)]),l[18]||(l[18]=s("hr",null,null,-1))]),s("div",Is,[s("label",Ms,t(e.translations.select_customer),1),f(s("select",{class:"form-select","onUpdate:modelValue":l[1]||(l[1]=$=>i.customer_id=$),onChange:x},[s("option",Os,t(e.translations.select_customer),1),(b(!0),p(Q,null,X(e.customers,$=>(b(),p("option",{key:$.id,value:$.id},t($.name)+" - "+t($.phone),9,As))),128))],544),[[z,i.customer_id]])]),s("div",qs,[l[20]||(l[20]=s("label",{class:"form-label"}," ",-1)),s("button",{type:"button",class:"btn btn-outline-primary w-100",onClick:l[2]||(l[2]=$=>n.value=!n.value)},[l[19]||(l[19]=s("i",{class:"bi bi-plus-circle"},null,-1)),u(" "+t(e.translations.create_new_customer),1)])]),n.value?(b(),p("div",Es,[s("div",Ps,[s("div",zs,[s("div",Rs,[s("label",Ts,t(e.translations.name)+" *",1),f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":l[3]||(l[3]=$=>y.name=$),required:""},null,512),[[U,y.name]])]),s("div",Ls,[s("label",Ns,t(e.translations.phone),1),f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":l[4]||(l[4]=$=>y.phone=$)},null,512),[[U,y.phone]])]),s("div",Bs,[s("label",Gs,t(e.translations.email),1),f(s("input",{type:"email",class:"form-control","onUpdate:modelValue":l[5]||(l[5]=$=>y.email=$)},null,512),[[U,y.email]])]),s("div",Ws,[s("label",Hs,t(e.translations.address),1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":l[6]||(l[6]=$=>y.address=$)},null,512),[[U,y.address]])])])])])):V("",!0),i.customer_name&&!n.value?(b(),p("div",Js,[s("div",Qs,[s("strong",null,t(e.translations.selected_customer)+":",1),l[21]||(l[21]=s("br",null,null,-1)),l[22]||(l[22]=s("i",{class:"bi bi-person"},null,-1)),u(" "+t(i.customer_name),1),l[23]||(l[23]=s("br",null,null,-1)),l[24]||(l[24]=s("i",{class:"bi bi-telephone"},null,-1)),u(" "+t(i.customer_phone),1),l[25]||(l[25]=s("br",null,null,-1)),l[26]||(l[26]=s("i",{class:"bi bi-envelope"},null,-1)),u(" "+t(i.customer_email||e.translations.not_provided),1)])])):V("",!0)]),s("div",Xs,[s("div",Ks,[s("h5",Ys,[l[27]||(l[27]=s("i",{class:"bi bi-calendar-event"},null,-1)),u(" "+t(e.translations.event_details),1)]),l[28]||(l[28]=s("hr",null,null,-1))]),s("div",Zs,[s("label",st,t(e.translations.event_address)+" *",1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":l[7]||(l[7]=$=>i.event_address=$),required:""},null,512),[[U,i.event_address]])]),s("div",tt,[s("label",et,t(e.translations.event_date)+" *",1),f(s("input",{type:"date",class:"form-control","onUpdate:modelValue":l[8]||(l[8]=$=>i.event_date=$),required:""},null,512),[[U,i.event_date]])]),s("div",ot,[s("label",nt,t(e.translations.event_time)+" *",1),f(s("input",{type:"time",class:"form-control","onUpdate:modelValue":l[9]||(l[9]=$=>i.event_time=$),required:""},null,512),[[U,i.event_time]])]),s("div",lt,[s("label",at,t(e.translations.guest_count),1),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":l[10]||(l[10]=$=>i.guest_count=$),min:"1"},null,512),[[U,i.guest_count]])]),s("div",it,[s("label",rt,t(e.translations.special_requests),1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":l[11]||(l[11]=$=>i.special_requests=$)},null,512),[[U,i.special_requests]])])]),s("div",dt,[s("div",ct,[s("h5",ut,[l[29]||(l[29]=s("i",{class:"bi bi-palette"},null,-1)),u(" "+t(e.translations.decoration_details),1)]),l[30]||(l[30]=s("hr",null,null,-1))]),s("div",mt,[s("div",bt,[s("div",vt,[s("h6",_t,t(e.decoration.name),1),s("p",ht,t(e.decoration.description),1),s("div",pt,[s("span",yt,t(e.decoration.type_name),1),s("span",ft,t(e.decoration.duration_hours)+" "+t(e.translations.hours),1)])])])]),s("div",$t,[s("div",gt,[s("div",xt,[s("h6",wt,t(e.translations.pricing_details),1),s("div",kt,[s("span",null,t(e.translations.base_price)+":",1),s("strong",null,t(m(e.decoration)),1)]),s("div",Ct,[s("span",null,t(e.translations.team_size)+":",1),s("span",null,t(e.decoration.team_size)+" "+t(e.translations.team_members),1)]),s("div",Ut,[s("span",null,t(e.translations.currency)+":",1),s("span",{class:q(["badge",e.decoration.currency==="dollar"?"bg-success":"bg-primary"])},t(e.decoration.currency==="dollar"?e.translations.dollar:e.translations.dinar),3)])])])])]),s("div",Vt,[s("div",St,[s("h5",Ft,[l[31]||(l[31]=s("i",{class:"bi bi-calculator"},null,-1)),u(" "+t(e.translations.payment_details),1)]),l[32]||(l[32]=s("hr",null,null,-1))]),s("div",jt,[s("label",Dt,t(e.translations.base_price),1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[12]||(l[12]=$=>i.base_price=$),readonly:""},null,512),[[U,i.base_price]])]),s("div",It,[s("label",Mt,t(e.translations.additional_cost),1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[13]||(l[13]=$=>i.additional_cost=$),onInput:D},null,544),[[U,i.additional_cost]])]),s("div",Ot,[s("label",At,t(e.translations.discount),1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[14]||(l[14]=$=>i.discount=$),onInput:D},null,544),[[U,i.discount]])]),s("div",qt,[s("label",Et,t(e.translations.total_price),1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[15]||(l[15]=$=>i.total_price=$),readonly:""},null,512),[[U,i.total_price]])])]),s("div",Pt,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:l[16]||(l[16]=$=>k.$emit("close"))},[l[33]||(l[33]=s("i",{class:"bi bi-x-circle"},null,-1)),u(" "+t(e.translations.cancel),1)]),s("button",{type:"submit",class:"btn btn-success w-100 text-center",disabled:c.value},[c.value?(b(),p("span",Rt)):V("",!0),l[34]||(l[34]=s("i",{class:"bi bi-check-circle"},null,-1)),u(" "+t(e.translations.create_order),1)],8,zt)])],32)])])])]))}},Lt=B(Tt,[["__scopeId","data-v-4fb44325"]]),Nt={class:"modal-mask"},Bt={class:"modal-wrapper"},Gt={class:"modal-container",style:{"max-width":"800px"}},Wt={class:"modal-header"},Ht={class:"modal-body"},Jt={class:"row"},Qt={class:"col-md-6"},Xt={class:"text-primary mb-3"},Kt={class:"mb-3"},Yt={class:"form-label"},Zt={class:"mb-3"},se={class:"form-label"},te={class:"mb-3"},ee={class:"form-label"},oe={value:""},ne={value:"birthday"},le={value:"gender_reveal"},ae={value:"baby_shower"},ie={value:"wedding"},re={value:"graduation"},de={value:"corporate"},ce={value:"religious"},ue={class:"col-md-6"},me={class:"text-success mb-3"},be={class:"mb-3"},ve={class:"form-label"},_e={value:"dinar"},he={value:"dollar"},pe={class:"row"},ye={class:"col-md-6"},fe={class:"mb-3"},$e={class:"form-label"},ge={class:"col-md-6"},xe={class:"mb-3"},we={class:"form-label"},ke={class:"row"},Ce={class:"col-md-6"},Ue={class:"mb-3"},Ve={class:"form-label"},Se={class:"col-md-6"},Fe={class:"mb-3"},je={class:"form-label"},De={class:"mb-3"},Ie={class:"form-check"},Me={class:"form-check-label",for:"is_active_edit"},Oe={class:"d-flex justify-content-center gap-2 mt-4"},Ae=["disabled"],qe={key:0,class:"spinner-border spinner-border-sm me-2"},Ee={__name:"EditDecorationModal",props:{decoration:Object,translations:Object},emits:["success","close"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=W({name:"",description:"",type:"",currency:"dinar",base_price:"",base_price_dinar:"",base_price_dollar:"",duration_hours:"",team_size:"",is_active:!0,materials_cost:0,labor_cost:0,transportation_cost:0}),i=()=>{c.value=!0;const y={...n,base_price:n.currency==="dinar"?n.base_price_dinar:n.base_price_dollar,materials_cost:parseFloat(n.materials_cost)||0,labor_cost:parseFloat(n.labor_cost)||0,transportation_cost:parseFloat(n.transportation_cost)||0};E.patch(route("decorations.update",d.decoration.id),y,{onSuccess:()=>{c.value=!1,S("success")},onError:()=>{c.value=!1}})};return ss(()=>{if(d.decoration&&(n.name=d.decoration.name||"",n.description=d.decoration.description||"",n.type=d.decoration.type||"",n.currency=d.decoration.currency||"dinar",n.base_price=d.decoration.base_price||"",n.base_price_dinar=d.decoration.base_price_dinar||"",n.base_price_dollar=d.decoration.base_price_dollar||"",n.duration_hours=d.decoration.duration_hours||"",n.team_size=d.decoration.team_size||"",n.is_active=d.decoration.is_active!==void 0?d.decoration.is_active:!0,d.decoration.pricing_details)){const y=typeof d.decoration.pricing_details=="string"?JSON.parse(d.decoration.pricing_details):d.decoration.pricing_details;n.materials_cost=y.materials||0,n.labor_cost=y.labor||0,n.transportation_cost=y.transportation||0}}),(y,m)=>(b(),p("div",Nt,[s("div",Bt,[s("div",Gt,[s("div",Wt,[s("h3",null,t(e.translations.edit)+" "+t(e.translations.decoration),1),s("button",{onClick:m[0]||(m[0]=x=>y.$emit("close")),class:"btn-close"})]),s("div",Ht,[s("form",{onSubmit:A(i,["prevent"])},[s("div",Jt,[s("div",Qt,[s("h6",Xt,[m[11]||(m[11]=s("i",{class:"bi bi-info-circle"},null,-1)),u(" "+t(e.translations.basic_information),1)]),s("div",Kt,[s("label",Yt,t(e.translations.decoration_name)+" *",1),f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":m[1]||(m[1]=x=>n.name=x),required:""},null,512),[[U,n.name]])]),s("div",Zt,[s("label",se,t(e.translations.decoration_description),1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":m[2]||(m[2]=x=>n.description=x)},null,512),[[U,n.description]])]),s("div",te,[s("label",ee,t(e.translations.decoration_type)+" *",1),f(s("select",{class:"form-select","onUpdate:modelValue":m[3]||(m[3]=x=>n.type=x),required:""},[s("option",oe,t(e.translations.select_type),1),s("option",ne,t(e.translations.birthday),1),s("option",le,t(e.translations.gender_reveal),1),s("option",ae,t(e.translations.baby_shower),1),s("option",ie,t(e.translations.wedding),1),s("option",re,t(e.translations.graduation),1),s("option",de,t(e.translations.corporate),1),s("option",ce,t(e.translations.religious),1)],512),[[z,n.type]])])]),s("div",ue,[s("h6",me,[m[12]||(m[12]=s("i",{class:"bi bi-currency-dollar"},null,-1)),u(" "+t(e.translations.pricing_details),1)]),s("div",be,[s("label",ve,t(e.translations.currency)+" *",1),f(s("select",{class:"form-select","onUpdate:modelValue":m[4]||(m[4]=x=>n.currency=x),required:""},[s("option",_e,t(e.translations.dinar),1),s("option",he,t(e.translations.dollar),1)],512),[[z,n.currency]])]),s("div",pe,[s("div",ye,[s("div",fe,[s("label",$e,t(e.translations.base_price_dinar)+" *",1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":m[5]||(m[5]=x=>n.base_price_dinar=x),required:""},null,512),[[U,n.base_price_dinar]])])]),s("div",ge,[s("div",xe,[s("label",we,t(e.translations.base_price_dollar)+" *",1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":m[6]||(m[6]=x=>n.base_price_dollar=x),required:""},null,512),[[U,n.base_price_dollar]])])])]),s("div",ke,[s("div",Ce,[s("div",Ue,[s("label",Ve,t(e.translations.duration_hours)+" *",1),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":m[7]||(m[7]=x=>n.duration_hours=x),required:""},null,512),[[U,n.duration_hours]])])]),s("div",Se,[s("div",Fe,[s("label",je,t(e.translations.team_size)+" *",1),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":m[8]||(m[8]=x=>n.team_size=x),required:""},null,512),[[U,n.team_size]])])])]),s("div",De,[s("div",Ie,[f(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":m[9]||(m[9]=x=>n.is_active=x),id:"is_active_edit"},null,512),[[ns,n.is_active]]),s("label",Me,t(e.translations.active),1)])])])]),s("div",Oe,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:m[10]||(m[10]=x=>y.$emit("close"))},[m[13]||(m[13]=s("i",{class:"bi bi-x-circle"},null,-1)),u(" "+t(e.translations.cancel),1)]),s("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:c.value},[c.value?(b(),p("span",qe)):V("",!0),m[14]||(m[14]=s("i",{class:"bi bi-check-circle"},null,-1)),u(" "+t(e.translations.save),1)],8,Ae)])],32)])])])]))}},Pe=B(Ee,[["__scopeId","data-v-4995e04d"]]),ze={class:"d-flex justify-content-between align-items-center mb-4"},Re={class:"mb-0"},Te={class:"badge bg-primary ms-2"},Le={class:"d-flex gap-2"},Ne=["href"],Be={class:"card mb-4"},Ge={class:"card-body"},We={class:"row"},He={class:"col-md-3"},Je=["placeholder"],Qe={class:"col-md-2"},Xe={value:""},Ke={value:"birthday"},Ye={value:"gender_reveal"},Ze={value:"baby_shower"},so={value:"wedding"},to={value:"graduation"},eo={value:"corporate"},oo={value:"religious"},no={class:"col-md-2"},lo={value:""},ao={value:"dinar"},io={value:"dollar"},ro={class:"col-md-2"},co={value:""},uo={value:"1"},mo={value:"0"},bo={class:"col-md-2"},vo={type:"submit",class:"btn btn-primary w-100"},_o={key:0,class:"row"},ho={class:"card h-100 decoration-card"},po={class:"card-img-top position-relative",style:{height:"200px",overflow:"hidden"}},yo=["src","alt"],fo={key:1,class:"w-100 h-100 bg-light d-flex align-items-center justify-content-center"},$o={class:"position-absolute top-0 end-0 m-2"},go={class:"position-absolute top-0 start-0 m-2"},xo={class:"card-body d-flex flex-column"},wo={class:"card-title"},ko={class:"card-text text-muted"},Co={class:"mt-auto"},Uo={class:"d-flex justify-content-between align-items-center mb-2"},Vo={class:"badge bg-info"},So={class:"price-section mb-3"},Fo={class:"d-flex justify-content-between align-items-center mb-2"},jo={class:"fw-bold text-primary fs-5"},Do={class:"text-muted"},Io={class:"d-flex justify-content-between align-items-center"},Mo={class:"text-muted"},Oo=["onClick","title"],Ao={class:"actions-container"},qo={class:"row g-2"},Eo={class:"col-6"},Po=["onClick"],zo={class:"col-6"},Ro=["onClick","title"],To={class:"row g-2 mt-2"},Lo={class:"col-3"},No=["onClick"],Bo={class:"col-3"},Go=["onClick"],Wo={class:"col-3"},Ho=["href"],Jo={class:"col-3"},Qo=["onClick"],Xo={key:1,class:"text-center py-5 empty-state"},Ko={class:"empty-state-title"},Yo={class:"empty-state-description"},Zo={class:"empty-state-actions"},sn={key:2,class:"d-flex justify-content-center mt-4"},tn={__name:"DecorationsList",props:{decorations:Object,customers:Array,translations:Object},emits:["refresh"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=j(!1),i=j(null),y=W({search:"",type:"",currency:"",is_active:""}),m=()=>{E.get(route("decorations.dashboard"),{tab:"decorations",...y},{preserveState:!0,replace:!0})},x=()=>{y.search="",y.type="",y.currency="",y.is_active="",m()},D=C=>{const v=C.base_price||C.current_price||0,P=C.currency==="dollar"?d.translations.dollar:d.translations.dinar;return`${parseFloat(v).toFixed(2)} ${P}`},w=C=>({birthday:d.translations.birthday,gender_reveal:d.translations.gender_reveal,baby_shower:d.translations.baby_shower,wedding:d.translations.wedding,graduation:d.translations.graduation,corporate:d.translations.corporate,religious:d.translations.religious})[C]||C,k=C=>{const v=C.currency==="dinar"?"dollar":"dinar";E.patch(route("decorations.update",C.id),{currency:v},{preserveState:!0,onSuccess:()=>{console.log("Currency updated successfully")},onError:P=>{console.error("Error updating currency:",P)}})},l=C=>{i.value=C,c.value=!0},$=C=>{i.value=C,n.value=!0},M=C=>{E.get(route("decorations.show",C.id))},r=C=>{confirm(d.translations.confirm_delete)&&E.delete(route("decorations.destroy",C),{onSuccess:()=>{S("refresh")}})},K=()=>{c.value=!1,S("refresh")},Y=()=>{n.value=!1,S("refresh")},T=C=>window.permissions&&window.permissions.includes(C);return(C,v)=>{var P,F;return b(),p("div",null,[s("div",ze,[s("h4",Re,[v[8]||(v[8]=s("i",{class:"bi bi-palette text-primary"},null,-1)),u(" "+t(e.translations.decorations_list)+" ",1),s("span",Te,t(((F=(P=e.decorations)==null?void 0:P.data)==null?void 0:F.length)||0),1)]),s("div",Le,[T("create decoration")?(b(),p("button",{key:0,class:"btn btn-primary btn-lg",onClick:v[0]||(v[0]=a=>C.$emit("createDecoration"))},[v[9]||(v[9]=s("i",{class:"bi bi-plus-circle"},null,-1)),u(" "+t(e.translations.create_decoration),1)])):V("",!0),s("a",{href:C.route("public.gallery"),class:"btn btn-outline-info btn-lg",target:"_blank"},v[10]||(v[10]=[s("i",{class:"bi bi-eye"},null,-1),u(" عرض المعرض العام ")]),8,Ne)])]),s("div",Be,[s("div",Ge,[s("form",{onSubmit:A(m,["prevent"])},[s("div",We,[s("div",He,[f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":v[1]||(v[1]=a=>y.search=a),placeholder:e.translations.search},null,8,Je),[[U,y.search]])]),s("div",Qe,[f(s("select",{class:"form-select","onUpdate:modelValue":v[2]||(v[2]=a=>y.type=a)},[s("option",Xe,t(e.translations.all_types),1),s("option",Ke,t(e.translations.birthday),1),s("option",Ye,t(e.translations.gender_reveal),1),s("option",Ze,t(e.translations.baby_shower),1),s("option",so,t(e.translations.wedding),1),s("option",to,t(e.translations.graduation),1),s("option",eo,t(e.translations.corporate),1),s("option",oo,t(e.translations.religious),1)],512),[[z,y.type]])]),s("div",no,[f(s("select",{class:"form-select","onUpdate:modelValue":v[3]||(v[3]=a=>y.currency=a)},[s("option",lo,t(e.translations.all_currencies),1),s("option",ao,t(e.translations.dinar),1),s("option",io,t(e.translations.dollar),1)],512),[[z,y.currency]])]),s("div",ro,[f(s("select",{class:"form-select","onUpdate:modelValue":v[4]||(v[4]=a=>y.is_active=a)},[s("option",co,t(e.translations.all_status),1),s("option",uo,t(e.translations.active),1),s("option",mo,t(e.translations.inactive),1)],512),[[z,y.is_active]])]),s("div",bo,[s("button",vo,[v[11]||(v[11]=s("i",{class:"bi bi-search"},null,-1)),u(" "+t(e.translations.search),1)])]),s("div",{class:"col-md-1"},[s("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:x},v[12]||(v[12]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1)]))])])],32)])]),e.decorations.data.length>0?(b(),p("div",_o,[(b(!0),p(Q,null,X(e.decorations.data,a=>(b(),p("div",{class:"col-xl-4 col-lg-4 col-md-6 mb-4",key:a.id},[s("div",ho,[s("div",po,[a.image_url?(b(),p("img",{key:0,src:a.image_url,alt:a.name,class:"w-100 h-100 object-cover"},null,8,yo)):(b(),p("div",fo,v[13]||(v[13]=[s("i",{class:"bi bi-image text-muted",style:{"font-size":"3rem"}},null,-1)]))),s("div",$o,[s("span",{class:q(["badge",a.currency==="dollar"?"bg-success":"bg-primary"])},t(a.currency==="dollar"?e.translations.dollar:e.translations.dinar),3)]),s("div",go,[s("span",{class:q(["badge",a.is_active?"bg-success":"bg-secondary"])},t(a.is_active?e.translations.active:e.translations.inactive),3)])]),s("div",xo,[s("h5",wo,t(a.name),1),s("p",ko,t(a.description),1),s("div",Co,[s("div",Uo,[s("span",Vo,t(w(a.type)),1),s("span",{class:q(["badge",a.is_active?"bg-success":"bg-secondary"])},t(a.is_active?d.translations.active:d.translations.inactive),3)]),s("div",So,[s("div",Fo,[s("span",jo,t(D(a)),1),s("small",Do,[v[14]||(v[14]=s("i",{class:"bi bi-clock"},null,-1)),u(" "+t(a.duration_hours)+" "+t(d.translations.hours),1)])]),s("div",Io,[s("small",Mo,[v[15]||(v[15]=s("i",{class:"bi bi-people"},null,-1)),u(" "+t(a.team_size)+" "+t(d.translations.team_members),1)]),s("button",{onClick:_=>k(a),class:"btn btn-sm btn-outline-info",title:d.translations.switch_currency},v[16]||(v[16]=[s("i",{class:"bi bi-arrow-repeat"},null,-1)]),8,Oo)])])]),s("div",Ao,[s("div",qo,[s("div",Eo,[s("button",{onClick:_=>l(a),class:"btn btn-success btn-action w-100"},[v[17]||(v[17]=s("i",{class:"bi bi-plus-circle"},null,-1)),s("span",null,t(e.translations.create_order),1)],8,Po)]),s("div",zo,[s("button",{onClick:_=>k(a),class:"btn btn-outline-info btn-action w-100",title:e.translations.switch_currency},[v[18]||(v[18]=s("i",{class:"bi bi-arrow-repeat"},null,-1)),s("span",null,t(e.translations.switch_currency),1)],8,Ro)])]),s("div",To,[s("div",Lo,[T("update decoration")?(b(),p("button",{key:0,onClick:_=>$(a),class:"btn btn-outline-warning btn-action w-100"},[v[19]||(v[19]=s("i",{class:"bi bi-pencil"},null,-1)),s("span",null,t(e.translations.edit),1)],8,No)):V("",!0)]),s("div",Bo,[s("button",{onClick:_=>M(a),class:"btn btn-outline-primary btn-action w-100"},[v[20]||(v[20]=s("i",{class:"bi bi-eye"},null,-1)),s("span",null,t(e.translations.view),1)],8,Go)]),s("div",Wo,[s("a",{href:C.route("public.decoration.show",a.id),class:"btn btn-outline-info btn-action w-100",target:"_blank"},v[21]||(v[21]=[s("i",{class:"bi bi-globe"},null,-1),s("span",null,"معرض",-1)]),8,Ho)]),s("div",Jo,[T("delete decoration")?(b(),p("button",{key:0,onClick:_=>r(a.id),class:"btn btn-outline-danger btn-action w-100"},[v[22]||(v[22]=s("i",{class:"bi bi-trash"},null,-1)),s("span",null,t(e.translations.delete),1)],8,Qo)):V("",!0)])])])])])]))),128))])):(b(),p("div",Xo,[v[24]||(v[24]=s("div",{class:"empty-state-icon"},[s("i",{class:"bi bi-palette"})],-1)),s("h4",Ko,t(e.translations.no_decorations),1),s("p",Yo,t(e.translations.no_decorations_description),1),s("div",Zo,[T("create decoration")?(b(),p("button",{key:0,class:"btn btn-primary btn-lg",onClick:v[5]||(v[5]=a=>C.$emit("createDecoration"))},[v[23]||(v[23]=s("i",{class:"bi bi-plus-circle"},null,-1)),u(" "+t(e.translations.create_first_decoration),1)])):V("",!0)])])),e.decorations.data.length>0?(b(),p("div",sn,[H(as,{links:e.decorations.links},null,8,["links"])])):V("",!0),c.value?(b(),J(Lt,{key:3,decoration:i.value,customers:e.customers,translations:e.translations,onClose:v[6]||(v[6]=a=>c.value=!1),onSuccess:K},null,8,["decoration","customers","translations"])):V("",!0),n.value?(b(),J(Pe,{key:4,decoration:i.value,translations:e.translations,onClose:v[7]||(v[7]=a=>n.value=!1),onSuccess:Y},null,8,["decoration","translations"])):V("",!0)])}}},en=B(tn,[["__scopeId","data-v-c614b0db"]]),on={class:"modal-mask"},nn={class:"modal-wrapper"},ln={class:"modal-container"},an={class:"modal-header"},rn={class:"modal-body"},dn={class:"mb-3"},cn={class:"form-label"},un={value:""},mn=["value"],bn={class:"mb-3"},vn={class:"form-label"},_n={class:"d-flex justify-content-center gap-2"},hn=["disabled"],pn={key:0,class:"spinner-border spinner-border-sm me-2"},yn={__name:"EmployeeAssignmentModal",props:{order:Object,employees:Array,translations:Object},emits:["close","success"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=W({assigned_employee_id:d.order.assigned_employee_id||"",notes:d.order.notes||""}),i=()=>{c.value=!0,E.patch(route("decoration.orders.status",d.order.id),n,{onSuccess:()=>{c.value=!1,S("success")},onError:()=>{c.value=!1}})};return(y,m)=>(b(),p("div",on,[s("div",nn,[s("div",ln,[s("div",an,[s("h3",null,t(e.translations.assign_employee),1),s("button",{onClick:m[0]||(m[0]=x=>y.$emit("close")),class:"btn-close"})]),s("div",rn,[s("form",{onSubmit:A(i,["prevent"])},[s("div",dn,[s("label",cn,t(e.translations.select_employee),1),f(s("select",{class:"form-select","onUpdate:modelValue":m[1]||(m[1]=x=>n.assigned_employee_id=x),required:""},[s("option",un,t(e.translations.select_employee),1),(b(!0),p(Q,null,X(e.employees,x=>(b(),p("option",{key:x.id,value:x.id},t(x.name),9,mn))),128))],512),[[z,n.assigned_employee_id]])]),s("div",bn,[s("label",vn,t(e.translations.notes),1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":m[2]||(m[2]=x=>n.notes=x)},null,512),[[U,n.notes]])]),s("div",_n,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:m[3]||(m[3]=x=>y.$emit("close"))},t(e.translations.cancel),1),s("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:c.value},[c.value?(b(),p("span",pn)):V("",!0),u(" "+t(e.translations.assign),1)],8,hn)])],32)])])])]))}},fn=B(yn,[["__scopeId","data-v-156ceadb"]]),$n={class:"card mb-4"},gn={class:"card-body"},xn={class:"row"},wn={class:"col-md-3"},kn=["placeholder"],Cn={class:"col-md-2"},Un={value:""},Vn={value:"created"},Sn={value:"received"},Fn={value:"executing"},jn={value:"partial_payment"},Dn={value:"full_payment"},In={value:"completed"},Mn={value:"cancelled"},On={class:"col-md-2"},An={value:""},qn=["value"],En={class:"col-md-2"},Pn=["placeholder"],zn={class:"col-md-2"},Rn={type:"submit",class:"btn btn-primary w-100"},Tn={key:0,class:"row"},Ln={class:"card h-100 order-card"},Nn={class:"card-header d-flex justify-content-between align-items-center"},Bn={class:"mb-0"},Gn={class:"text-muted"},Wn={class:"card-body"},Hn={class:"mb-3"},Jn={class:"text-primary"},Qn={class:"text-muted"},Xn={class:"mb-3"},Kn={class:"d-flex align-items-center mb-1"},Yn={class:"d-flex align-items-center mb-1"},Zn={class:"d-flex align-items-center"},sl={class:"mb-3"},tl={class:"d-flex align-items-center mb-1"},el={class:"text-muted"},ol={class:"d-flex align-items-center"},nl={class:"text-muted"},ll={class:"mb-3"},al={class:"pricing-breakdown"},il={class:"d-flex justify-content-between mb-1"},rl={key:0,class:"d-flex justify-content-between mb-1"},dl={class:"text-success"},cl={class:"text-success"},ul={key:1,class:"d-flex justify-content-between mb-1"},ml={class:"text-danger"},bl={class:"text-danger"},vl={class:"d-flex justify-content-between mb-1"},_l={class:"text-primary"},hl={class:"d-flex justify-content-between mb-1"},pl={class:"text-info"},yl={class:"d-flex justify-content-between"},fl={class:"text-warning"},$l={key:0,class:"mb-3"},gl={class:"d-flex align-items-center"},xl={class:"text-muted"},wl={class:"card-footer"},kl={class:"btn-group w-100",role:"group"},Cl=["onClick"],Ul=["onClick"],Vl=["onClick"],Sl=["href"],Fl=["onClick"],jl={key:1,class:"text-center py-5"},Dl={class:"text-muted mt-3"},Il={class:"text-muted"},Ml={key:2,class:"d-flex justify-content-center mt-4"},Ol={__name:"OrdersList",props:{orders:Object,employees:Array,translations:Object},emits:["refresh"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=j(!1),i=j(!1),y=j(null),m=W({search:"",status:"",assigned_employee_id:"",event_date:""}),x=()=>{E.get(route("decorations.dashboard"),{tab:"orders",...m},{preserveState:!0,replace:!0})},D=()=>{m.search="",m.status="",m.assigned_employee_id="",m.event_date="",x()},w=F=>new Date(F).toLocaleDateString("ar-EG"),k=(F,a)=>F&&F.length>a?F.substring(0,a)+"...":F,l=F=>({created:"secondary",received:"info",executing:"primary",partial_payment:"warning",full_payment:"success",completed:"success",cancelled:"danger"})[F]||"secondary",$=F=>({created:d.translations.created,received:d.translations.received,executing:d.translations.executing,partial_payment:d.translations.partial_payment,full_payment:d.translations.full_payment,completed:d.translations.completed,cancelled:d.translations.cancelled})[F]||F,M=F=>F.currency==="dollar"?d.translations.dollar:d.translations.dinar,r=F=>{E.get(route("decoration.orders.show",F.id))},K=F=>{y.value=F,c.value=!0},Y=F=>{y.value=F,n.value=!0},T=F=>{y.value=F,i.value=!0},C=()=>{c.value=!1,S("refresh")},v=()=>{n.value=!1,S("refresh")},P=()=>{i.value=!1,S("refresh")};return(F,a)=>(b(),p("div",null,[s("div",$n,[s("div",gn,[s("form",{onSubmit:A(x,["prevent"])},[s("div",xn,[s("div",wn,[f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>m.search=_),placeholder:e.translations.search+" ("+e.translations.customer_name+", "+e.translations.phone+")"},null,8,kn),[[U,m.search]])]),s("div",Cn,[f(s("select",{class:"form-select","onUpdate:modelValue":a[1]||(a[1]=_=>m.status=_)},[s("option",Un,t(e.translations.all_status),1),s("option",Vn,t(e.translations.created),1),s("option",Sn,t(e.translations.received),1),s("option",Fn,t(e.translations.executing),1),s("option",jn,t(e.translations.partial_payment),1),s("option",Dn,t(e.translations.full_payment),1),s("option",In,t(e.translations.completed),1),s("option",Mn,t(e.translations.cancelled),1)],512),[[z,m.status]])]),s("div",On,[f(s("select",{class:"form-select","onUpdate:modelValue":a[2]||(a[2]=_=>m.assigned_employee_id=_)},[s("option",An,t(e.translations.all_employees),1),(b(!0),p(Q,null,X(e.employees,_=>(b(),p("option",{key:_.id,value:_.id},t(_.name),9,qn))),128))],512),[[z,m.assigned_employee_id]])]),s("div",En,[f(s("input",{type:"date",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=_=>m.event_date=_),placeholder:e.translations.event_date},null,8,Pn),[[U,m.event_date]])]),s("div",zn,[s("button",Rn,[a[7]||(a[7]=s("i",{class:"bi bi-search"},null,-1)),u(" "+t(e.translations.search),1)])]),s("div",{class:"col-md-1"},[s("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:D},a[8]||(a[8]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1)]))])])],32)])]),e.orders.data.length>0?(b(),p("div",Tn,[(b(!0),p(Q,null,X(e.orders.data,_=>{var Z,R;return b(),p("div",{class:"col-xl-4 col-lg-6 col-md-12 mb-4",key:_.id},[s("div",Ln,[s("div",Nn,[s("div",null,[s("h6",Bn,t(e.translations.order)+" #"+t(_.id),1),s("small",Gn,t(w(_.created_at)),1)]),s("span",{class:q(["badge",`bg-${l(_.status)}`])},t($(_.status)),3)]),s("div",Wn,[s("div",Hn,[s("h6",Jn,t((Z=_.decoration)==null?void 0:Z.name),1),s("small",Qn,t((R=_.decoration)==null?void 0:R.type_name),1)]),s("div",Xn,[s("div",Kn,[a[9]||(a[9]=s("i",{class:"bi bi-person me-2"},null,-1)),s("strong",null,t(_.customer_name),1)]),s("div",Yn,[a[10]||(a[10]=s("i",{class:"bi bi-telephone me-2"},null,-1)),s("span",null,t(_.customer_phone),1)]),s("div",Zn,[a[11]||(a[11]=s("i",{class:"bi bi-calendar-event me-2"},null,-1)),s("span",null,t(w(_.event_date))+" "+t(_.event_time),1)])]),s("div",sl,[s("div",tl,[a[12]||(a[12]=s("i",{class:"bi bi-geo-alt me-2"},null,-1)),s("small",el,t(k(_.event_address,30)),1)]),s("div",ol,[a[13]||(a[13]=s("i",{class:"bi bi-people me-2"},null,-1)),s("small",nl,t(_.guest_count)+" "+t(e.translations.guests),1)])]),s("div",ll,[s("div",al,[s("div",il,[s("small",null,t(e.translations.base_price)+":",1),s("small",null,t(_.base_price)+" "+t(M(_)),1)]),_.additional_cost>0?(b(),p("div",rl,[s("small",dl,t(e.translations.additional_cost)+":",1),s("small",cl,"+"+t(_.additional_cost)+" "+t(M(_)),1)])):V("",!0),_.discount>0?(b(),p("div",ul,[s("small",ml,t(e.translations.discount)+":",1),s("small",bl,"-"+t(_.discount)+" "+t(M(_)),1)])):V("",!0),a[14]||(a[14]=s("hr",{class:"my-1"},null,-1)),s("div",vl,[s("strong",null,t(e.translations.total_price)+":",1),s("strong",_l,t(_.total_price)+" "+t(M(_)),1)]),s("div",hl,[s("span",null,t(e.translations.paid_amount)+":",1),s("span",pl,t(_.paid_amount||0)+" "+t(M(_)),1)]),s("div",yl,[s("span",null,t(e.translations.remaining_amount)+":",1),s("span",fl,t((_.total_price-(_.paid_amount||0)).toFixed(2))+" "+t(M(_)),1)])])]),_.assigned_employee?(b(),p("div",$l,[s("div",gl,[a[15]||(a[15]=s("i",{class:"bi bi-person-badge me-2"},null,-1)),s("small",xl,t(e.translations.assigned_employee)+": "+t(_.assigned_employee.name),1)])])):V("",!0)]),s("div",wl,[s("div",kl,[s("button",{onClick:L=>r(_),class:"btn btn-outline-primary btn-sm"},[a[16]||(a[16]=s("i",{class:"bi bi-eye"},null,-1)),u(" "+t(e.translations.view),1)],8,Cl),s("button",{onClick:L=>K(_),class:"btn btn-outline-secondary btn-sm"},[a[17]||(a[17]=s("i",{class:"bi bi-pencil"},null,-1)),u(" "+t(e.translations.update_status),1)],8,Ul),s("button",{onClick:L=>T(_),class:"btn btn-outline-warning btn-sm"},[a[18]||(a[18]=s("i",{class:"bi bi-calculator"},null,-1)),u(" "+t(e.translations.edit_pricing),1)],8,Vl),s("a",{href:F.route("decoration.orders.print",_.id),target:"_blank",class:"btn btn-outline-info btn-sm"},[a[19]||(a[19]=s("i",{class:"bi bi-printer"},null,-1)),u(" "+t(e.translations.print_invoice),1)],8,Sl),s("button",{onClick:L=>Y(_),class:"btn btn-outline-success btn-sm"},[a[20]||(a[20]=s("i",{class:"bi bi-person-plus"},null,-1)),u(" "+t(e.translations.assign),1)],8,Fl)])])])])}),128))])):(b(),p("div",jl,[a[21]||(a[21]=s("i",{class:"bi bi-calendar-x text-muted",style:{"font-size":"4rem"}},null,-1)),s("h4",Dl,t(e.translations.no_orders),1),s("p",Il,t(e.translations.no_orders_description),1)])),e.orders.data.length>0?(b(),p("div",Ml,[H(as,{links:e.orders.links},null,8,["links"])])):V("",!0),c.value?(b(),J(xs,{key:3,order:y.value,employees:e.employees,translations:e.translations,onClose:a[4]||(a[4]=_=>c.value=!1),onSuccess:C},null,8,["order","employees","translations"])):V("",!0),n.value?(b(),J(fn,{key:4,order:y.value,employees:e.employees,translations:e.translations,onClose:a[5]||(a[5]=_=>n.value=!1),onSuccess:v},null,8,["order","employees","translations"])):V("",!0),i.value?(b(),J(ws,{key:5,order:y.value,translations:e.translations,onClose:a[6]||(a[6]=_=>i.value=!1),onSuccess:P},null,8,["order","translations"])):V("",!0)]))}},Al=B(Ol,[["__scopeId","data-v-eabdd5dd"]]),ql={class:"row mb-4"},El={class:"col-xl-3 col-md-6 mb-4"},Pl={class:"card border-left-primary shadow h-100 py-2"},zl={class:"card-body"},Rl={class:"row no-gutters align-items-center"},Tl={class:"col mr-2"},Ll={class:"text-xs font-weight-bold text-primary text-uppercase mb-1"},Nl={class:"h5 mb-0 font-weight-bold text-gray-800"},Bl={class:"col-xl-3 col-md-6 mb-4"},Gl={class:"card border-left-success shadow h-100 py-2"},Wl={class:"card-body"},Hl={class:"row no-gutters align-items-center"},Jl={class:"col mr-2"},Ql={class:"text-xs font-weight-bold text-success text-uppercase mb-1"},Xl={class:"h5 mb-0 font-weight-bold text-gray-800"},Kl={class:"col-xl-3 col-md-6 mb-4"},Yl={class:"card border-left-info shadow h-100 py-2"},Zl={class:"card-body"},sa={class:"row no-gutters align-items-center"},ta={class:"col mr-2"},ea={class:"text-xs font-weight-bold text-info text-uppercase mb-1"},oa={class:"h5 mb-0 font-weight-bold text-gray-800"},na={class:"col-xl-3 col-md-6 mb-4"},la={class:"card border-left-warning shadow h-100 py-2"},aa={class:"card-body"},ia={class:"row no-gutters align-items-center"},ra={class:"col mr-2"},da={class:"text-xs font-weight-bold text-warning text-uppercase mb-1"},ca={class:"h5 mb-0 font-weight-bold text-gray-800"},ua={class:"row"},ma={class:"col-xl-6 col-lg-7"},ba={class:"card shadow mb-4"},va={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},_a={class:"m-0 font-weight-bold text-primary"},ha={class:"card-body"},pa={class:"mt-4 text-center small"},ya={class:"mr-2"},fa={class:"mr-2"},$a={class:"mr-2"},ga={class:"col-xl-6 col-lg-5"},xa={class:"card shadow mb-4"},wa={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},ka={class:"m-0 font-weight-bold text-primary"},Ca={class:"card-body"},Ua={class:"d-flex align-items-center justify-content-between mb-3"},Va={class:"d-flex align-items-center"},Sa={class:"ms-3"},Fa={class:"small text-gray-500"},ja={class:"font-weight-bold"},Da={class:"d-flex align-items-center justify-content-between mb-3"},Ia={class:"d-flex align-items-center"},Ma={class:"ms-3"},Oa={class:"small text-gray-500"},Aa={class:"font-weight-bold"},qa={class:"d-flex align-items-center justify-content-between"},Ea={class:"d-flex align-items-center"},Pa={class:"ms-3"},za={class:"small text-gray-500"},Ra={class:"font-weight-bold"},Ta={__name:"AnalyticsDashboard",props:{analytics:Object,translations:Object},setup(e){const O=e,d=S=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(S||0);return ss(()=>{console.log("Analytics loaded:",O.analytics)}),(S,c)=>(b(),p("div",null,[s("div",ql,[s("div",El,[s("div",Pl,[s("div",zl,[s("div",Rl,[s("div",Tl,[s("div",Ll,t(e.translations.decorations),1),s("div",Nl,t(e.analytics.total_decorations),1)]),c[0]||(c[0]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-palette fa-2x text-gray-300"})],-1))])])])]),s("div",Bl,[s("div",Gl,[s("div",Wl,[s("div",Hl,[s("div",Jl,[s("div",Ql,t(e.translations.total_orders),1),s("div",Xl,t(e.analytics.total_orders),1)]),c[1]||(c[1]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-calendar-check fa-2x text-gray-300"})],-1))])])])]),s("div",Kl,[s("div",Yl,[s("div",Zl,[s("div",sa,[s("div",ta,[s("div",ea,t(e.translations.total_revenue),1),s("div",oa,t(d(e.analytics.total_revenue)),1)]),c[2]||(c[2]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-currency-dollar fa-2x text-gray-300"})],-1))])])])]),s("div",na,[s("div",la,[s("div",aa,[s("div",ia,[s("div",ra,[s("div",da,t(e.translations.monthly_orders),1),s("div",ca,t(e.analytics.monthly_orders),1)]),c[3]||(c[3]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-graph-up fa-2x text-gray-300"})],-1))])])])])]),s("div",ua,[s("div",ma,[s("div",ba,[s("div",va,[s("h6",_a,t(e.translations.orders_by_status),1)]),s("div",ha,[c[7]||(c[7]=s("div",{class:"chart-pie pt-4 pb-2"},[s("canvas",{id:"ordersStatusChart"})],-1)),s("div",pa,[s("span",ya,[c[4]||(c[4]=s("i",{class:"fas fa-circle text-primary"},null,-1)),u(" "+t(e.translations.created),1)]),s("span",fa,[c[5]||(c[5]=s("i",{class:"fas fa-circle text-success"},null,-1)),u(" "+t(e.translations.completed),1)]),s("span",$a,[c[6]||(c[6]=s("i",{class:"fas fa-circle text-info"},null,-1)),u(" "+t(e.translations.executing),1)])])])])]),s("div",ga,[s("div",xa,[s("div",wa,[s("h6",ka,t(e.translations.recent_activity),1)]),s("div",Ca,[s("div",Ua,[s("div",Va,[c[8]||(c[8]=s("div",{class:"icon-circle bg-primary"},[s("i",{class:"bi bi-plus-circle text-white"})],-1)),s("div",Sa,[s("div",Fa,t(e.translations.pending_orders),1),s("div",ja,t(e.analytics.pending_orders),1)])])]),s("div",Da,[s("div",Ia,[c[9]||(c[9]=s("div",{class:"icon-circle bg-success"},[s("i",{class:"bi bi-check-circle text-white"})],-1)),s("div",Ma,[s("div",Oa,t(e.translations.completed_orders),1),s("div",Aa,t(e.analytics.completed_orders),1)])])]),s("div",qa,[s("div",Ea,[c[10]||(c[10]=s("div",{class:"icon-circle bg-info"},[s("i",{class:"bi bi-palette text-white"})],-1)),s("div",Pa,[s("div",za,t(e.translations.active)+" "+t(e.translations.decorations),1),s("div",Ra,t(e.analytics.active_decorations),1)])])])])])])])]))}},La=B(Ta,[["__scopeId","data-v-3f94cac6"]]),Na={class:"decoration-form-container"},Ba={class:"modal-header"},Ga={class:"modal-title"},Wa={class:"modal-body decoration-modal-body"},Ha={class:"progress-indicator mb-4"},Ja={class:"progress-steps"},Qa={class:"step-label"},Xa={class:"step-label"},Ka={class:"step-label"},Ya={class:"step-label"},Za={class:"form-step"},si={class:"step-header"},ti={class:"step-title"},ei={class:"step-description"},oi={class:"row"},ni={class:"col-md-6"},li={class:"form-group"},ai={class:"form-label required"},ii=["placeholder"],ri={key:0,class:"form-feedback"},di={class:"form-group"},ci={class:"form-label"},ui=["placeholder"],mi={key:0,class:"form-feedback"},bi={class:"col-md-6"},vi={class:"form-group"},_i={class:"form-label required"},hi={value:""},pi={value:"birthday"},yi={value:"gender_reveal"},fi={value:"baby_shower"},$i={value:"wedding"},gi={value:"graduation"},xi={value:"corporate"},wi={value:"religious"},ki={key:0,class:"form-feedback"},Ci={class:"form-group"},Ui={class:"form-label"},Vi={class:"form-check form-switch"},Si={class:"form-check-label",for:"is_active"},Fi={class:"form-step"},ji={class:"step-header"},Di={class:"step-title"},Ii={class:"step-description"},Mi={class:"row"},Oi={class:"col-md-6"},Ai={class:"form-group"},qi={class:"form-label required"},Ei={value:"dinar"},Pi={value:"dollar"},zi={key:0,class:"form-feedback"},Ri={class:"form-group"},Ti={class:"form-label required"},Li=["placeholder"],Ni={key:0,class:"form-feedback"},Bi={class:"col-md-6"},Gi={class:"form-group"},Wi={class:"form-label required"},Hi=["placeholder"],Ji={key:0,class:"form-feedback"},Qi={class:"price-display"},Xi={class:"price-card"},Ki={class:"price-header"},Yi={class:"price-value"},Zi={class:"row"},sr={class:"col-md-6"},tr={class:"form-group"},er={class:"form-label required"},or={class:"input-group"},nr=["placeholder"],lr={class:"input-group-text"},ar={key:0,class:"form-feedback"},ir={class:"col-md-6"},rr={class:"currency-converter"},dr={class:"form-label"},cr={class:"converter-display"},ur={class:"converted-item"},mr={class:"currency-label"},br={class:"currency-value"},vr={class:"converted-item"},_r={class:"currency-label"},hr={class:"currency-value"},pr={class:"form-step"},yr={class:"step-header"},fr={class:"step-title"},$r={class:"step-description"},gr={class:"row"},xr={class:"col-md-4"},wr={class:"form-group"},kr={class:"form-label"},Cr={class:"input-group"},Ur=["placeholder"],Vr={class:"input-group-text"},Sr={class:"col-md-4"},Fr={class:"form-group"},jr={class:"form-label"},Dr={class:"input-group"},Ir=["placeholder"],Mr={class:"input-group-text"},Or={class:"col-md-4"},Ar={class:"form-group"},qr={class:"form-label"},Er={class:"input-group"},Pr=["placeholder"],zr={class:"input-group-text"},Rr={class:"cost-summary"},Tr={class:"summary-title"},Lr={class:"summary-items"},Nr={class:"summary-item"},Br={class:"summary-item"},Gr={class:"summary-item"},Wr={class:"summary-item total"},Hr={class:"form-step"},Jr={class:"step-header"},Qr={class:"step-title"},Xr={class:"step-description"},Kr={class:"row"},Yr={class:"col-md-6"},Zr={class:"form-group"},sd={class:"form-label"},td={key:0,class:"upload-placeholder"},ed={key:1,class:"image-preview-container"},od=["src"],nd={class:"col-md-6"},ld={class:"form-group"},ad={class:"form-label"},id={key:0,class:"upload-placeholder"},rd={key:1,class:"images-grid"},dd=["src"],cd=["onClick"],ud={class:"row"},md={class:"col-12"},bd={class:"form-group"},vd={class:"form-label"},_d={class:"video-upload-section"},hd={class:"row"},pd={class:"col-md-6"},yd={key:0,class:"upload-placeholder"},fd={key:1,class:"video-preview-container"},$d=["src"],gd={class:"col-md-6"},xd={class:"form-group"},wd={class:"form-label"},kd=["placeholder"],Cd={class:"form-text text-muted"},Ud={class:"media-summary"},Vd={class:"summary-title"},Sd={class:"summary-items"},Fd={class:"summary-item"},jd={class:"summary-item"},Dd={class:"summary-item"},Id={class:"modal-footer"},Md=["disabled"],Od=["disabled"],Ad={key:0,class:"spinner-border spinner-border-sm me-2"},os=1500,qd={__name:"CreateDecorationForm",props:{translations:Object},emits:["success","cancel"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=j(1),i=j({}),y=j(null),m=j(null),x=j(null),D=j(null),w=j([]),k=j(null),l=j(null),$=j([]),M=j(null),r=W({name:"",description:"",type:"",currency:"dinar",base_price:"",base_price_dinar:"",base_price_dollar:"",duration_hours:"",team_size:"",is_active:!0,materials_cost:0,labor_cost:0,transportation_cost:0,video_url:""}),K=ls(()=>n.value===1?r.name&&r.type:n.value===2?r.base_price_dinar&&r.base_price_dollar&&r.duration_hours&&r.team_size:!0),Y=()=>{n.value<4&&n.value++},T=()=>{n.value>1&&n.value--},C=g=>{i.value[g]&&delete i.value[g]},v=()=>{r.base_price&&P()},P=()=>{const g=parseFloat(r.base_price)||0;r.currency==="dinar"?(r.base_price_dinar=g,r.base_price_dollar=(g/os).toFixed(2)):(r.base_price_dollar=g,r.base_price_dinar=(g*os).toFixed(0))},F=()=>r.currency==="dinar"?d.translations.enter_price_dinar:d.translations.enter_price_dollar,a=()=>`${r.base_price||0} ${R()}`,_=()=>`${r.base_price_dinar||0} ${d.translations.dinar}`,Z=()=>`${r.base_price_dollar||0} ${d.translations.dollar}`,R=()=>r.currency==="dinar"?d.translations.dinar:d.translations.dollar,L=g=>`${(parseFloat(g)||0).toLocaleString()} ${R()}`,is=()=>{const g=parseFloat(r.materials_cost)||0,o=parseFloat(r.labor_cost)||0,h=parseFloat(r.transportation_cost)||0;return g+o+h},rs=()=>{var g;(g=y.value)==null||g.click()},ds=()=>{var g;(g=m.value)==null||g.click()},cs=()=>{var g;(g=x.value)==null||g.click()},us=g=>{const o=g.target.files[0];if(o){l.value=o;const h=new FileReader;h.onload=I=>{D.value=I.target.result},h.readAsDataURL(o)}},ms=g=>{const o=g.dataTransfer.files;if(o.length>0){const h=o[0];if(h.type.startsWith("image/")){l.value=h;const I=new FileReader;I.onload=N=>{D.value=N.target.result},I.readAsDataURL(h)}}},bs=()=>{D.value=null,l.value=null,y.value&&(y.value.value="")},vs=g=>{Array.from(g.target.files).forEach(h=>{if(h.type.startsWith("image/")&&w.value.length<10){$.value.push(h);const I=new FileReader;I.onload=N=>{w.value.push(N.target.result)},I.readAsDataURL(h)}})},_s=g=>{Array.from(g.dataTransfer.files).forEach(h=>{if(h.type.startsWith("image/")&&w.value.length<10){$.value.push(h);const I=new FileReader;I.onload=N=>{w.value.push(N.target.result)},I.readAsDataURL(h)}})},hs=g=>{w.value.splice(g,1),$.value.splice(g,1)},ps=g=>{const o=g.target.files[0];if(o){M.value=o;const h=new FileReader;h.onload=I=>{k.value=I.target.result},h.readAsDataURL(o)}},ys=g=>{const o=g.dataTransfer.files;if(o.length>0){const h=o[0];if(h.type.startsWith("video/")){M.value=h;const I=new FileReader;I.onload=N=>{k.value=N.target.result},I.readAsDataURL(h)}}},fs=()=>{k.value=null,M.value=null,x.value&&(x.value.value="")},ts=()=>{c.value=!0;const g=new FormData;Object.keys(r).forEach(o=>{o!=="video_url"&&(typeof r[o]=="boolean"?g.append(o,r[o]?"1":"0"):g.append(o,r[o]))}),l.value&&g.append("main_image",l.value),$.value.forEach((o,h)=>{g.append(`images[${h}]`,o)}),M.value?g.append("video",M.value):r.video_url&&g.append("video_url",r.video_url),g.append("base_price",r.currency==="dinar"?r.base_price_dinar:r.base_price_dollar),g.append("materials_cost",parseFloat(r.materials_cost)||0),g.append("labor_cost",parseFloat(r.labor_cost)||0),g.append("transportation_cost",parseFloat(r.transportation_cost)||0),E.post(route("decorations.store"),g,{onSuccess:()=>{c.value=!1,S("success")},onError:o=>{c.value=!1,console.error("Validation errors:",o)}})};return(g,o)=>(b(),p("div",Na,[s("div",Ba,[s("h4",Ga,[o[21]||(o[21]=s("i",{class:"bi bi-plus-circle"},null,-1)),u(" "+t(e.translations.add_decoration),1)])]),s("div",Wa,[s("div",Ha,[s("div",Ja,[s("div",{class:q(["step",{active:n.value>=1,completed:n.value>1}])},[o[22]||(o[22]=s("div",{class:"step-number"},"1",-1)),s("div",Qa,t(e.translations.basic_information),1)],2),s("div",{class:q(["step",{active:n.value>=2,completed:n.value>2}])},[o[23]||(o[23]=s("div",{class:"step-number"},"2",-1)),s("div",Xa,t(e.translations.pricing_details),1)],2),s("div",{class:q(["step",{active:n.value>=3,completed:n.value>3}])},[o[24]||(o[24]=s("div",{class:"step-number"},"3",-1)),s("div",Ka,t(e.translations.additional_details),1)],2),s("div",{class:q(["step",{active:n.value>=4,completed:n.value>4}])},[o[25]||(o[25]=s("div",{class:"step-number"},"4",-1)),s("div",Ya,t(e.translations.media_upload),1)],2)])]),s("form",{onSubmit:A(ts,["prevent"]),class:"decoration-form"},[f(s("div",Za,[s("div",si,[s("h5",ti,[o[26]||(o[26]=s("i",{class:"bi bi-info-circle text-primary"},null,-1)),u(" "+t(e.translations.basic_information),1)]),s("p",ei,t(e.translations.fill_basic_info),1)]),s("div",oi,[s("div",ni,[s("div",li,[s("label",ai,[o[27]||(o[27]=s("i",{class:"bi bi-tag"},null,-1)),u(" "+t(e.translations.decoration_name),1)]),f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=h=>r.name=h),placeholder:e.translations.enter_decoration_name,required:"",onInput:o[1]||(o[1]=h=>C("name"))},null,40,ii),[[U,r.name]]),i.value.name?(b(),p("div",ri,t(i.value.name),1)):V("",!0)]),s("div",di,[s("label",ci,[o[28]||(o[28]=s("i",{class:"bi bi-file-text"},null,-1)),u(" "+t(e.translations.decoration_description),1)]),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[2]||(o[2]=h=>r.description=h),placeholder:e.translations.enter_description,onInput:o[3]||(o[3]=h=>C("description"))},null,40,ui),[[U,r.description]]),i.value.description?(b(),p("div",mi,t(i.value.description),1)):V("",!0)])]),s("div",bi,[s("div",vi,[s("label",_i,[o[29]||(o[29]=s("i",{class:"bi bi-grid"},null,-1)),u(" "+t(e.translations.decoration_type),1)]),f(s("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=h=>r.type=h),required:"",onChange:o[5]||(o[5]=h=>C("type"))},[s("option",hi,t(e.translations.select_type),1),s("option",pi,t(e.translations.birthday),1),s("option",yi,t(e.translations.gender_reveal),1),s("option",fi,t(e.translations.baby_shower),1),s("option",$i,t(e.translations.wedding),1),s("option",gi,t(e.translations.graduation),1),s("option",xi,t(e.translations.corporate),1),s("option",wi,t(e.translations.religious),1)],544),[[z,r.type]]),i.value.type?(b(),p("div",ki,t(i.value.type),1)):V("",!0)]),s("div",Ci,[s("label",Ui,[o[30]||(o[30]=s("i",{class:"bi bi-toggle-on"},null,-1)),u(" "+t(e.translations.status),1)]),s("div",Vi,[f(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=h=>r.is_active=h),id:"is_active"},null,512),[[ns,r.is_active]]),s("label",Si,t(r.is_active?e.translations.active:e.translations.inactive),1)])])])])],512),[[G,n.value===1]]),f(s("div",Fi,[s("div",ji,[s("h5",Di,[o[31]||(o[31]=s("i",{class:"bi bi-currency-dollar text-success"},null,-1)),u(" "+t(e.translations.pricing_details),1)]),s("p",Ii,t(e.translations.set_pricing_info),1)]),s("div",Mi,[s("div",Oi,[s("div",Ai,[s("label",qi,[o[32]||(o[32]=s("i",{class:"bi bi-globe"},null,-1)),u(" "+t(e.translations.currency),1)]),f(s("select",{class:"form-select","onUpdate:modelValue":o[7]||(o[7]=h=>r.currency=h),required:"",onChange:v},[s("option",Ei,t(e.translations.dinar),1),s("option",Pi,t(e.translations.dollar),1)],544),[[z,r.currency]]),i.value.currency?(b(),p("div",zi,t(i.value.currency),1)):V("",!0)]),s("div",Ri,[s("label",Ti,[o[33]||(o[33]=s("i",{class:"bi bi-clock"},null,-1)),u(" "+t(e.translations.duration_hours),1)]),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=h=>r.duration_hours=h),placeholder:e.translations.enter_duration,min:"1",max:"24",required:"",onInput:o[9]||(o[9]=h=>C("duration_hours"))},null,40,Li),[[U,r.duration_hours]]),i.value.duration_hours?(b(),p("div",Ni,t(i.value.duration_hours),1)):V("",!0)])]),s("div",Bi,[s("div",Gi,[s("label",Wi,[o[34]||(o[34]=s("i",{class:"bi bi-people"},null,-1)),u(" "+t(e.translations.team_size),1)]),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=h=>r.team_size=h),placeholder:e.translations.enter_team_size,min:"1",max:"20",required:"",onInput:o[11]||(o[11]=h=>C("team_size"))},null,40,Hi),[[U,r.team_size]]),i.value.team_size?(b(),p("div",Ji,t(i.value.team_size),1)):V("",!0)]),s("div",Qi,[s("div",Xi,[s("div",Ki,[o[35]||(o[35]=s("i",{class:"bi bi-calculator"},null,-1)),u(" "+t(e.translations.current_price),1)]),s("div",Yi,t(a()),1)])])])]),s("div",Zi,[s("div",sr,[s("div",tr,[s("label",er,[o[36]||(o[36]=s("i",{class:"bi bi-currency-exchange"},null,-1)),u(" "+t(e.translations.base_price),1)]),s("div",or,[f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=h=>r.base_price=h),placeholder:F(),min:"0",required:"",onInput:P},null,40,nr),[[U,r.base_price]]),s("span",lr,t(R()),1)]),i.value.base_price?(b(),p("div",ar,t(i.value.base_price),1)):V("",!0)])]),s("div",ir,[s("div",rr,[s("label",dr,[o[37]||(o[37]=s("i",{class:"bi bi-calculator"},null,-1)),u(" "+t(e.translations.converted_price),1)]),s("div",cr,[s("div",ur,[s("span",mr,t(e.translations.dinar)+":",1),s("span",br,t(_()),1)]),s("div",vr,[s("span",_r,t(e.translations.dollar)+":",1),s("span",hr,t(Z()),1)])])])])])],512),[[G,n.value===2]]),f(s("div",pr,[s("div",yr,[s("h5",fr,[o[38]||(o[38]=s("i",{class:"bi bi-gear text-info"},null,-1)),u(" "+t(e.translations.additional_details),1)]),s("p",$r,t(e.translations.set_additional_costs),1)]),s("div",gr,[s("div",xr,[s("div",wr,[s("label",kr,[o[39]||(o[39]=s("i",{class:"bi bi-box"},null,-1)),u(" "+t(e.translations.materials_cost),1)]),s("div",Cr,[f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=h=>r.materials_cost=h),placeholder:e.translations.enter_materials_cost,min:"0"},null,8,Ur),[[U,r.materials_cost]]),s("span",Vr,t(R()),1)])])]),s("div",Sr,[s("div",Fr,[s("label",jr,[o[40]||(o[40]=s("i",{class:"bi bi-person-workspace"},null,-1)),u(" "+t(e.translations.labor_cost),1)]),s("div",Dr,[f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=h=>r.labor_cost=h),placeholder:e.translations.enter_labor_cost,min:"0"},null,8,Ir),[[U,r.labor_cost]]),s("span",Mr,t(R()),1)])])]),s("div",Or,[s("div",Ar,[s("label",qr,[o[41]||(o[41]=s("i",{class:"bi bi-truck"},null,-1)),u(" "+t(e.translations.transportation_cost),1)]),s("div",Er,[f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=h=>r.transportation_cost=h),placeholder:e.translations.enter_transportation_cost,min:"0"},null,8,Pr),[[U,r.transportation_cost]]),s("span",zr,t(R()),1)])])])]),s("div",Rr,[s("h6",Tr,[o[42]||(o[42]=s("i",{class:"bi bi-calculator"},null,-1)),u(" "+t(e.translations.cost_summary),1)]),s("div",Lr,[s("div",Nr,[s("span",null,t(e.translations.materials_cost)+":",1),s("span",null,t(L(r.materials_cost)),1)]),s("div",Br,[s("span",null,t(e.translations.labor_cost)+":",1),s("span",null,t(L(r.labor_cost)),1)]),s("div",Gr,[s("span",null,t(e.translations.transportation_cost)+":",1),s("span",null,t(L(r.transportation_cost)),1)]),s("div",Wr,[s("span",null,t(e.translations.total_cost)+":",1),s("span",null,t(L(is())),1)])])])],512),[[G,n.value===3]]),f(s("div",Hr,[s("div",Jr,[s("h5",Qr,[o[43]||(o[43]=s("i",{class:"bi bi-camera text-warning"},null,-1)),u(" "+t(e.translations.media_upload),1)]),s("p",Xr,t(e.translations.upload_images_videos),1)]),s("div",Kr,[s("div",Yr,[s("div",Zr,[s("label",sd,[o[44]||(o[44]=s("i",{class:"bi bi-image"},null,-1)),u(" "+t(e.translations.main_image),1)]),s("div",{class:"upload-area",onClick:rs,onDragover:o[16]||(o[16]=A(()=>{},["prevent"])),onDrop:A(ms,["prevent"])},[s("input",{ref_key:"mainImageInput",ref:y,type:"file",accept:"image/*",onChange:us,style:{display:"none"}},null,544),D.value?(b(),p("div",ed,[s("img",{src:D.value,alt:"Main Image Preview",class:"preview-image"},null,8,od),s("button",{type:"button",onClick:A(bs,["stop"]),class:"remove-image-btn"},o[46]||(o[46]=[s("i",{class:"bi bi-x"},null,-1)]))])):(b(),p("div",td,[o[45]||(o[45]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_image),1),s("small",null,t(e.translations.supported_formats),1)]))],32)])]),s("div",nd,[s("div",ld,[s("label",ad,[o[47]||(o[47]=s("i",{class:"bi bi-images"},null,-1)),u(" "+t(e.translations.additional_images),1)]),s("div",{class:"upload-area",onClick:ds,onDragover:o[17]||(o[17]=A(()=>{},["prevent"])),onDrop:A(_s,["prevent"])},[s("input",{ref_key:"additionalImagesInput",ref:m,type:"file",accept:"image/*",multiple:"",onChange:vs,style:{display:"none"}},null,544),w.value.length===0?(b(),p("div",id,[o[48]||(o[48]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_multiple_images),1),s("small",null,t(e.translations.max_images_limit),1)])):(b(),p("div",rd,[(b(!0),p(Q,null,X(w.value,(h,I)=>(b(),p("div",{key:I,class:"image-item"},[s("img",{src:h,alt:"Additional Image Preview",class:"preview-image"},null,8,dd),s("button",{type:"button",onClick:A(N=>hs(I),["stop"]),class:"remove-image-btn"},o[49]||(o[49]=[s("i",{class:"bi bi-x"},null,-1)]),8,cd)]))),128))]))],32)])])]),s("div",ud,[s("div",md,[s("div",bd,[s("label",vd,[o[50]||(o[50]=s("i",{class:"bi bi-play-circle"},null,-1)),u(" "+t(e.translations.video_upload),1)]),s("div",_d,[s("div",hd,[s("div",pd,[s("div",{class:"upload-area",onClick:cs,onDragover:o[18]||(o[18]=A(()=>{},["prevent"])),onDrop:A(ys,["prevent"])},[s("input",{ref_key:"videoInput",ref:x,type:"file",accept:"video/*",onChange:ps,style:{display:"none"}},null,544),k.value?(b(),p("div",fd,[s("video",{src:k.value,controls:"",class:"preview-video"},null,8,$d),s("button",{type:"button",onClick:A(fs,["stop"]),class:"remove-video-btn"},o[52]||(o[52]=[s("i",{class:"bi bi-x"},null,-1)]))])):(b(),p("div",yd,[o[51]||(o[51]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_video),1),s("small",null,t(e.translations.supported_video_formats),1)]))],32)]),s("div",gd,[s("div",xd,[s("label",wd,[o[53]||(o[53]=s("i",{class:"bi bi-link-45deg"},null,-1)),u(" "+t(e.translations.video_url_alternative),1)]),f(s("input",{type:"url",class:"form-control","onUpdate:modelValue":o[19]||(o[19]=h=>r.video_url=h),placeholder:e.translations.enter_video_url},null,8,kd),[[U,r.video_url]]),s("small",Cd,t(e.translations.or_enter_video_url),1)])])])])])])]),s("div",Ud,[s("h6",Vd,[o[54]||(o[54]=s("i",{class:"bi bi-collection"},null,-1)),u(" "+t(e.translations.media_summary),1)]),s("div",Sd,[s("div",Fd,[s("span",null,t(e.translations.main_image)+":",1),s("span",null,t(D.value?e.translations.uploaded:e.translations.not_uploaded),1)]),s("div",jd,[s("span",null,t(e.translations.additional_images)+":",1),s("span",null,t(w.value.length)+" "+t(e.translations.images),1)]),s("div",Dd,[s("span",null,t(e.translations.video)+":",1),s("span",null,t(k.value||r.video_url?e.translations.uploaded:e.translations.not_uploaded),1)])])])],512),[[G,n.value===4]])],32)]),s("div",Id,[s("button",{type:"button",class:"btn btn-outline-secondary",onClick:T,disabled:n.value===1},[o[55]||(o[55]=s("i",{class:"bi bi-arrow-left"},null,-1)),u(" "+t(e.translations.previous),1)],8,Md),n.value<4?(b(),p("button",{key:0,type:"button",class:"btn btn-outline-primary",onClick:Y},[u(t(e.translations.next)+" ",1),o[56]||(o[56]=s("i",{class:"bi bi-arrow-right"},null,-1))])):V("",!0),n.value===4?(b(),p("button",{key:1,type:"submit",class:"btn btn-success",disabled:c.value||!K.value,onClick:ts},[c.value?(b(),p("span",Ad)):V("",!0),o[57]||(o[57]=s("i",{class:"bi bi-check-circle"},null,-1)),u(" "+t(e.translations.save),1)],8,Od)):V("",!0),s("button",{type:"button",class:"btn btn-outline-danger",onClick:o[20]||(o[20]=h=>g.$emit("cancel"))},[o[58]||(o[58]=s("i",{class:"bi bi-x-circle"},null,-1)),u(" "+t(e.translations.cancel),1)])])]))}},Ed=B(qd,[["__scopeId","data-v-22fff0c4"]]),Pd={class:"d-flex justify-content-between align-items-center"},zd={class:"font-semibold text-xl text-gray-800 leading-tight"},Rd={class:"d-flex gap-2"},Td={class:"py-12"},Ld={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Nd={class:"card mb-4"},Bd={class:"card-header"},Gd={class:"nav nav-tabs card-header-tabs",role:"tablist"},Wd={class:"nav-item",role:"presentation"},Hd={class:"badge bg-primary ms-2"},Jd={class:"nav-item",role:"presentation"},Qd={class:"badge bg-success ms-2"},Xd={class:"nav-item",role:"presentation"},Kd={class:"tab-content"},Yd={key:0,class:"modal-mask"},Zd={class:"modal-wrapper"},sc={class:"modal-container"},tc={class:"modal-header"},ec={class:"modal-body"},oc={__name:"Dashboard",props:{decorations:Object,orders:Object,customers:Array,employees:Array,analytics:Object,translations:Object,activeTabProp:{type:String,default:"decorations"}},setup(e){const O=$s(),d=e,S=j(d.activeTabProp),c=j(!1),n=ls(()=>d.translations||{}),i=()=>{E.reload({only:["decorations","orders","analytics"]})},y=()=>{c.value=!1,i()},m=D=>O.props.auth_permissions&&O.props.auth_permissions.includes(D),x=D=>{S.value=D,E.get(route("decorations.dashboard"),{tab:D},{preserveState:!0,replace:!0})};return(D,w)=>(b(),J(gs,{translations:n.value},{header:es(()=>[s("div",Pd,[s("h2",zd,t(n.value.decorations_dashboard),1),s("div",Rd,[m("create decoration")?(b(),p("button",{key:0,class:"btn btn-primary",onClick:w[0]||(w[0]=k=>c.value=!0)},[w[8]||(w[8]=s("i",{class:"bi bi-plus-circle"},null,-1)),u(" "+t(n.value.create_decoration),1)])):V("",!0),s("button",{class:"btn btn-success",onClick:w[1]||(w[1]=k=>x("orders"))},[w[9]||(w[9]=s("i",{class:"bi bi-calendar-check"},null,-1)),u(" "+t(n.value.decoration_orders),1)])])])]),default:es(()=>{var k,l,$,M;return[s("div",Td,[s("div",Ld,[s("div",Nd,[s("div",Bd,[s("ul",Gd,[s("li",Wd,[s("button",{class:q(["nav-link",{active:S.value==="decorations"}]),onClick:w[2]||(w[2]=r=>x("decorations")),type:"button"},[w[10]||(w[10]=s("i",{class:"bi bi-palette"},null,-1)),u(" "+t(n.value.decorations)+" ",1),s("span",Hd,t(((l=(k=e.decorations)==null?void 0:k.data)==null?void 0:l.length)||0),1)],2)]),s("li",Jd,[s("button",{class:q(["nav-link",{active:S.value==="orders"}]),onClick:w[3]||(w[3]=r=>x("orders")),type:"button"},[w[11]||(w[11]=s("i",{class:"bi bi-calendar-check"},null,-1)),u(" "+t(n.value.decoration_orders)+" ",1),s("span",Qd,t(((M=($=e.orders)==null?void 0:$.data)==null?void 0:M.length)||0),1)],2)]),s("li",Xd,[s("button",{class:q(["nav-link",{active:S.value==="analytics"}]),onClick:w[4]||(w[4]=r=>x("analytics")),type:"button"},[w[12]||(w[12]=s("i",{class:"bi bi-graph-up"},null,-1)),u(" "+t(n.value.statistics),1)],2)])])])]),s("div",Kd,[f(s("div",{class:q(["tab-pane fade",{"show active":S.value==="decorations"}])},[H(en,{decorations:e.decorations,customers:e.customers,translations:n.value,onCreateDecoration:w[5]||(w[5]=r=>c.value=!0),onRefresh:i},null,8,["decorations","customers","translations"])],2),[[G,S.value==="decorations"]]),f(s("div",{class:q(["tab-pane fade",{"show active":S.value==="orders"}])},[H(Al,{orders:e.orders,employees:e.employees,translations:n.value,onRefresh:i},null,8,["orders","employees","translations"])],2),[[G,S.value==="orders"]]),f(s("div",{class:q(["tab-pane fade",{"show active":S.value==="analytics"}])},[H(La,{analytics:e.analytics,translations:n.value},null,8,["analytics","translations"])],2),[[G,S.value==="analytics"]])])])]),c.value?(b(),p("div",Yd,[s("div",Zd,[s("div",sc,[s("div",tc,[s("h3",null,t(n.value.create_decoration),1),s("button",{onClick:w[6]||(w[6]=r=>c.value=!1),class:"btn-close"})]),s("div",ec,[H(Ed,{translations:n.value,onSuccess:y,onCancel:w[7]||(w[7]=r=>c.value=!1)},null,8,["translations"])])])])])):V("",!0)]}),_:1},8,["translations"]))}},cc=B(oc,[["__scopeId","data-v-46c679fb"]]);export{cc as default};
