import{m as j,q as W,p as ss,o as v,f as h,b as s,t,e as q,d as m,i as f,z,F as Q,x as X,s as C,g as V,n as A,A as E,v as ns,a as H,c as J,h as ls,H as G,Q as $s,w as es}from"./app-DfrujaWl.js";import{_ as gs}from"./AuthenticatedLayout-DGOyDvK1.js";import{_ as as}from"./Pagination-Caoux92W.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as xs}from"./StatusUpdateModal-C4FJv3Vr.js";import{P as ws}from"./PricingEditModal-D-W3BU9K.js";const ks={class:"modal-mask"},Cs={class:"modal-wrapper"},Us={class:"modal-container",style:{"max-width":"900px"}},Vs={class:"modal-header"},Ss={class:"modal-body"},Fs={class:"row mb-4"},js={class:"col-12"},Ds={class:"text-primary"},Is={class:"col-md-8"},Ms={class:"form-label"},Os={value:""},qs=["value"],As={class:"col-md-4"},Es={key:0,class:"col-12 mt-3"},Ps={class:"border rounded p-3 bg-light"},zs={class:"row"},Rs={class:"col-md-4"},Ts={class:"form-label"},Ls={class:"col-md-4"},Ns={class:"form-label"},Bs={class:"col-md-4"},Gs={class:"form-label"},Ws={class:"col-12 mt-2"},Hs={class:"form-label"},Js={key:1,class:"col-12 mt-3"},Qs={class:"alert alert-info"},Xs={class:"row mb-4"},Ks={class:"col-12"},Ys={class:"text-success"},Zs={class:"col-md-6"},st={class:"form-label"},tt={class:"col-md-3"},et={class:"form-label"},ot={class:"col-md-3"},nt={class:"form-label"},lt={class:"col-md-6 mt-3"},at={class:"form-label"},it={class:"col-md-6 mt-3"},rt={class:"form-label"},dt={class:"row mb-4"},ct={class:"col-12"},ut={class:"text-info"},mt={class:"col-md-6"},vt={class:"card"},bt={class:"card-body"},_t={class:"card-title"},ht={class:"card-text"},pt={class:"d-flex justify-content-between"},yt={class:"badge bg-primary"},ft={class:"badge bg-info"},$t={class:"col-md-6"},gt={class:"card"},xt={class:"card-body"},wt={class:"card-title"},kt={class:"d-flex justify-content-between mb-2"},Ct={class:"d-flex justify-content-between mb-2"},Ut={class:"d-flex justify-content-between"},Vt={class:"row mb-4"},St={class:"col-12"},Ft={class:"text-warning"},jt={class:"col-md-3"},Dt={class:"form-label"},It={class:"col-md-3"},Mt={class:"form-label"},Ot={class:"col-md-3"},qt={class:"form-label"},At={class:"col-md-3"},Et={class:"form-label"},Pt={class:"d-flex justify-content-center gap-2"},zt=["disabled"],Rt={key:0,class:"spinner-border spinner-border-sm me-2"},Tt={__name:"OrderCreationModal",props:{decoration:Object,customers:Array,translations:Object},emits:["close","success"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=j(!1),i=W({decoration_id:d.decoration.id,customer_id:"",customer_name:"",customer_phone:"",customer_email:"",event_address:"",event_date:"",event_time:"",guest_count:50,special_requests:"",base_price:0,additional_cost:0,discount:0,total_price:0}),p=W({name:"",phone:"",email:"",address:""}),u=k=>{const l=k.currency==="dollar"?k.base_price_dollar:k.base_price_dinar,$=k.currency==="dollar"?d.translations.dollar:d.translations.dinar;return`${parseFloat(l).toFixed(2)} ${$}`},x=()=>{if(i.customer_id){const k=d.customers.find(l=>l.id==i.customer_id);k&&(i.customer_name=k.name,i.customer_phone=k.phone,i.customer_email=k.email||"",n.value=!1)}else i.customer_name="",i.customer_phone="",i.customer_email=""},D=()=>{const k=parseFloat(i.base_price)||0,l=parseFloat(i.additional_cost)||0,$=parseFloat(i.discount)||0;i.total_price=Math.max(0,k+l-$)},w=async()=>{c.value=!0;try{n.value&&p.name&&await E.post("/customers",{...p,is_active:!0,notes:d.translations.created_from_decoration},{preserveState:!0,onSuccess:k=>{i.customer_name=p.name,i.customer_phone=p.phone,i.customer_email=p.email}}),E.post("/decoration-orders",i,{onSuccess:()=>{c.value=!1,S("success")},onError:()=>{c.value=!1}})}catch(k){c.value=!1,console.error("Error creating order:",k)}};return ss(()=>{const k=d.decoration.currency==="dollar"?d.decoration.base_price_dollar:d.decoration.base_price_dinar;i.base_price=parseFloat(k),i.total_price=parseFloat(k)}),(k,l)=>(v(),h("div",ks,[s("div",Cs,[s("div",Us,[s("div",Vs,[s("h3",null,t(e.translations.create_order)+" - "+t(e.decoration.name),1),s("button",{onClick:l[0]||(l[0]=$=>k.$emit("close")),class:"btn-close"})]),s("div",Ss,[s("form",{onSubmit:q(w,["prevent"])},[s("div",Fs,[s("div",js,[s("h5",Ds,[l[17]||(l[17]=s("i",{class:"bi bi-person"},null,-1)),m(" "+t(e.translations.customer_details),1)]),l[18]||(l[18]=s("hr",null,null,-1))]),s("div",Is,[s("label",Ms,t(e.translations.select_customer),1),f(s("select",{class:"form-select","onUpdate:modelValue":l[1]||(l[1]=$=>i.customer_id=$),onChange:x},[s("option",Os,t(e.translations.select_customer),1),(v(!0),h(Q,null,X(e.customers,$=>(v(),h("option",{key:$.id,value:$.id},t($.name)+" - "+t($.phone),9,qs))),128))],544),[[z,i.customer_id]])]),s("div",As,[l[20]||(l[20]=s("label",{class:"form-label"},"Â ",-1)),s("button",{type:"button",class:"btn btn-outline-primary w-100",onClick:l[2]||(l[2]=$=>n.value=!n.value)},[l[19]||(l[19]=s("i",{class:"bi bi-plus-circle"},null,-1)),m(" "+t(e.translations.create_new_customer),1)])]),n.value?(v(),h("div",Es,[s("div",Ps,[s("div",zs,[s("div",Rs,[s("label",Ts,t(e.translations.name)+" *",1),f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":l[3]||(l[3]=$=>p.name=$),required:""},null,512),[[C,p.name]])]),s("div",Ls,[s("label",Ns,t(e.translations.phone),1),f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":l[4]||(l[4]=$=>p.phone=$)},null,512),[[C,p.phone]])]),s("div",Bs,[s("label",Gs,t(e.translations.email),1),f(s("input",{type:"email",class:"form-control","onUpdate:modelValue":l[5]||(l[5]=$=>p.email=$)},null,512),[[C,p.email]])]),s("div",Ws,[s("label",Hs,t(e.translations.address),1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":l[6]||(l[6]=$=>p.address=$)},null,512),[[C,p.address]])])])])])):V("",!0),i.customer_name&&!n.value?(v(),h("div",Js,[s("div",Qs,[s("strong",null,t(e.translations.selected_customer)+":",1),l[21]||(l[21]=s("br",null,null,-1)),l[22]||(l[22]=s("i",{class:"bi bi-person"},null,-1)),m(" "+t(i.customer_name),1),l[23]||(l[23]=s("br",null,null,-1)),l[24]||(l[24]=s("i",{class:"bi bi-telephone"},null,-1)),m(" "+t(i.customer_phone),1),l[25]||(l[25]=s("br",null,null,-1)),l[26]||(l[26]=s("i",{class:"bi bi-envelope"},null,-1)),m(" "+t(i.customer_email||e.translations.not_provided),1)])])):V("",!0)]),s("div",Xs,[s("div",Ks,[s("h5",Ys,[l[27]||(l[27]=s("i",{class:"bi bi-calendar-event"},null,-1)),m(" "+t(e.translations.event_details),1)]),l[28]||(l[28]=s("hr",null,null,-1))]),s("div",Zs,[s("label",st,t(e.translations.event_address)+" *",1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":l[7]||(l[7]=$=>i.event_address=$),required:""},null,512),[[C,i.event_address]])]),s("div",tt,[s("label",et,t(e.translations.event_date)+" *",1),f(s("input",{type:"date",class:"form-control","onUpdate:modelValue":l[8]||(l[8]=$=>i.event_date=$),required:""},null,512),[[C,i.event_date]])]),s("div",ot,[s("label",nt,t(e.translations.event_time)+" *",1),f(s("input",{type:"time",class:"form-control","onUpdate:modelValue":l[9]||(l[9]=$=>i.event_time=$),required:""},null,512),[[C,i.event_time]])]),s("div",lt,[s("label",at,t(e.translations.guest_count),1),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":l[10]||(l[10]=$=>i.guest_count=$),min:"1"},null,512),[[C,i.guest_count]])]),s("div",it,[s("label",rt,t(e.translations.special_requests),1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":l[11]||(l[11]=$=>i.special_requests=$)},null,512),[[C,i.special_requests]])])]),s("div",dt,[s("div",ct,[s("h5",ut,[l[29]||(l[29]=s("i",{class:"bi bi-palette"},null,-1)),m(" "+t(e.translations.decoration_details),1)]),l[30]||(l[30]=s("hr",null,null,-1))]),s("div",mt,[s("div",vt,[s("div",bt,[s("h6",_t,t(e.decoration.name),1),s("p",ht,t(e.decoration.description),1),s("div",pt,[s("span",yt,t(e.decoration.type_name),1),s("span",ft,t(e.decoration.duration_hours)+" "+t(e.translations.hours),1)])])])]),s("div",$t,[s("div",gt,[s("div",xt,[s("h6",wt,t(e.translations.pricing_details),1),s("div",kt,[s("span",null,t(e.translations.base_price)+":",1),s("strong",null,t(u(e.decoration)),1)]),s("div",Ct,[s("span",null,t(e.translations.team_size)+":",1),s("span",null,t(e.decoration.team_size)+" "+t(e.translations.team_members),1)]),s("div",Ut,[s("span",null,t(e.translations.currency)+":",1),s("span",{class:A(["badge",e.decoration.currency==="dollar"?"bg-success":"bg-primary"])},t(e.decoration.currency==="dollar"?e.translations.dollar:e.translations.dinar),3)])])])])]),s("div",Vt,[s("div",St,[s("h5",Ft,[l[31]||(l[31]=s("i",{class:"bi bi-calculator"},null,-1)),m(" "+t(e.translations.payment_details),1)]),l[32]||(l[32]=s("hr",null,null,-1))]),s("div",jt,[s("label",Dt,t(e.translations.base_price),1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[12]||(l[12]=$=>i.base_price=$),readonly:""},null,512),[[C,i.base_price]])]),s("div",It,[s("label",Mt,t(e.translations.additional_cost),1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[13]||(l[13]=$=>i.additional_cost=$),onInput:D},null,544),[[C,i.additional_cost]])]),s("div",Ot,[s("label",qt,t(e.translations.discount),1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[14]||(l[14]=$=>i.discount=$),onInput:D},null,544),[[C,i.discount]])]),s("div",At,[s("label",Et,t(e.translations.total_price),1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[15]||(l[15]=$=>i.total_price=$),readonly:""},null,512),[[C,i.total_price]])])]),s("div",Pt,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:l[16]||(l[16]=$=>k.$emit("close"))},[l[33]||(l[33]=s("i",{class:"bi bi-x-circle"},null,-1)),m(" "+t(e.translations.cancel),1)]),s("button",{type:"submit",class:"btn btn-success w-100 text-center",disabled:c.value},[c.value?(v(),h("span",Rt)):V("",!0),l[34]||(l[34]=s("i",{class:"bi bi-check-circle"},null,-1)),m(" "+t(e.translations.create_order),1)],8,zt)])],32)])])])]))}},Lt=B(Tt,[["__scopeId","data-v-4fb44325"]]),Nt={class:"modal-mask"},Bt={class:"modal-wrapper"},Gt={class:"modal-container",style:{"max-width":"800px"}},Wt={class:"modal-header"},Ht={class:"modal-body"},Jt={class:"row"},Qt={class:"col-md-6"},Xt={class:"text-primary mb-3"},Kt={class:"mb-3"},Yt={class:"form-label"},Zt={class:"mb-3"},se={class:"form-label"},te={class:"mb-3"},ee={class:"form-label"},oe={value:""},ne={value:"birthday"},le={value:"gender_reveal"},ae={value:"baby_shower"},ie={value:"wedding"},re={value:"graduation"},de={value:"corporate"},ce={value:"religious"},ue={class:"col-md-6"},me={class:"text-success mb-3"},ve={class:"mb-3"},be={class:"form-label"},_e={value:"dinar"},he={value:"dollar"},pe={class:"row"},ye={class:"col-md-6"},fe={class:"mb-3"},$e={class:"form-label"},ge={class:"col-md-6"},xe={class:"mb-3"},we={class:"form-label"},ke={class:"row"},Ce={class:"col-md-6"},Ue={class:"mb-3"},Ve={class:"form-label"},Se={class:"col-md-6"},Fe={class:"mb-3"},je={class:"form-label"},De={class:"mb-3"},Ie={class:"form-check"},Me={class:"form-check-label",for:"is_active_edit"},Oe={class:"d-flex justify-content-center gap-2 mt-4"},qe=["disabled"],Ae={key:0,class:"spinner-border spinner-border-sm me-2"},Ee={__name:"EditDecorationModal",props:{decoration:Object,translations:Object},emits:["success","close"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=W({name:"",description:"",type:"",currency:"dinar",base_price:"",base_price_dinar:"",base_price_dollar:"",duration_hours:"",team_size:"",is_active:!0,materials_cost:0,labor_cost:0,transportation_cost:0}),i=()=>{c.value=!0;const p={...n,base_price:n.currency==="dinar"?n.base_price_dinar:n.base_price_dollar,materials_cost:parseFloat(n.materials_cost)||0,labor_cost:parseFloat(n.labor_cost)||0,transportation_cost:parseFloat(n.transportation_cost)||0};E.patch(route("decorations.update",d.decoration.id),p,{onSuccess:()=>{c.value=!1,S("success")},onError:()=>{c.value=!1}})};return ss(()=>{if(d.decoration&&(n.name=d.decoration.name||"",n.description=d.decoration.description||"",n.type=d.decoration.type||"",n.currency=d.decoration.currency||"dinar",n.base_price=d.decoration.base_price||"",n.base_price_dinar=d.decoration.base_price_dinar||"",n.base_price_dollar=d.decoration.base_price_dollar||"",n.duration_hours=d.decoration.duration_hours||"",n.team_size=d.decoration.team_size||"",n.is_active=d.decoration.is_active!==void 0?d.decoration.is_active:!0,d.decoration.pricing_details)){const p=typeof d.decoration.pricing_details=="string"?JSON.parse(d.decoration.pricing_details):d.decoration.pricing_details;n.materials_cost=p.materials||0,n.labor_cost=p.labor||0,n.transportation_cost=p.transportation||0}}),(p,u)=>(v(),h("div",Nt,[s("div",Bt,[s("div",Gt,[s("div",Wt,[s("h3",null,t(e.translations.edit)+" "+t(e.translations.decoration),1),s("button",{onClick:u[0]||(u[0]=x=>p.$emit("close")),class:"btn-close"})]),s("div",Ht,[s("form",{onSubmit:q(i,["prevent"])},[s("div",Jt,[s("div",Qt,[s("h6",Xt,[u[11]||(u[11]=s("i",{class:"bi bi-info-circle"},null,-1)),m(" "+t(e.translations.basic_information),1)]),s("div",Kt,[s("label",Yt,t(e.translations.decoration_name)+" *",1),f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":u[1]||(u[1]=x=>n.name=x),required:""},null,512),[[C,n.name]])]),s("div",Zt,[s("label",se,t(e.translations.decoration_description),1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":u[2]||(u[2]=x=>n.description=x)},null,512),[[C,n.description]])]),s("div",te,[s("label",ee,t(e.translations.decoration_type)+" *",1),f(s("select",{class:"form-select","onUpdate:modelValue":u[3]||(u[3]=x=>n.type=x),required:""},[s("option",oe,t(e.translations.select_type),1),s("option",ne,t(e.translations.birthday),1),s("option",le,t(e.translations.gender_reveal),1),s("option",ae,t(e.translations.baby_shower),1),s("option",ie,t(e.translations.wedding),1),s("option",re,t(e.translations.graduation),1),s("option",de,t(e.translations.corporate),1),s("option",ce,t(e.translations.religious),1)],512),[[z,n.type]])])]),s("div",ue,[s("h6",me,[u[12]||(u[12]=s("i",{class:"bi bi-currency-dollar"},null,-1)),m(" "+t(e.translations.pricing_details),1)]),s("div",ve,[s("label",be,t(e.translations.currency)+" *",1),f(s("select",{class:"form-select","onUpdate:modelValue":u[4]||(u[4]=x=>n.currency=x),required:""},[s("option",_e,t(e.translations.dinar),1),s("option",he,t(e.translations.dollar),1)],512),[[z,n.currency]])]),s("div",pe,[s("div",ye,[s("div",fe,[s("label",$e,t(e.translations.base_price_dinar)+" *",1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":u[5]||(u[5]=x=>n.base_price_dinar=x),required:""},null,512),[[C,n.base_price_dinar]])])]),s("div",ge,[s("div",xe,[s("label",we,t(e.translations.base_price_dollar)+" *",1),f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":u[6]||(u[6]=x=>n.base_price_dollar=x),required:""},null,512),[[C,n.base_price_dollar]])])])]),s("div",ke,[s("div",Ce,[s("div",Ue,[s("label",Ve,t(e.translations.duration_hours)+" *",1),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":u[7]||(u[7]=x=>n.duration_hours=x),required:""},null,512),[[C,n.duration_hours]])])]),s("div",Se,[s("div",Fe,[s("label",je,t(e.translations.team_size)+" *",1),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":u[8]||(u[8]=x=>n.team_size=x),required:""},null,512),[[C,n.team_size]])])])]),s("div",De,[s("div",Ie,[f(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":u[9]||(u[9]=x=>n.is_active=x),id:"is_active_edit"},null,512),[[ns,n.is_active]]),s("label",Me,t(e.translations.active),1)])])])]),s("div",Oe,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:u[10]||(u[10]=x=>p.$emit("close"))},[u[13]||(u[13]=s("i",{class:"bi bi-x-circle"},null,-1)),m(" "+t(e.translations.cancel),1)]),s("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:c.value},[c.value?(v(),h("span",Ae)):V("",!0),u[14]||(u[14]=s("i",{class:"bi bi-check-circle"},null,-1)),m(" "+t(e.translations.save),1)],8,qe)])],32)])])])]))}},Pe=B(Ee,[["__scopeId","data-v-4995e04d"]]),ze={class:"d-flex justify-content-between align-items-center mb-4"},Re={class:"mb-0"},Te={class:"badge bg-primary ms-2"},Le={class:"card mb-4"},Ne={class:"card-body"},Be={class:"row"},Ge={class:"col-md-3"},We=["placeholder"],He={class:"col-md-2"},Je={value:""},Qe={value:"birthday"},Xe={value:"gender_reveal"},Ke={value:"baby_shower"},Ye={value:"wedding"},Ze={value:"graduation"},so={value:"corporate"},to={value:"religious"},eo={class:"col-md-2"},oo={value:""},no={value:"dinar"},lo={value:"dollar"},ao={class:"col-md-2"},io={value:""},ro={value:"1"},co={value:"0"},uo={class:"col-md-2"},mo={type:"submit",class:"btn btn-primary w-100"},vo={key:0,class:"row"},bo={class:"card h-100 decoration-card"},_o={class:"card-img-top position-relative",style:{height:"200px",overflow:"hidden"}},ho=["src","alt"],po={key:1,class:"w-100 h-100 bg-light d-flex align-items-center justify-content-center"},yo={class:"position-absolute top-0 end-0 m-2"},fo={class:"position-absolute top-0 start-0 m-2"},$o={class:"card-body d-flex flex-column"},go={class:"card-title"},xo={class:"card-text text-muted flex-grow-1"},wo={class:"mb-3"},ko={class:"d-flex justify-content-between align-items-center mb-2"},Co={class:"badge bg-info"},Uo={class:"text-muted"},Vo={class:"d-flex justify-content-between align-items-center mb-2"},So={class:"fw-bold text-primary fs-5"},Fo={class:"text-muted"},jo={class:"actions-container"},Do={class:"row g-2"},Io={class:"col-6"},Mo=["onClick"],Oo={class:"col-6"},qo=["onClick","title"],Ao={class:"row g-2 mt-2"},Eo={class:"col-4"},Po=["onClick"],zo={class:"col-4"},Ro=["onClick"],To={class:"col-4"},Lo=["onClick"],No={key:1,class:"text-center py-5 empty-state"},Bo={class:"empty-state-title"},Go={class:"empty-state-description"},Wo={class:"empty-state-actions"},Ho={key:2,class:"d-flex justify-content-center mt-4"},Jo={__name:"DecorationsList",props:{decorations:Object,customers:Array,translations:Object},emits:["refresh"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=j(!1),i=j(null),p=W({search:"",type:"",currency:"",is_active:""}),u=()=>{E.get(route("decorations.dashboard"),{tab:"decorations",...p},{preserveState:!0,replace:!0})},x=()=>{p.search="",p.type="",p.currency="",p.is_active="",u()},D=U=>{const y=U.currency==="dollar"?U.base_price_dollar:U.base_price_dinar,P=U.currency==="dollar"?d.translations.dollar:d.translations.dinar;return`${parseFloat(y||0).toFixed(2)} ${P}`},w=U=>({birthday:d.translations.birthday,gender_reveal:d.translations.gender_reveal,baby_shower:d.translations.baby_shower,wedding:d.translations.wedding,graduation:d.translations.graduation,corporate:d.translations.corporate,religious:d.translations.religious})[U]||U,k=U=>{const y=U.currency==="dinar"?"dollar":"dinar";E.patch(route("decorations.update",U.id),{currency:y},{preserveState:!0,onSuccess:()=>{console.log("Currency updated successfully")},onError:P=>{console.error("Error updating currency:",P)}})},l=U=>{i.value=U,c.value=!0},$=U=>{i.value=U,n.value=!0},M=U=>{E.get(route("decorations.show",U.id))},r=U=>{confirm(d.translations.confirm_delete)&&E.delete(route("decorations.destroy",U),{onSuccess:()=>{S("refresh")}})},K=()=>{c.value=!1,S("refresh")},Y=()=>{n.value=!1,S("refresh")},T=U=>window.permissions&&window.permissions.includes(U);return(U,y)=>{var P,F;return v(),h("div",null,[s("div",ze,[s("h4",Re,[y[8]||(y[8]=s("i",{class:"bi bi-palette text-primary"},null,-1)),m(" "+t(e.translations.decorations_list)+" ",1),s("span",Te,t(((F=(P=e.decorations)==null?void 0:P.data)==null?void 0:F.length)||0),1)]),T("create decoration")?(v(),h("button",{key:0,class:"btn btn-primary btn-lg",onClick:y[0]||(y[0]=a=>U.$emit("createDecoration"))},[y[9]||(y[9]=s("i",{class:"bi bi-plus-circle"},null,-1)),m(" "+t(e.translations.create_decoration),1)])):V("",!0)]),s("div",Le,[s("div",Ne,[s("form",{onSubmit:q(u,["prevent"])},[s("div",Be,[s("div",Ge,[f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":y[1]||(y[1]=a=>p.search=a),placeholder:e.translations.search},null,8,We),[[C,p.search]])]),s("div",He,[f(s("select",{class:"form-select","onUpdate:modelValue":y[2]||(y[2]=a=>p.type=a)},[s("option",Je,t(e.translations.all_types),1),s("option",Qe,t(e.translations.birthday),1),s("option",Xe,t(e.translations.gender_reveal),1),s("option",Ke,t(e.translations.baby_shower),1),s("option",Ye,t(e.translations.wedding),1),s("option",Ze,t(e.translations.graduation),1),s("option",so,t(e.translations.corporate),1),s("option",to,t(e.translations.religious),1)],512),[[z,p.type]])]),s("div",eo,[f(s("select",{class:"form-select","onUpdate:modelValue":y[3]||(y[3]=a=>p.currency=a)},[s("option",oo,t(e.translations.all_currencies),1),s("option",no,t(e.translations.dinar),1),s("option",lo,t(e.translations.dollar),1)],512),[[z,p.currency]])]),s("div",ao,[f(s("select",{class:"form-select","onUpdate:modelValue":y[4]||(y[4]=a=>p.is_active=a)},[s("option",io,t(e.translations.all_status),1),s("option",ro,t(e.translations.active),1),s("option",co,t(e.translations.inactive),1)],512),[[z,p.is_active]])]),s("div",uo,[s("button",mo,[y[10]||(y[10]=s("i",{class:"bi bi-search"},null,-1)),m(" "+t(e.translations.search),1)])]),s("div",{class:"col-md-1"},[s("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:x},y[11]||(y[11]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1)]))])])],32)])]),e.decorations.data.length>0?(v(),h("div",vo,[(v(!0),h(Q,null,X(e.decorations.data,a=>(v(),h("div",{class:"col-xl-3 col-lg-4 col-md-6 mb-4",key:a.id},[s("div",bo,[s("div",_o,[a.image_url?(v(),h("img",{key:0,src:a.image_url,alt:a.name,class:"w-100 h-100 object-cover"},null,8,ho)):(v(),h("div",po,y[12]||(y[12]=[s("i",{class:"bi bi-image text-muted",style:{"font-size":"3rem"}},null,-1)]))),s("div",yo,[s("span",{class:A(["badge",a.currency==="dollar"?"bg-success":"bg-primary"])},t(a.currency==="dollar"?e.translations.dollar:e.translations.dinar),3)]),s("div",fo,[s("span",{class:A(["badge",a.is_active?"bg-success":"bg-secondary"])},t(a.is_active?e.translations.active:e.translations.inactive),3)])]),s("div",$o,[s("h5",go,t(a.name),1),s("p",xo,t(a.description),1),s("div",wo,[s("div",ko,[s("span",Co,t(w(a.type)),1),s("small",Uo,[y[13]||(y[13]=s("i",{class:"bi bi-clock"},null,-1)),m(" "+t(a.duration_hours)+" "+t(d.translations.hours),1)])]),s("div",Vo,[s("span",So,t(D(a)),1),s("small",Fo,[y[14]||(y[14]=s("i",{class:"bi bi-people"},null,-1)),m(" "+t(a.team_size)+" "+t(d.translations.team_members),1)])])]),s("div",jo,[s("div",Do,[s("div",Io,[s("button",{onClick:b=>l(a),class:"btn btn-success btn-action w-100"},[y[15]||(y[15]=s("i",{class:"bi bi-plus-circle"},null,-1)),s("span",null,t(e.translations.create_order),1)],8,Mo)]),s("div",Oo,[s("button",{onClick:b=>k(a),class:"btn btn-outline-info btn-action w-100",title:e.translations.switch_currency},[y[16]||(y[16]=s("i",{class:"bi bi-arrow-repeat"},null,-1)),s("span",null,t(e.translations.switch_currency),1)],8,qo)])]),s("div",Ao,[s("div",Eo,[T("update product")?(v(),h("button",{key:0,onClick:b=>$(a),class:"btn btn-outline-warning btn-action w-100"},[y[17]||(y[17]=s("i",{class:"bi bi-pencil"},null,-1)),s("span",null,t(e.translations.edit),1)],8,Po)):V("",!0)]),s("div",zo,[s("button",{onClick:b=>M(a),class:"btn btn-outline-primary btn-action w-100"},[y[18]||(y[18]=s("i",{class:"bi bi-eye"},null,-1)),s("span",null,t(e.translations.view),1)],8,Ro)]),s("div",To,[T("delete product")?(v(),h("button",{key:0,onClick:b=>r(a.id),class:"btn btn-outline-danger btn-action w-100"},[y[19]||(y[19]=s("i",{class:"bi bi-trash"},null,-1)),s("span",null,t(e.translations.delete),1)],8,Lo)):V("",!0)])])])])])]))),128))])):(v(),h("div",No,[y[21]||(y[21]=s("div",{class:"empty-state-icon"},[s("i",{class:"bi bi-palette"})],-1)),s("h4",Bo,t(e.translations.no_decorations),1),s("p",Go,t(e.translations.no_decorations_description),1),s("div",Wo,[T("create decoration")?(v(),h("button",{key:0,class:"btn btn-primary btn-lg",onClick:y[5]||(y[5]=a=>U.$emit("createDecoration"))},[y[20]||(y[20]=s("i",{class:"bi bi-plus-circle"},null,-1)),m(" "+t(e.translations.create_first_decoration),1)])):V("",!0)])])),e.decorations.data.length>0?(v(),h("div",Ho,[H(as,{links:e.decorations.links},null,8,["links"])])):V("",!0),c.value?(v(),J(Lt,{key:3,decoration:i.value,customers:e.customers,translations:e.translations,onClose:y[6]||(y[6]=a=>c.value=!1),onSuccess:K},null,8,["decoration","customers","translations"])):V("",!0),n.value?(v(),J(Pe,{key:4,decoration:i.value,translations:e.translations,onClose:y[7]||(y[7]=a=>n.value=!1),onSuccess:Y},null,8,["decoration","translations"])):V("",!0)])}}},Qo=B(Jo,[["__scopeId","data-v-cb57a506"]]),Xo={class:"modal-mask"},Ko={class:"modal-wrapper"},Yo={class:"modal-container"},Zo={class:"modal-header"},sn={class:"modal-body"},tn={class:"mb-3"},en={class:"form-label"},on={value:""},nn=["value"],ln={class:"mb-3"},an={class:"form-label"},rn={class:"d-flex justify-content-center gap-2"},dn=["disabled"],cn={key:0,class:"spinner-border spinner-border-sm me-2"},un={__name:"EmployeeAssignmentModal",props:{order:Object,employees:Array,translations:Object},emits:["close","success"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=W({assigned_employee_id:d.order.assigned_employee_id||"",notes:d.order.notes||""}),i=()=>{c.value=!0,E.patch(route("decoration.orders.status",d.order.id),n,{onSuccess:()=>{c.value=!1,S("success")},onError:()=>{c.value=!1}})};return(p,u)=>(v(),h("div",Xo,[s("div",Ko,[s("div",Yo,[s("div",Zo,[s("h3",null,t(e.translations.assign_employee),1),s("button",{onClick:u[0]||(u[0]=x=>p.$emit("close")),class:"btn-close"})]),s("div",sn,[s("form",{onSubmit:q(i,["prevent"])},[s("div",tn,[s("label",en,t(e.translations.select_employee),1),f(s("select",{class:"form-select","onUpdate:modelValue":u[1]||(u[1]=x=>n.assigned_employee_id=x),required:""},[s("option",on,t(e.translations.select_employee),1),(v(!0),h(Q,null,X(e.employees,x=>(v(),h("option",{key:x.id,value:x.id},t(x.name),9,nn))),128))],512),[[z,n.assigned_employee_id]])]),s("div",ln,[s("label",an,t(e.translations.notes),1),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":u[2]||(u[2]=x=>n.notes=x)},null,512),[[C,n.notes]])]),s("div",rn,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:u[3]||(u[3]=x=>p.$emit("close"))},t(e.translations.cancel),1),s("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:c.value},[c.value?(v(),h("span",cn)):V("",!0),m(" "+t(e.translations.assign),1)],8,dn)])],32)])])])]))}},mn=B(un,[["__scopeId","data-v-156ceadb"]]),vn={class:"card mb-4"},bn={class:"card-body"},_n={class:"row"},hn={class:"col-md-3"},pn=["placeholder"],yn={class:"col-md-2"},fn={value:""},$n={value:"created"},gn={value:"received"},xn={value:"executing"},wn={value:"partial_payment"},kn={value:"full_payment"},Cn={value:"completed"},Un={value:"cancelled"},Vn={class:"col-md-2"},Sn={value:""},Fn=["value"],jn={class:"col-md-2"},Dn=["placeholder"],In={class:"col-md-2"},Mn={type:"submit",class:"btn btn-primary w-100"},On={key:0,class:"row"},qn={class:"card h-100 order-card"},An={class:"card-header d-flex justify-content-between align-items-center"},En={class:"mb-0"},Pn={class:"text-muted"},zn={class:"card-body"},Rn={class:"mb-3"},Tn={class:"text-primary"},Ln={class:"text-muted"},Nn={class:"mb-3"},Bn={class:"d-flex align-items-center mb-1"},Gn={class:"d-flex align-items-center mb-1"},Wn={class:"d-flex align-items-center"},Hn={class:"mb-3"},Jn={class:"d-flex align-items-center mb-1"},Qn={class:"text-muted"},Xn={class:"d-flex align-items-center"},Kn={class:"text-muted"},Yn={class:"mb-3"},Zn={class:"pricing-breakdown"},sl={class:"d-flex justify-content-between mb-1"},tl={key:0,class:"d-flex justify-content-between mb-1"},el={class:"text-success"},ol={class:"text-success"},nl={key:1,class:"d-flex justify-content-between mb-1"},ll={class:"text-danger"},al={class:"text-danger"},il={class:"d-flex justify-content-between mb-1"},rl={class:"text-primary"},dl={class:"d-flex justify-content-between mb-1"},cl={class:"text-info"},ul={class:"d-flex justify-content-between"},ml={class:"text-warning"},vl={key:0,class:"mb-3"},bl={class:"d-flex align-items-center"},_l={class:"text-muted"},hl={class:"card-footer"},pl={class:"btn-group w-100",role:"group"},yl=["onClick"],fl=["onClick"],$l=["onClick"],gl=["href"],xl=["onClick"],wl={key:1,class:"text-center py-5"},kl={class:"text-muted mt-3"},Cl={class:"text-muted"},Ul={key:2,class:"d-flex justify-content-center mt-4"},Vl={__name:"OrdersList",props:{orders:Object,employees:Array,translations:Object},emits:["refresh"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=j(!1),i=j(!1),p=j(null),u=W({search:"",status:"",assigned_employee_id:"",event_date:""}),x=()=>{E.get(route("decorations.dashboard"),{tab:"orders",...u},{preserveState:!0,replace:!0})},D=()=>{u.search="",u.status="",u.assigned_employee_id="",u.event_date="",x()},w=F=>new Date(F).toLocaleDateString("ar-EG"),k=(F,a)=>F&&F.length>a?F.substring(0,a)+"...":F,l=F=>({created:"secondary",received:"info",executing:"primary",partial_payment:"warning",full_payment:"success",completed:"success",cancelled:"danger"})[F]||"secondary",$=F=>({created:d.translations.created,received:d.translations.received,executing:d.translations.executing,partial_payment:d.translations.partial_payment,full_payment:d.translations.full_payment,completed:d.translations.completed,cancelled:d.translations.cancelled})[F]||F,M=F=>F.currency==="dollar"?d.translations.dollar:d.translations.dinar,r=F=>{E.get(route("decoration.orders.show",F.id))},K=F=>{p.value=F,c.value=!0},Y=F=>{p.value=F,n.value=!0},T=F=>{p.value=F,i.value=!0},U=()=>{c.value=!1,S("refresh")},y=()=>{n.value=!1,S("refresh")},P=()=>{i.value=!1,S("refresh")};return(F,a)=>(v(),h("div",null,[s("div",vn,[s("div",bn,[s("form",{onSubmit:q(x,["prevent"])},[s("div",_n,[s("div",hn,[f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=b=>u.search=b),placeholder:e.translations.search+" ("+e.translations.customer_name+", "+e.translations.phone+")"},null,8,pn),[[C,u.search]])]),s("div",yn,[f(s("select",{class:"form-select","onUpdate:modelValue":a[1]||(a[1]=b=>u.status=b)},[s("option",fn,t(e.translations.all_status),1),s("option",$n,t(e.translations.created),1),s("option",gn,t(e.translations.received),1),s("option",xn,t(e.translations.executing),1),s("option",wn,t(e.translations.partial_payment),1),s("option",kn,t(e.translations.full_payment),1),s("option",Cn,t(e.translations.completed),1),s("option",Un,t(e.translations.cancelled),1)],512),[[z,u.status]])]),s("div",Vn,[f(s("select",{class:"form-select","onUpdate:modelValue":a[2]||(a[2]=b=>u.assigned_employee_id=b)},[s("option",Sn,t(e.translations.all_employees),1),(v(!0),h(Q,null,X(e.employees,b=>(v(),h("option",{key:b.id,value:b.id},t(b.name),9,Fn))),128))],512),[[z,u.assigned_employee_id]])]),s("div",jn,[f(s("input",{type:"date",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=b=>u.event_date=b),placeholder:e.translations.event_date},null,8,Dn),[[C,u.event_date]])]),s("div",In,[s("button",Mn,[a[7]||(a[7]=s("i",{class:"bi bi-search"},null,-1)),m(" "+t(e.translations.search),1)])]),s("div",{class:"col-md-1"},[s("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:D},a[8]||(a[8]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1)]))])])],32)])]),e.orders.data.length>0?(v(),h("div",On,[(v(!0),h(Q,null,X(e.orders.data,b=>{var Z,R;return v(),h("div",{class:"col-xl-4 col-lg-6 col-md-12 mb-4",key:b.id},[s("div",qn,[s("div",An,[s("div",null,[s("h6",En,t(e.translations.order)+" #"+t(b.id),1),s("small",Pn,t(w(b.created_at)),1)]),s("span",{class:A(["badge",`bg-${l(b.status)}`])},t($(b.status)),3)]),s("div",zn,[s("div",Rn,[s("h6",Tn,t((Z=b.decoration)==null?void 0:Z.name),1),s("small",Ln,t((R=b.decoration)==null?void 0:R.type_name),1)]),s("div",Nn,[s("div",Bn,[a[9]||(a[9]=s("i",{class:"bi bi-person me-2"},null,-1)),s("strong",null,t(b.customer_name),1)]),s("div",Gn,[a[10]||(a[10]=s("i",{class:"bi bi-telephone me-2"},null,-1)),s("span",null,t(b.customer_phone),1)]),s("div",Wn,[a[11]||(a[11]=s("i",{class:"bi bi-calendar-event me-2"},null,-1)),s("span",null,t(w(b.event_date))+" "+t(b.event_time),1)])]),s("div",Hn,[s("div",Jn,[a[12]||(a[12]=s("i",{class:"bi bi-geo-alt me-2"},null,-1)),s("small",Qn,t(k(b.event_address,30)),1)]),s("div",Xn,[a[13]||(a[13]=s("i",{class:"bi bi-people me-2"},null,-1)),s("small",Kn,t(b.guest_count)+" "+t(e.translations.guests),1)])]),s("div",Yn,[s("div",Zn,[s("div",sl,[s("small",null,t(e.translations.base_price)+":",1),s("small",null,t(b.base_price)+" "+t(M(b)),1)]),b.additional_cost>0?(v(),h("div",tl,[s("small",el,t(e.translations.additional_cost)+":",1),s("small",ol,"+"+t(b.additional_cost)+" "+t(M(b)),1)])):V("",!0),b.discount>0?(v(),h("div",nl,[s("small",ll,t(e.translations.discount)+":",1),s("small",al,"-"+t(b.discount)+" "+t(M(b)),1)])):V("",!0),a[14]||(a[14]=s("hr",{class:"my-1"},null,-1)),s("div",il,[s("strong",null,t(e.translations.total_price)+":",1),s("strong",rl,t(b.total_price)+" "+t(M(b)),1)]),s("div",dl,[s("span",null,t(e.translations.paid_amount)+":",1),s("span",cl,t(b.paid_amount||0)+" "+t(M(b)),1)]),s("div",ul,[s("span",null,t(e.translations.remaining_amount)+":",1),s("span",ml,t((b.total_price-(b.paid_amount||0)).toFixed(2))+" "+t(M(b)),1)])])]),b.assigned_employee?(v(),h("div",vl,[s("div",bl,[a[15]||(a[15]=s("i",{class:"bi bi-person-badge me-2"},null,-1)),s("small",_l,t(e.translations.assigned_employee)+": "+t(b.assigned_employee.name),1)])])):V("",!0)]),s("div",hl,[s("div",pl,[s("button",{onClick:L=>r(b),class:"btn btn-outline-primary btn-sm"},[a[16]||(a[16]=s("i",{class:"bi bi-eye"},null,-1)),m(" "+t(e.translations.view),1)],8,yl),s("button",{onClick:L=>K(b),class:"btn btn-outline-secondary btn-sm"},[a[17]||(a[17]=s("i",{class:"bi bi-pencil"},null,-1)),m(" "+t(e.translations.update_status),1)],8,fl),s("button",{onClick:L=>T(b),class:"btn btn-outline-warning btn-sm"},[a[18]||(a[18]=s("i",{class:"bi bi-calculator"},null,-1)),m(" "+t(e.translations.edit_pricing),1)],8,$l),s("a",{href:F.route("decoration.orders.print",b.id),target:"_blank",class:"btn btn-outline-info btn-sm"},[a[19]||(a[19]=s("i",{class:"bi bi-printer"},null,-1)),m(" "+t(e.translations.print_invoice),1)],8,gl),s("button",{onClick:L=>Y(b),class:"btn btn-outline-success btn-sm"},[a[20]||(a[20]=s("i",{class:"bi bi-person-plus"},null,-1)),m(" "+t(e.translations.assign),1)],8,xl)])])])])}),128))])):(v(),h("div",wl,[a[21]||(a[21]=s("i",{class:"bi bi-calendar-x text-muted",style:{"font-size":"4rem"}},null,-1)),s("h4",kl,t(e.translations.no_orders),1),s("p",Cl,t(e.translations.no_orders_description),1)])),e.orders.data.length>0?(v(),h("div",Ul,[H(as,{links:e.orders.links},null,8,["links"])])):V("",!0),c.value?(v(),J(xs,{key:3,order:p.value,employees:e.employees,translations:e.translations,onClose:a[4]||(a[4]=b=>c.value=!1),onSuccess:U},null,8,["order","employees","translations"])):V("",!0),n.value?(v(),J(mn,{key:4,order:p.value,employees:e.employees,translations:e.translations,onClose:a[5]||(a[5]=b=>n.value=!1),onSuccess:y},null,8,["order","employees","translations"])):V("",!0),i.value?(v(),J(ws,{key:5,order:p.value,translations:e.translations,onClose:a[6]||(a[6]=b=>i.value=!1),onSuccess:P},null,8,["order","translations"])):V("",!0)]))}},Sl=B(Vl,[["__scopeId","data-v-eabdd5dd"]]),Fl={class:"row mb-4"},jl={class:"col-xl-3 col-md-6 mb-4"},Dl={class:"card border-left-primary shadow h-100 py-2"},Il={class:"card-body"},Ml={class:"row no-gutters align-items-center"},Ol={class:"col mr-2"},ql={class:"text-xs font-weight-bold text-primary text-uppercase mb-1"},Al={class:"h5 mb-0 font-weight-bold text-gray-800"},El={class:"col-xl-3 col-md-6 mb-4"},Pl={class:"card border-left-success shadow h-100 py-2"},zl={class:"card-body"},Rl={class:"row no-gutters align-items-center"},Tl={class:"col mr-2"},Ll={class:"text-xs font-weight-bold text-success text-uppercase mb-1"},Nl={class:"h5 mb-0 font-weight-bold text-gray-800"},Bl={class:"col-xl-3 col-md-6 mb-4"},Gl={class:"card border-left-info shadow h-100 py-2"},Wl={class:"card-body"},Hl={class:"row no-gutters align-items-center"},Jl={class:"col mr-2"},Ql={class:"text-xs font-weight-bold text-info text-uppercase mb-1"},Xl={class:"h5 mb-0 font-weight-bold text-gray-800"},Kl={class:"col-xl-3 col-md-6 mb-4"},Yl={class:"card border-left-warning shadow h-100 py-2"},Zl={class:"card-body"},sa={class:"row no-gutters align-items-center"},ta={class:"col mr-2"},ea={class:"text-xs font-weight-bold text-warning text-uppercase mb-1"},oa={class:"h5 mb-0 font-weight-bold text-gray-800"},na={class:"row"},la={class:"col-xl-6 col-lg-7"},aa={class:"card shadow mb-4"},ia={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},ra={class:"m-0 font-weight-bold text-primary"},da={class:"card-body"},ca={class:"mt-4 text-center small"},ua={class:"mr-2"},ma={class:"mr-2"},va={class:"mr-2"},ba={class:"col-xl-6 col-lg-5"},_a={class:"card shadow mb-4"},ha={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},pa={class:"m-0 font-weight-bold text-primary"},ya={class:"card-body"},fa={class:"d-flex align-items-center justify-content-between mb-3"},$a={class:"d-flex align-items-center"},ga={class:"ms-3"},xa={class:"small text-gray-500"},wa={class:"font-weight-bold"},ka={class:"d-flex align-items-center justify-content-between mb-3"},Ca={class:"d-flex align-items-center"},Ua={class:"ms-3"},Va={class:"small text-gray-500"},Sa={class:"font-weight-bold"},Fa={class:"d-flex align-items-center justify-content-between"},ja={class:"d-flex align-items-center"},Da={class:"ms-3"},Ia={class:"small text-gray-500"},Ma={class:"font-weight-bold"},Oa={__name:"AnalyticsDashboard",props:{analytics:Object,translations:Object},setup(e){const O=e,d=S=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(S||0);return ss(()=>{console.log("Analytics loaded:",O.analytics)}),(S,c)=>(v(),h("div",null,[s("div",Fl,[s("div",jl,[s("div",Dl,[s("div",Il,[s("div",Ml,[s("div",Ol,[s("div",ql,t(e.translations.decorations),1),s("div",Al,t(e.analytics.total_decorations),1)]),c[0]||(c[0]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-palette fa-2x text-gray-300"})],-1))])])])]),s("div",El,[s("div",Pl,[s("div",zl,[s("div",Rl,[s("div",Tl,[s("div",Ll,t(e.translations.total_orders),1),s("div",Nl,t(e.analytics.total_orders),1)]),c[1]||(c[1]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-calendar-check fa-2x text-gray-300"})],-1))])])])]),s("div",Bl,[s("div",Gl,[s("div",Wl,[s("div",Hl,[s("div",Jl,[s("div",Ql,t(e.translations.total_revenue),1),s("div",Xl,t(d(e.analytics.total_revenue)),1)]),c[2]||(c[2]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-currency-dollar fa-2x text-gray-300"})],-1))])])])]),s("div",Kl,[s("div",Yl,[s("div",Zl,[s("div",sa,[s("div",ta,[s("div",ea,t(e.translations.monthly_orders),1),s("div",oa,t(e.analytics.monthly_orders),1)]),c[3]||(c[3]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-graph-up fa-2x text-gray-300"})],-1))])])])])]),s("div",na,[s("div",la,[s("div",aa,[s("div",ia,[s("h6",ra,t(e.translations.orders_by_status),1)]),s("div",da,[c[7]||(c[7]=s("div",{class:"chart-pie pt-4 pb-2"},[s("canvas",{id:"ordersStatusChart"})],-1)),s("div",ca,[s("span",ua,[c[4]||(c[4]=s("i",{class:"fas fa-circle text-primary"},null,-1)),m(" "+t(e.translations.created),1)]),s("span",ma,[c[5]||(c[5]=s("i",{class:"fas fa-circle text-success"},null,-1)),m(" "+t(e.translations.completed),1)]),s("span",va,[c[6]||(c[6]=s("i",{class:"fas fa-circle text-info"},null,-1)),m(" "+t(e.translations.executing),1)])])])])]),s("div",ba,[s("div",_a,[s("div",ha,[s("h6",pa,t(e.translations.recent_activity),1)]),s("div",ya,[s("div",fa,[s("div",$a,[c[8]||(c[8]=s("div",{class:"icon-circle bg-primary"},[s("i",{class:"bi bi-plus-circle text-white"})],-1)),s("div",ga,[s("div",xa,t(e.translations.pending_orders),1),s("div",wa,t(e.analytics.pending_orders),1)])])]),s("div",ka,[s("div",Ca,[c[9]||(c[9]=s("div",{class:"icon-circle bg-success"},[s("i",{class:"bi bi-check-circle text-white"})],-1)),s("div",Ua,[s("div",Va,t(e.translations.completed_orders),1),s("div",Sa,t(e.analytics.completed_orders),1)])])]),s("div",Fa,[s("div",ja,[c[10]||(c[10]=s("div",{class:"icon-circle bg-info"},[s("i",{class:"bi bi-palette text-white"})],-1)),s("div",Da,[s("div",Ia,t(e.translations.active)+" "+t(e.translations.decorations),1),s("div",Ma,t(e.analytics.active_decorations),1)])])])])])])])]))}},qa=B(Oa,[["__scopeId","data-v-3f94cac6"]]),Aa={class:"decoration-form-container"},Ea={class:"modal-header"},Pa={class:"modal-title"},za={class:"modal-body decoration-modal-body"},Ra={class:"progress-indicator mb-4"},Ta={class:"progress-steps"},La={class:"step-label"},Na={class:"step-label"},Ba={class:"step-label"},Ga={class:"step-label"},Wa={class:"form-step"},Ha={class:"step-header"},Ja={class:"step-title"},Qa={class:"step-description"},Xa={class:"row"},Ka={class:"col-md-6"},Ya={class:"form-group"},Za={class:"form-label required"},si=["placeholder"],ti={key:0,class:"form-feedback"},ei={class:"form-group"},oi={class:"form-label"},ni=["placeholder"],li={key:0,class:"form-feedback"},ai={class:"col-md-6"},ii={class:"form-group"},ri={class:"form-label required"},di={value:""},ci={value:"birthday"},ui={value:"gender_reveal"},mi={value:"baby_shower"},vi={value:"wedding"},bi={value:"graduation"},_i={value:"corporate"},hi={value:"religious"},pi={key:0,class:"form-feedback"},yi={class:"form-group"},fi={class:"form-label"},$i={class:"form-check form-switch"},gi={class:"form-check-label",for:"is_active"},xi={class:"form-step"},wi={class:"step-header"},ki={class:"step-title"},Ci={class:"step-description"},Ui={class:"row"},Vi={class:"col-md-6"},Si={class:"form-group"},Fi={class:"form-label required"},ji={value:"dinar"},Di={value:"dollar"},Ii={key:0,class:"form-feedback"},Mi={class:"form-group"},Oi={class:"form-label required"},qi=["placeholder"],Ai={key:0,class:"form-feedback"},Ei={class:"col-md-6"},Pi={class:"form-group"},zi={class:"form-label required"},Ri=["placeholder"],Ti={key:0,class:"form-feedback"},Li={class:"price-display"},Ni={class:"price-card"},Bi={class:"price-header"},Gi={class:"price-value"},Wi={class:"row"},Hi={class:"col-md-6"},Ji={class:"form-group"},Qi={class:"form-label required"},Xi={class:"input-group"},Ki=["placeholder"],Yi={class:"input-group-text"},Zi={key:0,class:"form-feedback"},sr={class:"col-md-6"},tr={class:"currency-converter"},er={class:"form-label"},or={class:"converter-display"},nr={class:"converted-item"},lr={class:"currency-label"},ar={class:"currency-value"},ir={class:"converted-item"},rr={class:"currency-label"},dr={class:"currency-value"},cr={class:"form-step"},ur={class:"step-header"},mr={class:"step-title"},vr={class:"step-description"},br={class:"row"},_r={class:"col-md-4"},hr={class:"form-group"},pr={class:"form-label"},yr={class:"input-group"},fr=["placeholder"],$r={class:"input-group-text"},gr={class:"col-md-4"},xr={class:"form-group"},wr={class:"form-label"},kr={class:"input-group"},Cr=["placeholder"],Ur={class:"input-group-text"},Vr={class:"col-md-4"},Sr={class:"form-group"},Fr={class:"form-label"},jr={class:"input-group"},Dr=["placeholder"],Ir={class:"input-group-text"},Mr={class:"cost-summary"},Or={class:"summary-title"},qr={class:"summary-items"},Ar={class:"summary-item"},Er={class:"summary-item"},Pr={class:"summary-item"},zr={class:"summary-item total"},Rr={class:"form-step"},Tr={class:"step-header"},Lr={class:"step-title"},Nr={class:"step-description"},Br={class:"row"},Gr={class:"col-md-6"},Wr={class:"form-group"},Hr={class:"form-label"},Jr={key:0,class:"upload-placeholder"},Qr={key:1,class:"image-preview-container"},Xr=["src"],Kr={class:"col-md-6"},Yr={class:"form-group"},Zr={class:"form-label"},sd={key:0,class:"upload-placeholder"},td={key:1,class:"images-grid"},ed=["src"],od=["onClick"],nd={class:"row"},ld={class:"col-12"},ad={class:"form-group"},id={class:"form-label"},rd={class:"video-upload-section"},dd={class:"row"},cd={class:"col-md-6"},ud={key:0,class:"upload-placeholder"},md={key:1,class:"video-preview-container"},vd=["src"],bd={class:"col-md-6"},_d={class:"form-group"},hd={class:"form-label"},pd=["placeholder"],yd={class:"form-text text-muted"},fd={class:"media-summary"},$d={class:"summary-title"},gd={class:"summary-items"},xd={class:"summary-item"},wd={class:"summary-item"},kd={class:"summary-item"},Cd={class:"modal-footer"},Ud=["disabled"],Vd=["disabled"],Sd={key:0,class:"spinner-border spinner-border-sm me-2"},os=1500,Fd={__name:"CreateDecorationForm",props:{translations:Object},emits:["success","cancel"],setup(e,{emit:O}){const d=e,S=O,c=j(!1),n=j(1),i=j({}),p=j(null),u=j(null),x=j(null),D=j(null),w=j([]),k=j(null),l=j(null),$=j([]),M=j(null),r=W({name:"",description:"",type:"",currency:"dinar",base_price:"",base_price_dinar:"",base_price_dollar:"",duration_hours:"",team_size:"",is_active:!0,materials_cost:0,labor_cost:0,transportation_cost:0,video_url:""}),K=ls(()=>n.value===1?r.name&&r.type:n.value===2?r.base_price_dinar&&r.base_price_dollar&&r.duration_hours&&r.team_size:!0),Y=()=>{n.value<4&&n.value++},T=()=>{n.value>1&&n.value--},U=g=>{i.value[g]&&delete i.value[g]},y=()=>{r.base_price&&P()},P=()=>{const g=parseFloat(r.base_price)||0;r.currency==="dinar"?(r.base_price_dinar=g,r.base_price_dollar=(g/os).toFixed(2)):(r.base_price_dollar=g,r.base_price_dinar=(g*os).toFixed(0))},F=()=>r.currency==="dinar"?d.translations.enter_price_dinar:d.translations.enter_price_dollar,a=()=>`${r.base_price||0} ${R()}`,b=()=>`${r.base_price_dinar||0} ${d.translations.dinar}`,Z=()=>`${r.base_price_dollar||0} ${d.translations.dollar}`,R=()=>r.currency==="dinar"?d.translations.dinar:d.translations.dollar,L=g=>`${(parseFloat(g)||0).toLocaleString()} ${R()}`,is=()=>{const g=parseFloat(r.materials_cost)||0,o=parseFloat(r.labor_cost)||0,_=parseFloat(r.transportation_cost)||0;return g+o+_},rs=()=>{var g;(g=p.value)==null||g.click()},ds=()=>{var g;(g=u.value)==null||g.click()},cs=()=>{var g;(g=x.value)==null||g.click()},us=g=>{const o=g.target.files[0];if(o){l.value=o;const _=new FileReader;_.onload=I=>{D.value=I.target.result},_.readAsDataURL(o)}},ms=g=>{const o=g.dataTransfer.files;if(o.length>0){const _=o[0];if(_.type.startsWith("image/")){l.value=_;const I=new FileReader;I.onload=N=>{D.value=N.target.result},I.readAsDataURL(_)}}},vs=()=>{D.value=null,l.value=null,p.value&&(p.value.value="")},bs=g=>{Array.from(g.target.files).forEach(_=>{if(_.type.startsWith("image/")&&w.value.length<10){$.value.push(_);const I=new FileReader;I.onload=N=>{w.value.push(N.target.result)},I.readAsDataURL(_)}})},_s=g=>{Array.from(g.dataTransfer.files).forEach(_=>{if(_.type.startsWith("image/")&&w.value.length<10){$.value.push(_);const I=new FileReader;I.onload=N=>{w.value.push(N.target.result)},I.readAsDataURL(_)}})},hs=g=>{w.value.splice(g,1),$.value.splice(g,1)},ps=g=>{const o=g.target.files[0];if(o){M.value=o;const _=new FileReader;_.onload=I=>{k.value=I.target.result},_.readAsDataURL(o)}},ys=g=>{const o=g.dataTransfer.files;if(o.length>0){const _=o[0];if(_.type.startsWith("video/")){M.value=_;const I=new FileReader;I.onload=N=>{k.value=N.target.result},I.readAsDataURL(_)}}},fs=()=>{k.value=null,M.value=null,x.value&&(x.value.value="")},ts=()=>{c.value=!0;const g=new FormData;Object.keys(r).forEach(o=>{o!=="video_url"&&(typeof r[o]=="boolean"?g.append(o,r[o]?"1":"0"):g.append(o,r[o]))}),l.value&&g.append("main_image",l.value),$.value.forEach((o,_)=>{g.append(`images[${_}]`,o)}),M.value?g.append("video",M.value):r.video_url&&g.append("video_url",r.video_url),g.append("base_price",r.currency==="dinar"?r.base_price_dinar:r.base_price_dollar),g.append("materials_cost",parseFloat(r.materials_cost)||0),g.append("labor_cost",parseFloat(r.labor_cost)||0),g.append("transportation_cost",parseFloat(r.transportation_cost)||0),E.post(route("decorations.store"),g,{onSuccess:()=>{c.value=!1,S("success")},onError:o=>{c.value=!1,console.error("Validation errors:",o)}})};return(g,o)=>(v(),h("div",Aa,[s("div",Ea,[s("h4",Pa,[o[21]||(o[21]=s("i",{class:"bi bi-plus-circle"},null,-1)),m(" "+t(e.translations.add_decoration),1)])]),s("div",za,[s("div",Ra,[s("div",Ta,[s("div",{class:A(["step",{active:n.value>=1,completed:n.value>1}])},[o[22]||(o[22]=s("div",{class:"step-number"},"1",-1)),s("div",La,t(e.translations.basic_information),1)],2),s("div",{class:A(["step",{active:n.value>=2,completed:n.value>2}])},[o[23]||(o[23]=s("div",{class:"step-number"},"2",-1)),s("div",Na,t(e.translations.pricing_details),1)],2),s("div",{class:A(["step",{active:n.value>=3,completed:n.value>3}])},[o[24]||(o[24]=s("div",{class:"step-number"},"3",-1)),s("div",Ba,t(e.translations.additional_details),1)],2),s("div",{class:A(["step",{active:n.value>=4,completed:n.value>4}])},[o[25]||(o[25]=s("div",{class:"step-number"},"4",-1)),s("div",Ga,t(e.translations.media_upload),1)],2)])]),s("form",{onSubmit:q(ts,["prevent"]),class:"decoration-form"},[f(s("div",Wa,[s("div",Ha,[s("h5",Ja,[o[26]||(o[26]=s("i",{class:"bi bi-info-circle text-primary"},null,-1)),m(" "+t(e.translations.basic_information),1)]),s("p",Qa,t(e.translations.fill_basic_info),1)]),s("div",Xa,[s("div",Ka,[s("div",Ya,[s("label",Za,[o[27]||(o[27]=s("i",{class:"bi bi-tag"},null,-1)),m(" "+t(e.translations.decoration_name),1)]),f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=_=>r.name=_),placeholder:e.translations.enter_decoration_name,required:"",onInput:o[1]||(o[1]=_=>U("name"))},null,40,si),[[C,r.name]]),i.value.name?(v(),h("div",ti,t(i.value.name),1)):V("",!0)]),s("div",ei,[s("label",oi,[o[28]||(o[28]=s("i",{class:"bi bi-file-text"},null,-1)),m(" "+t(e.translations.decoration_description),1)]),f(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[2]||(o[2]=_=>r.description=_),placeholder:e.translations.enter_description,onInput:o[3]||(o[3]=_=>U("description"))},null,40,ni),[[C,r.description]]),i.value.description?(v(),h("div",li,t(i.value.description),1)):V("",!0)])]),s("div",ai,[s("div",ii,[s("label",ri,[o[29]||(o[29]=s("i",{class:"bi bi-grid"},null,-1)),m(" "+t(e.translations.decoration_type),1)]),f(s("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=_=>r.type=_),required:"",onChange:o[5]||(o[5]=_=>U("type"))},[s("option",di,t(e.translations.select_type),1),s("option",ci,t(e.translations.birthday),1),s("option",ui,t(e.translations.gender_reveal),1),s("option",mi,t(e.translations.baby_shower),1),s("option",vi,t(e.translations.wedding),1),s("option",bi,t(e.translations.graduation),1),s("option",_i,t(e.translations.corporate),1),s("option",hi,t(e.translations.religious),1)],544),[[z,r.type]]),i.value.type?(v(),h("div",pi,t(i.value.type),1)):V("",!0)]),s("div",yi,[s("label",fi,[o[30]||(o[30]=s("i",{class:"bi bi-toggle-on"},null,-1)),m(" "+t(e.translations.status),1)]),s("div",$i,[f(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=_=>r.is_active=_),id:"is_active"},null,512),[[ns,r.is_active]]),s("label",gi,t(r.is_active?e.translations.active:e.translations.inactive),1)])])])])],512),[[G,n.value===1]]),f(s("div",xi,[s("div",wi,[s("h5",ki,[o[31]||(o[31]=s("i",{class:"bi bi-currency-dollar text-success"},null,-1)),m(" "+t(e.translations.pricing_details),1)]),s("p",Ci,t(e.translations.set_pricing_info),1)]),s("div",Ui,[s("div",Vi,[s("div",Si,[s("label",Fi,[o[32]||(o[32]=s("i",{class:"bi bi-globe"},null,-1)),m(" "+t(e.translations.currency),1)]),f(s("select",{class:"form-select","onUpdate:modelValue":o[7]||(o[7]=_=>r.currency=_),required:"",onChange:y},[s("option",ji,t(e.translations.dinar),1),s("option",Di,t(e.translations.dollar),1)],544),[[z,r.currency]]),i.value.currency?(v(),h("div",Ii,t(i.value.currency),1)):V("",!0)]),s("div",Mi,[s("label",Oi,[o[33]||(o[33]=s("i",{class:"bi bi-clock"},null,-1)),m(" "+t(e.translations.duration_hours),1)]),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=_=>r.duration_hours=_),placeholder:e.translations.enter_duration,min:"1",max:"24",required:"",onInput:o[9]||(o[9]=_=>U("duration_hours"))},null,40,qi),[[C,r.duration_hours]]),i.value.duration_hours?(v(),h("div",Ai,t(i.value.duration_hours),1)):V("",!0)])]),s("div",Ei,[s("div",Pi,[s("label",zi,[o[34]||(o[34]=s("i",{class:"bi bi-people"},null,-1)),m(" "+t(e.translations.team_size),1)]),f(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=_=>r.team_size=_),placeholder:e.translations.enter_team_size,min:"1",max:"20",required:"",onInput:o[11]||(o[11]=_=>U("team_size"))},null,40,Ri),[[C,r.team_size]]),i.value.team_size?(v(),h("div",Ti,t(i.value.team_size),1)):V("",!0)]),s("div",Li,[s("div",Ni,[s("div",Bi,[o[35]||(o[35]=s("i",{class:"bi bi-calculator"},null,-1)),m(" "+t(e.translations.current_price),1)]),s("div",Gi,t(a()),1)])])])]),s("div",Wi,[s("div",Hi,[s("div",Ji,[s("label",Qi,[o[36]||(o[36]=s("i",{class:"bi bi-currency-exchange"},null,-1)),m(" "+t(e.translations.base_price),1)]),s("div",Xi,[f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=_=>r.base_price=_),placeholder:F(),min:"0",required:"",onInput:P},null,40,Ki),[[C,r.base_price]]),s("span",Yi,t(R()),1)]),i.value.base_price?(v(),h("div",Zi,t(i.value.base_price),1)):V("",!0)])]),s("div",sr,[s("div",tr,[s("label",er,[o[37]||(o[37]=s("i",{class:"bi bi-calculator"},null,-1)),m(" "+t(e.translations.converted_price),1)]),s("div",or,[s("div",nr,[s("span",lr,t(e.translations.dinar)+":",1),s("span",ar,t(b()),1)]),s("div",ir,[s("span",rr,t(e.translations.dollar)+":",1),s("span",dr,t(Z()),1)])])])])])],512),[[G,n.value===2]]),f(s("div",cr,[s("div",ur,[s("h5",mr,[o[38]||(o[38]=s("i",{class:"bi bi-gear text-info"},null,-1)),m(" "+t(e.translations.additional_details),1)]),s("p",vr,t(e.translations.set_additional_costs),1)]),s("div",br,[s("div",_r,[s("div",hr,[s("label",pr,[o[39]||(o[39]=s("i",{class:"bi bi-box"},null,-1)),m(" "+t(e.translations.materials_cost),1)]),s("div",yr,[f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=_=>r.materials_cost=_),placeholder:e.translations.enter_materials_cost,min:"0"},null,8,fr),[[C,r.materials_cost]]),s("span",$r,t(R()),1)])])]),s("div",gr,[s("div",xr,[s("label",wr,[o[40]||(o[40]=s("i",{class:"bi bi-person-workspace"},null,-1)),m(" "+t(e.translations.labor_cost),1)]),s("div",kr,[f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=_=>r.labor_cost=_),placeholder:e.translations.enter_labor_cost,min:"0"},null,8,Cr),[[C,r.labor_cost]]),s("span",Ur,t(R()),1)])])]),s("div",Vr,[s("div",Sr,[s("label",Fr,[o[41]||(o[41]=s("i",{class:"bi bi-truck"},null,-1)),m(" "+t(e.translations.transportation_cost),1)]),s("div",jr,[f(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=_=>r.transportation_cost=_),placeholder:e.translations.enter_transportation_cost,min:"0"},null,8,Dr),[[C,r.transportation_cost]]),s("span",Ir,t(R()),1)])])])]),s("div",Mr,[s("h6",Or,[o[42]||(o[42]=s("i",{class:"bi bi-calculator"},null,-1)),m(" "+t(e.translations.cost_summary),1)]),s("div",qr,[s("div",Ar,[s("span",null,t(e.translations.materials_cost)+":",1),s("span",null,t(L(r.materials_cost)),1)]),s("div",Er,[s("span",null,t(e.translations.labor_cost)+":",1),s("span",null,t(L(r.labor_cost)),1)]),s("div",Pr,[s("span",null,t(e.translations.transportation_cost)+":",1),s("span",null,t(L(r.transportation_cost)),1)]),s("div",zr,[s("span",null,t(e.translations.total_cost)+":",1),s("span",null,t(L(is())),1)])])])],512),[[G,n.value===3]]),f(s("div",Rr,[s("div",Tr,[s("h5",Lr,[o[43]||(o[43]=s("i",{class:"bi bi-camera text-warning"},null,-1)),m(" "+t(e.translations.media_upload),1)]),s("p",Nr,t(e.translations.upload_images_videos),1)]),s("div",Br,[s("div",Gr,[s("div",Wr,[s("label",Hr,[o[44]||(o[44]=s("i",{class:"bi bi-image"},null,-1)),m(" "+t(e.translations.main_image),1)]),s("div",{class:"upload-area",onClick:rs,onDragover:o[16]||(o[16]=q(()=>{},["prevent"])),onDrop:q(ms,["prevent"])},[s("input",{ref_key:"mainImageInput",ref:p,type:"file",accept:"image/*",onChange:us,style:{display:"none"}},null,544),D.value?(v(),h("div",Qr,[s("img",{src:D.value,alt:"Main Image Preview",class:"preview-image"},null,8,Xr),s("button",{type:"button",onClick:q(vs,["stop"]),class:"remove-image-btn"},o[46]||(o[46]=[s("i",{class:"bi bi-x"},null,-1)]))])):(v(),h("div",Jr,[o[45]||(o[45]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_image),1),s("small",null,t(e.translations.supported_formats),1)]))],32)])]),s("div",Kr,[s("div",Yr,[s("label",Zr,[o[47]||(o[47]=s("i",{class:"bi bi-images"},null,-1)),m(" "+t(e.translations.additional_images),1)]),s("div",{class:"upload-area",onClick:ds,onDragover:o[17]||(o[17]=q(()=>{},["prevent"])),onDrop:q(_s,["prevent"])},[s("input",{ref_key:"additionalImagesInput",ref:u,type:"file",accept:"image/*",multiple:"",onChange:bs,style:{display:"none"}},null,544),w.value.length===0?(v(),h("div",sd,[o[48]||(o[48]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_multiple_images),1),s("small",null,t(e.translations.max_images_limit),1)])):(v(),h("div",td,[(v(!0),h(Q,null,X(w.value,(_,I)=>(v(),h("div",{key:I,class:"image-item"},[s("img",{src:_,alt:"Additional Image Preview",class:"preview-image"},null,8,ed),s("button",{type:"button",onClick:q(N=>hs(I),["stop"]),class:"remove-image-btn"},o[49]||(o[49]=[s("i",{class:"bi bi-x"},null,-1)]),8,od)]))),128))]))],32)])])]),s("div",nd,[s("div",ld,[s("div",ad,[s("label",id,[o[50]||(o[50]=s("i",{class:"bi bi-play-circle"},null,-1)),m(" "+t(e.translations.video_upload),1)]),s("div",rd,[s("div",dd,[s("div",cd,[s("div",{class:"upload-area",onClick:cs,onDragover:o[18]||(o[18]=q(()=>{},["prevent"])),onDrop:q(ys,["prevent"])},[s("input",{ref_key:"videoInput",ref:x,type:"file",accept:"video/*",onChange:ps,style:{display:"none"}},null,544),k.value?(v(),h("div",md,[s("video",{src:k.value,controls:"",class:"preview-video"},null,8,vd),s("button",{type:"button",onClick:q(fs,["stop"]),class:"remove-video-btn"},o[52]||(o[52]=[s("i",{class:"bi bi-x"},null,-1)]))])):(v(),h("div",ud,[o[51]||(o[51]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_video),1),s("small",null,t(e.translations.supported_video_formats),1)]))],32)]),s("div",bd,[s("div",_d,[s("label",hd,[o[53]||(o[53]=s("i",{class:"bi bi-link-45deg"},null,-1)),m(" "+t(e.translations.video_url_alternative),1)]),f(s("input",{type:"url",class:"form-control","onUpdate:modelValue":o[19]||(o[19]=_=>r.video_url=_),placeholder:e.translations.enter_video_url},null,8,pd),[[C,r.video_url]]),s("small",yd,t(e.translations.or_enter_video_url),1)])])])])])])]),s("div",fd,[s("h6",$d,[o[54]||(o[54]=s("i",{class:"bi bi-collection"},null,-1)),m(" "+t(e.translations.media_summary),1)]),s("div",gd,[s("div",xd,[s("span",null,t(e.translations.main_image)+":",1),s("span",null,t(D.value?e.translations.uploaded:e.translations.not_uploaded),1)]),s("div",wd,[s("span",null,t(e.translations.additional_images)+":",1),s("span",null,t(w.value.length)+" "+t(e.translations.images),1)]),s("div",kd,[s("span",null,t(e.translations.video)+":",1),s("span",null,t(k.value||r.video_url?e.translations.uploaded:e.translations.not_uploaded),1)])])])],512),[[G,n.value===4]])],32)]),s("div",Cd,[s("button",{type:"button",class:"btn btn-outline-secondary",onClick:T,disabled:n.value===1},[o[55]||(o[55]=s("i",{class:"bi bi-arrow-left"},null,-1)),m(" "+t(e.translations.previous),1)],8,Ud),n.value<4?(v(),h("button",{key:0,type:"button",class:"btn btn-outline-primary",onClick:Y},[m(t(e.translations.next)+" ",1),o[56]||(o[56]=s("i",{class:"bi bi-arrow-right"},null,-1))])):V("",!0),n.value===4?(v(),h("button",{key:1,type:"submit",class:"btn btn-success",disabled:c.value||!K.value,onClick:ts},[c.value?(v(),h("span",Sd)):V("",!0),o[57]||(o[57]=s("i",{class:"bi bi-check-circle"},null,-1)),m(" "+t(e.translations.save),1)],8,Vd)):V("",!0),s("button",{type:"button",class:"btn btn-outline-danger",onClick:o[20]||(o[20]=_=>g.$emit("cancel"))},[o[58]||(o[58]=s("i",{class:"bi bi-x-circle"},null,-1)),m(" "+t(e.translations.cancel),1)])])]))}},jd=B(Fd,[["__scopeId","data-v-22fff0c4"]]),Dd={class:"d-flex justify-content-between align-items-center"},Id={class:"font-semibold text-xl text-gray-800 leading-tight"},Md={class:"d-flex gap-2"},Od={class:"py-12"},qd={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ad={class:"card mb-4"},Ed={class:"card-header"},Pd={class:"nav nav-tabs card-header-tabs",role:"tablist"},zd={class:"nav-item",role:"presentation"},Rd={class:"badge bg-primary ms-2"},Td={class:"nav-item",role:"presentation"},Ld={class:"badge bg-success ms-2"},Nd={class:"nav-item",role:"presentation"},Bd={class:"tab-content"},Gd={key:0,class:"modal-mask"},Wd={class:"modal-wrapper"},Hd={class:"modal-container"},Jd={class:"modal-header"},Qd={class:"modal-body"},Xd={__name:"Dashboard",props:{decorations:Object,orders:Object,customers:Array,employees:Array,analytics:Object,translations:Object,activeTabProp:{type:String,default:"decorations"}},setup(e){const O=$s(),d=e,S=j(d.activeTabProp),c=j(!1),n=ls(()=>d.translations||{}),i=()=>{E.reload({only:["decorations","orders","analytics"]})},p=()=>{c.value=!1,i()},u=D=>O.props.auth_permissions&&O.props.auth_permissions.includes(D),x=D=>{S.value=D,E.get(route("decorations.dashboard"),{tab:D},{preserveState:!0,replace:!0})};return(D,w)=>(v(),J(gs,{translations:n.value},{header:es(()=>[s("div",Dd,[s("h2",Id,t(n.value.decorations_dashboard),1),s("div",Md,[u("create decoration")?(v(),h("button",{key:0,class:"btn btn-primary",onClick:w[0]||(w[0]=k=>c.value=!0)},[w[8]||(w[8]=s("i",{class:"bi bi-plus-circle"},null,-1)),m(" "+t(n.value.create_decoration),1)])):V("",!0),s("button",{class:"btn btn-success",onClick:w[1]||(w[1]=k=>x("orders"))},[w[9]||(w[9]=s("i",{class:"bi bi-calendar-check"},null,-1)),m(" "+t(n.value.decoration_orders),1)])])])]),default:es(()=>{var k,l,$,M;return[s("div",Od,[s("div",qd,[s("div",Ad,[s("div",Ed,[s("ul",Pd,[s("li",zd,[s("button",{class:A(["nav-link",{active:S.value==="decorations"}]),onClick:w[2]||(w[2]=r=>x("decorations")),type:"button"},[w[10]||(w[10]=s("i",{class:"bi bi-palette"},null,-1)),m(" "+t(n.value.decorations)+" ",1),s("span",Rd,t(((l=(k=e.decorations)==null?void 0:k.data)==null?void 0:l.length)||0),1)],2)]),s("li",Td,[s("button",{class:A(["nav-link",{active:S.value==="orders"}]),onClick:w[3]||(w[3]=r=>x("orders")),type:"button"},[w[11]||(w[11]=s("i",{class:"bi bi-calendar-check"},null,-1)),m(" "+t(n.value.decoration_orders)+" ",1),s("span",Ld,t(((M=($=e.orders)==null?void 0:$.data)==null?void 0:M.length)||0),1)],2)]),s("li",Nd,[s("button",{class:A(["nav-link",{active:S.value==="analytics"}]),onClick:w[4]||(w[4]=r=>x("analytics")),type:"button"},[w[12]||(w[12]=s("i",{class:"bi bi-graph-up"},null,-1)),m(" "+t(n.value.statistics),1)],2)])])])]),s("div",Bd,[f(s("div",{class:A(["tab-pane fade",{"show active":S.value==="decorations"}])},[H(Qo,{decorations:e.decorations,customers:e.customers,translations:n.value,onCreateDecoration:w[5]||(w[5]=r=>c.value=!0),onRefresh:i},null,8,["decorations","customers","translations"])],2),[[G,S.value==="decorations"]]),f(s("div",{class:A(["tab-pane fade",{"show active":S.value==="orders"}])},[H(Sl,{orders:e.orders,employees:e.employees,translations:n.value,onRefresh:i},null,8,["orders","employees","translations"])],2),[[G,S.value==="orders"]]),f(s("div",{class:A(["tab-pane fade",{"show active":S.value==="analytics"}])},[H(qa,{analytics:e.analytics,translations:n.value},null,8,["analytics","translations"])],2),[[G,S.value==="analytics"]])])])]),c.value?(v(),h("div",Gd,[s("div",Wd,[s("div",Hd,[s("div",Jd,[s("h3",null,t(n.value.create_decoration),1),s("button",{onClick:w[6]||(w[6]=r=>c.value=!1),class:"btn-close"})]),s("div",Qd,[H(jd,{translations:n.value,onSuccess:p,onCancel:w[7]||(w[7]=r=>c.value=!1)},null,8,["translations"])])])])])):V("",!0)]}),_:1},8,["translations"]))}},oc=B(Xd,[["__scopeId","data-v-46c679fb"]]);export{oc as default};
