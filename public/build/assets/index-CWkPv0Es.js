import{s as tt,r as k,a as d,h as j,w as B,c,b as t,q as X,l as w,x as C,u as x,e as D,C as P,D as z,n as q,y as St,E as Wt,t as u,G as ot,H as te,i as U,F as Y,f as E,Q as ee,z as se,I as L,d as y,j as Ut,g as K}from"./app-CS4xKTbk.js";import{A as oe}from"./AuthenticatedLayout-B96QHgvd.js";import{_ as le}from"./Pagination-DYlSWOhR.js";import{S as st}from"./sweetalert2.esm.all-DwEdJQJv.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={key:0,class:"modal-mask"},ne={class:"modal-wrapper max-h-[80vh]"},ie={class:"modal-container"},de={class:"modal-header"},re={class:"modal-body"},ue={class:"my-4 mx-5"},ce={key:0,class:"text-danger"},me={class:"my-4 mx-5"},ve={class:"my-4 mx-5"},be={class:"modal-footer my-2"},fe={class:"d-flex w-100"},he={class:"px-4 flex-fill"},pe={class:"px-4 flex-fill"},ge={__name:"ModalConvertDollarDinar",props:{show:Boolean,boxes:Array,exchangeRate:{type:Number,default:15e4}},setup(s){tt();const l=k({user:{percentage:0},amount:0,exchangeRate:s.exchangeRate}),v=()=>{l.value={user:{percentage:0},amount:0}};function b(){m(),l.value.amountResultDinar=Math.floor(l.value.amountDollar*(l.value.exchangeRate/100))}let f=k(!1);function m(){const r=l.value.exchangeRate;/^\d{6}$/.test(r)?f.value=!1:f.value=!0}return(r,o)=>(d(),j(P,{name:"modal"},{default:B(()=>[s.show?(d(),c("div",ae,[t("div",ne,[t("div",ie,[t("div",de,[X(r.$slots,"header")]),t("div",re,[t("div",null,[t("div",ue,[o[7]||(o[7]=t("label",{for:"amountDinar",class:"form-label float-end"},"سعر الصرف 100",-1)),w(t("input",{id:"amountDinar",type:"number",class:"form-control",onInput:o[0]||(o[0]=p=>b()),"onUpdate:modelValue":o[1]||(o[1]=p=>l.value.exchangeRate=p)},null,544),[[C,l.value.exchangeRate]]),x(f)?(d(),c("div",ce," مطلوب رقم من 6 خانة فقط ")):D("",!0)]),t("div",me,[o[8]||(o[8]=t("label",{for:"amountDollar",class:"form-label float-end"}," المبلغ بالدولار (المبلغ المسحوب من الصندوق بالدولار) ",-1)),w(t("input",{id:"amountDollar",type:"number",class:"form-control",onInput:o[2]||(o[2]=p=>b()),"onUpdate:modelValue":o[3]||(o[3]=p=>l.value.amountDollar=p)},null,544),[[C,l.value.amountDollar]])]),t("div",ve,[o[9]||(o[9]=t("label",{for:"amountDinar",class:"form-label float-end"}," المبلغ بالدينار العراقي (المبلغ المضاف للصندوق بالدينار) ",-1)),w(t("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=p=>l.value.amountResultDinar=p)},null,512),[[C,l.value.amountResultDinar]])])])]),t("div",be,[t("div",fe,[t("div",he,[t("button",{class:"btn btn-secondary w-100 text-center",onClick:o[5]||(o[5]=p=>{r.$emit("close")})}," تراجع ")]),t("div",pe,[t("button",{class:"btn btn-danger w-100 text-center",onClick:o[6]||(o[6]=p=>{r.$emit("a",l.value),v()})}," نعم ")])])])])])])):D("",!0)]),_:3}))}},ye={key:0,class:"modal-mask"},xe={class:"modal-wrapper max-h-[80vh]"},_e={class:"modal-container"},$e={class:"modal-header"},we={class:"modal-body"},De={class:"my-4 mx-5"},Ce={key:0,class:"text-danger"},ke={class:"my-4 mx-5"},Me={class:"my-4 mx-5"},Se={class:"modal-footer my-2"},Ue={class:"row w-100"},Be={class:"col-6 px-4"},Ie={class:"col-6 px-4"},Ae={__name:"ModalConvertDinarDollar",props:{show:Boolean,boxes:Array,exchangeRate:{type:Number,default:15e4}},setup(s){tt();const l=k({user:{percentage:0},amount:0,exchangeRate:s.exchangeRate}),v=()=>{l.value={user:{percentage:0},amount:0}};let b=k(!1);function f(){const r=l.value.exchangeRate;/^\d{6}$/.test(r)?b.value=!1:b.value=!0}function m(){f(),l.value.amountResultDollar=Math.floor(l.value.amountDinar/(l.value.exchangeRate/100))}return(r,o)=>(d(),j(P,{name:"modal"},{default:B(()=>[s.show?(d(),c("div",ye,[t("div",xe,[t("div",_e,[t("div",$e,[X(r.$slots,"header")]),t("div",we,[t("div",null,[t("div",De,[o[7]||(o[7]=t("label",{for:"amountDinar",class:"form-label float-end"},"سعر الصرف 100$",-1)),w(t("input",{id:"amountDinar",type:"number",class:"form-control",onInput:o[0]||(o[0]=p=>m()),"onUpdate:modelValue":o[1]||(o[1]=p=>l.value.exchangeRate=p)},null,544),[[C,l.value.exchangeRate]]),x(b)?(d(),c("div",Ce," مطلوب رقم من 6 خانة فقط ")):D("",!0)]),t("div",ke,[o[8]||(o[8]=t("label",{for:"amountDinar",class:"form-label float-end"}," المبلغ بالدينار العراقي (المبلغ المسحوب من الصندوق بالدينار العراقي) ",-1)),w(t("input",{id:"amountDinar",type:"number",class:"form-control",onInput:o[2]||(o[2]=p=>m()),"onUpdate:modelValue":o[3]||(o[3]=p=>l.value.amountDinar=p)},null,544),[[C,l.value.amountDinar]])]),t("div",Me,[o[9]||(o[9]=t("label",{for:"amountDollar",class:"form-label float-end"}," المبلغ بالدولار (المبلغ المضاف للصندوق بالدولار) ",-1)),w(t("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=p=>l.value.amountResultDollar=p)},null,512),[[C,l.value.amountResultDollar]])])])]),t("div",Se,[t("div",Ue,[t("div",Be,[t("button",{class:"btn btn-secondary w-100 py-2 text-center",onClick:o[5]||(o[5]=p=>{r.$emit("close")})}," تراجع ")]),t("div",Ie,[t("button",{class:"btn btn-danger w-100 py-2 text-center",onClick:o[6]||(o[6]=p=>{r.$emit("a",l.value),v()})}," نعم ")])])])])])])):D("",!0)]),_:3}))}},Le={key:0,class:"modal-mask"},Re={class:"modal-wrapper max-h-[80vh]"},Te={class:"modal-container"},Ve={class:"modal-header"},Fe={class:"modal-body"},ze={class:"row g-3"},Ne={class:"col-lg-6"},Qe={class:"col-lg-6"},qe={class:"col-lg-6"},je={class:"col-lg-6"},Oe={class:"modal-footer"},He={class:"d-flex w-100"},Ye={class:"px-2 flex-fill"},Ee={class:"px-2 flex-fill"},Xe=["disabled"],Pe={__name:"ModalAddToBox",props:{show:Boolean,data:Array,accounts:Array},emits:["close","a"],setup(s,{emit:a}){const l=a,v=k({date:b(),amountDollar:0,amountDinar:0,amountNote:""});function b(){const r=new Date,o=r.getFullYear(),p=String(r.getMonth()+1).padStart(2,"0"),g=String(r.getDate()).padStart(2,"0");return`${o}-${p}-${g}`}const f=()=>{v.value={date:b(),amountDollar:0,amountDinar:0,amountNote:""}},m=r=>{z.post("/api/add-to-box",r).then(o=>{l("a"),l("close"),f()}).catch(o=>{l("close")})};return(r,o)=>(d(),j(P,{name:"modal"},{default:B(()=>[s.show?(d(),c("div",Le,[t("div",Re,[t("div",Te,[t("div",Ve,[X(r.$slots,"header")]),t("div",Fe,[t("div",ze,[t("div",Ne,[o[6]||(o[6]=t("label",{for:"amountDollar",class:"form-label"},"المبلغ بالدولار",-1)),w(t("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=p=>v.value.amountDollar=p)},null,512),[[C,v.value.amountDollar]])]),t("div",Qe,[o[7]||(o[7]=t("label",{for:"amountDinar",class:"form-label"},"المبلغ بالدينار",-1)),w(t("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=p=>v.value.amountDinar=p)},null,512),[[C,v.value.amountDinar]])]),t("div",qe,[o[8]||(o[8]=t("label",{for:"note",class:"form-label"},"ملاحظة",-1)),w(t("input",{id:"note",type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=p=>v.value.amountNote=p)},null,512),[[C,v.value.amountNote]])]),t("div",je,[o[9]||(o[9]=t("label",{for:"date",class:"form-label"},"التاريخ",-1)),w(t("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=p=>v.value.date=p)},null,512),[[C,v.value.date]])])])]),t("div",Oe,[t("div",He,[t("div",Ye,[t("button",{class:"btn btn-secondary w-100 text-center",onClick:o[4]||(o[4]=p=>l("close"))}," تراجع ")]),t("div",Ee,[t("button",{class:"btn btn-danger w-100 text-center",onClick:o[5]||(o[5]=p=>m(v.value)),disabled:!v.value.amountDollar&&!v.value.amountDinar}," نعم ",8,Xe)])])])])])])):D("",!0)]),_:3}))}},Ze={key:0,class:"modal-mask"},Ge={class:"modal-wrapper max-h-[80vh]"},Je={class:"modal-container"},Ke={class:"modal-header"},We={class:"modal-body"},ts={class:"row g-3"},es={class:"col-lg-6"},ss={class:"col-lg-6"},os={class:"col-lg-6"},ls={class:"col-lg-6"},as={class:"modal-footer"},ns={class:"d-flex w-100"},is={class:"px-2 flex-fill"},ds={class:"px-2 flex-fill"},rs=["disabled"],us={__name:"ModalDropFromBox",props:{show:Boolean,data:Array,accounts:Array},setup(s){const a=k({date:l(),amountDollar:0,amountDinar:0,amountNote:""});function l(){const f=new Date,m=f.getFullYear(),r=String(f.getMonth()+1).padStart(2,"0"),o=String(f.getDate()).padStart(2,"0");return`${m}-${r}-${o}`}const v=()=>{a.value={date:l()}},b=f=>{z.post("/api/drop-from-box",f).then(m=>{}).catch(m=>{$emit("close")})};return(f,m)=>(d(),j(P,{name:"modal"},{default:B(()=>[s.show?(d(),c("div",Ze,[t("div",Ge,[t("div",Je,[t("div",Ke,[X(f.$slots,"header")]),t("div",We,[t("div",ts,[t("div",es,[m[6]||(m[6]=t("label",{for:"amountDollar",class:"form-label"},"المبلغ بالدولار",-1)),w(t("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":m[0]||(m[0]=r=>a.value.amountDollar=r)},null,512),[[C,a.value.amountDollar]])]),t("div",ss,[m[7]||(m[7]=t("label",{for:"amountDinar",class:"form-label"},"المبلغ بالدينار",-1)),w(t("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":m[1]||(m[1]=r=>a.value.amountDinar=r)},null,512),[[C,a.value.amountDinar]])]),t("div",os,[m[8]||(m[8]=t("label",{for:"note",class:"form-label"},"ملاحظة",-1)),w(t("input",{id:"note",type:"text",class:"form-control","onUpdate:modelValue":m[2]||(m[2]=r=>a.value.amountNote=r)},null,512),[[C,a.value.amountNote]])]),t("div",ls,[m[9]||(m[9]=t("label",{for:"date",class:"form-label"},"التاريخ",-1)),w(t("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":m[3]||(m[3]=r=>a.value.date=r)},null,512),[[C,a.value.date]])])])]),t("div",as,[t("div",ns,[t("div",is,[t("button",{class:"btn btn-secondary w-100 text-center",onClick:m[4]||(m[4]=r=>{f.$emit("close")})}," تراجع ")]),t("div",ds,[t("button",{class:"btn btn-danger w-100 text-center",onClick:m[5]||(m[5]=r=>{b(a.value),f.$emit("a"),v()}),disabled:!a.value.amountDollar&&!a.value.amountDinar}," نعم ",8,rs)])])])])])])):D("",!0)]),_:3}))}},cs={},ms={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function vs(s,a){return d(),c("svg",ms,a[0]||(a[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"},null,-1)]))}const Bt=O(cs,[["render",vs]]),bs={},fs={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function hs(s,a){return d(),c("svg",fs,a[0]||(a[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"},null,-1)]))}const ps=O(bs,[["render",hs]]),gs={},ys={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function xs(s,a){return d(),c("svg",ys,a[0]||(a[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)]))}const _s=O(gs,[["render",xs]]),$s={name:"line-scale",props:{color:{type:String,default:"#CCC"},size:{type:String,default:"40px"},duration:{type:String,default:"0.6s"}}},ws=["width","height"],Ds=["fill"],Cs=["dur"],ks=["dur"],Ms=["fill"],Ss=["dur"],Us=["dur"],Bs=["fill"],Is=["dur"],As=["dur"];function Ls(s,a,l,v,b,f){return d(),c("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:l.size,height:l.size,viewBox:"0 0 24 30",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},[t("rect",{x:"0",y:"13",width:"4",height:"5",fill:l.color},[t("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:l.duration,repeatCount:"indefinite"},null,8,Cs),t("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:l.duration,repeatCount:"indefinite"},null,8,ks)],8,Ds),t("rect",{x:"10",y:"13",width:"4",height:"5",fill:l.color},[t("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:l.duration,repeatCount:"indefinite"},null,8,Ss),t("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:l.duration,repeatCount:"indefinite"},null,8,Us)],8,Ms),t("rect",{x:"20",y:"13",width:"4",height:"5",fill:l.color},[t("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:l.duration,repeatCount:"indefinite"},null,8,Is),t("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:l.duration,repeatCount:"indefinite"},null,8,As)],8,Bs)],8,ws)}const Rs=O($s,[["render",Ls]]),Ts={LineScale:Rs},Vs={name:"vue-element-loading",props:{active:Boolean,spinner:{type:String,default:"spinner"},text:{type:String,default:""},textStyle:{type:Object,default:function(){return{}}},color:{type:String,default:"#000"},isFullScreen:{type:Boolean,default:!1},backgroundColor:{type:String,default:"rgba(255, 255, 255, .9)"},size:{type:String,default:"40"},duration:{type:String,default:"0.6"},delay:{type:[String,Number],default:0}},data(){return{isActive:this.active||!1,isActiveDelay:!1}},mounted(){if(this.$refs.velmld.parentNode.classList.add("velmld-parent"),this.delay){const s=+this.delay*1e3;this.delayActive(s)}},methods:{delayActive(s){this.isActiveDelay=!0,setTimeout(()=>{this.isActiveDelay=!1},s)}},watch:{active(s){this.isActive=s,s&&this.$refs.velmld.parentNode.classList.add("velmld-parent")}},components:Ts},Fs={class:"velmld-spinner"};function zs(s,a,l,v,b,f){return d(),j(P,{name:"fade"},{default:B(()=>[w(t("div",{class:q([{"velmld-full-screen":l.isFullScreen},"velmld-overlay"]),style:St({backgroundColor:l.backgroundColor}),ref:"velmld"},[t("div",Fs,[X(s.$slots,"default",{},()=>[(d(),j(Wt(l.spinner),{color:l.color,size:`${l.size}px`,duration:`${l.duration}s`},null,8,["color","size","duration"]))],!0),l.text.length?(d(),c("div",{key:0,style:St({color:l.color,...l.textStyle})},u(l.text),5)):D("",!0)])],6),[[ot,b.isActive||b.isActiveDelay]])]),_:3})}const Ns=O(Vs,[["render",zs],["__scopeId","data-v-82159762"]]),Qs={props:{server:{type:String,default:"/api/upload"},isInvalid:{type:Boolean,default:!1},media:{type:Array,default:[]},location:{type:String,default:""},max:{type:Number,default:null},maxFilesize:{type:Number,default:4},warnings:{type:Boolean,default:!0},headers:{type:Object,default:null}},mounted(){this.init()},data(){return{addedMedia:[],savedMedia:[],removedMedia:[],config:{headers:null},isLoading:!0}},methods:{init(){this.savedMedia=this.media,this.config.headers=this.headers,this.savedMedia.forEach((s,a)=>{this.savedMedia[a].url||(this.savedMedia[a].url=this.location+"/"+s.name)}),setTimeout(()=>this.isLoading=!1,1e3),this.$emit("init",this.allMedia)},async fileChange(s){this.isLoading=!0;let a=s.target.files;for(var l=0;l<a.length;l++)if(!this.max||this.allMedia.length<this.max)if(a[l].size<=this.maxFilesize*1e6){let v=new FormData,b=URL.createObjectURL(a[l]);v.set("image",a[l]);const{data:f}=await z.post(this.server,v,this.config);let m={url:b,name:f.name,size:a[l].size,type:a[l].type};this.addedMedia.push(m),this.$emit("change",this.allMedia),this.$emit("add",m,this.addedMedia)}else{this.$emit("maxFilesize",a[l].size),this.warnings&&alert(`The file you are trying to upload is too big. 
Maximum Filesize: `+this.maxFilesize+"MB");break}else{this.$emit("max"),this.warnings&&alert(`You have reached the maximum number of files that you can upload. 
Maximum Files: `+this.max);break}s.target.value=null,this.isLoading=!1},removeAddedMedia(s){let a=this.addedMedia[s];this.addedMedia.splice(s,1),this.$emit("change",this.allMedia),this.$emit("remove",a,this.removedMedia)},removeSavedMedia(s){let a=this.savedMedia[s];this.removedMedia.push(a),this.savedMedia.splice(s,1),this.$emit("change",this.allMedia),this.$emit("remove",a,this.removedMedia)}},computed:{allMedia(){return[...this.savedMedia,...this.addedMedia]}},emits:["init","change","add","remove","max","maxFilesize"],components:{Loader:Ns}},qs={class:"mu-elements-wraper"},js={class:"mu-plusbox-container"},Os={class:"mu-plusbox"},Hs=["src"],Ys=["onClick"],Es=["src"],Xs=["onClick"],Ps=["value"],Zs=["value"],Gs={key:0,class:"mu-mt-1"};function Js(s,a,l,v,b,f){const m=te("Loader");return d(),c("div",null,[t("div",{class:q(["mu-container",l.isInvalid?"mu-red-border":""])},[U(m,{color:"#0275d8",active:b.isLoading,spinner:"line-scale","background-color":"rgba(255, 255, 255, .4)"},null,8,["active"]),t("div",qs,[t("div",js,[t("label",Os,[a[1]||(a[1]=t("svg",{class:"mu-plus-icon",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[t("g",{fill:"none"},[t("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11s11-4.925 11-11S18.075 1 12 1zm1 15a1 1 0 1 1-2 0v-3H8a1 1 0 1 1 0-2h3V8a1 1 0 1 1 2 0v3h3a1 1 0 1 1 0 2h-3v3z",fill:"currentColor"})])],-1)),t("input",{onChange:a[0]||(a[0]=(...r)=>f.fileChange&&f.fileChange(...r)),type:"file",accept:"image/*",multiple:"",hidden:""},null,32)])]),(d(!0),c(Y,null,E(b.savedMedia,(r,o)=>(d(),c("div",{key:o,class:"mu-image-container"},[t("img",{src:l.location+"/"+r.name,alt:"",class:"mu-images-preview"},null,8,Hs),t("button",{onClick:p=>f.removeSavedMedia(o),class:"mu-close-btn",type:"button"},a[2]||(a[2]=[t("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[t("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)]),8,Ys)]))),128)),(d(!0),c(Y,null,E(b.addedMedia,(r,o)=>(d(),c("div",{key:o,class:"mu-image-container"},[t("img",{src:r.url,alt:"",class:"mu-images-preview"},null,8,Es),t("button",{onClick:p=>f.removeAddedMedia(o),class:"mu-close-btn",type:"button"},a[3]||(a[3]=[t("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[t("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)]),8,Xs)]))),128))])],2),t("div",null,[(d(!0),c(Y,null,E(b.addedMedia,(r,o)=>(d(),c("div",{key:o,class:"mu-mt-1"},[t("input",{type:"text",name:"added_media[]",value:r.name,hidden:""},null,8,Ps)]))),128)),(d(!0),c(Y,null,E(b.removedMedia,(r,o)=>(d(),c("div",{key:o,class:"mu-mt-1"},[t("input",{type:"text",name:"removed_media[]",value:r.name,hidden:""},null,8,Zs)]))),128)),f.allMedia.length?(d(),c("div",Gs,a[4]||(a[4]=[t("input",{type:"text",name:"media",value:"1",hidden:""},null,-1)]))):D("",!0)])])}const Ks=O(Qs,[["render",Js],["__scopeId","data-v-01f6b32e"]]),Ws={key:0,class:"modal-mask"},to={class:"modal-wrapper max-h-[80vh]"},eo={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},so={class:"modal-header"},oo={class:"dark:text-gray-300 py-4 text-center"},lo={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},ao={class:"mb-4"},no={class:"mt-3"},io={key:0,class:"text-danger"},ro={class:"modal-footer my-2"},uo={class:"flex flex-row w-100"},co={class:"basis-1/2 px-4 w-100"},mo={class:"basis-1/2 px-4"},vo={__name:"ModalUploader",props:{show:Boolean,formData:Object,client:Array},setup(s){const a=tt();function l(v){z.get("/api/TransactionsImageDel?name="+v.name).then(b=>{a.success("تم  حذف الصورة بنجاح",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(b=>{console.error(b)})}return(v,b)=>(d(),j(P,{name:"modal"},{default:B(()=>{var f,m,r;return[s.show?(d(),c("div",Ws,[t("div",to,[t("div",eo,[t("div",so,[X(v.$slots,"header")]),t("h2",oo,u(s.formData.description),1),t("div",lo,[t("div",ao,[b[2]||(b[2]=t("label",{class:"form-label w-100 dark:text-gray-300"},"الصور",-1)),t("div",no,[U(x(Ks),{server:"/api/TransactionsUpload?transactionsId="+s.formData.id,"is-invalid":!!((f=v.errors)!=null&&f.media),onChange:v.changeMedia,onInitMedia:v.media,location:"/public/uploadsResized",media:s.formData.transactions_images,onAdd:v.addMedia,onRemove:l},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(m=v.errors)!=null&&m.media?(d(),c("p",io,u((r=v.errors)==null?void 0:r.media[0]),1)):D("",!0)])]),t("div",ro,[t("div",uo,[t("div",co,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded text-center",onClick:b[0]||(b[0]=o=>{v.$emit("close")})},"تراجع")]),t("div",mo,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6 text-center",onClick:b[1]||(b[1]=o=>{v.$emit("a",s.formData)})},"نعم")])])])])])])):D("",!0)]}),_:3}))}},bo={dir:"rtl",lang:"ar"},fo={class:"page-header"},ho={class:"header-content"},po={class:"header-title"},go={class:"statistics-section"},yo={class:"stats-grid"},xo={class:"stat-card balance-usd"},_o={class:"stat-details"},$o={class:"stat-value"},wo={class:"stat-card balance-iqd"},Do={class:"stat-details"},Co={class:"stat-value"},ko={class:"stat-card total-in"},Mo={class:"stat-details"},So={class:"stat-value-group"},Uo={class:"stat-value-currency"},Bo={class:"stat-value-currency"},Io={class:"stat-card total-out"},Ao={class:"stat-details"},Lo={class:"stat-value-group"},Ro={class:"stat-value-currency"},To={class:"stat-value-currency"},Vo={class:"section dashboard"},Fo={class:"card main-card"},zo={class:"tabs-navigation"},No={class:"tab-content"},Qo={class:"card-header-custom"},qo={class:"actions-wrapper"},jo={class:"action-group primary-actions"},Oo=["disabled"],Ho=["disabled"],Yo={class:"action-group conversion-actions"},Eo=["disabled"],Xo=["disabled"],Po={class:"action-group"},Zo=["disabled"],Go={class:"exchange-rate-info"},Jo={class:"card-body"},Ko={class:"filters-section"},Wo={class:"filter-grid"},tl={class:"filter-item"},el={class:"filter-item"},sl={class:"filter-item"},ol={class:"filter-item"},ll={class:"filter-actions"},al=["disabled"],nl=["disabled"],il={key:0,class:"loading-overlay"},dl={class:"table-container"},rl={class:"table-responsive"},ul={class:"table transactions-table"},cl={scope:"col"},ml={class:"index-cell"},vl={class:"index-badge"},bl={class:"account-cell"},fl={class:"account-info"},hl={class:"amount-cell out"},pl={key:0,class:"amount-badge out"},gl={key:1},yl={class:"amount-cell in"},xl={key:0,class:"amount-badge in"},_l={key:1},$l={class:"description-cell"},wl={class:"description-text"},Dl={class:"date-cell"},Cl={class:"date-info"},kl={class:"actions-cell"},Ml={class:"action-buttons"},Sl=["onClick"],Ul=["onClick"],Bl=["href"],Il=["href"],Al=["onClick"],Ll={class:"badge"},Rl={key:1},Tl={class:"tab-content"},Vl={class:"close-section"},Fl={class:"close-grid"},zl={class:"close-card daily-close"},Nl={class:"close-card-header"},Ql={class:"close-card-body"},ql={class:"close-info-row"},jl={class:"close-value"},Ol={class:"close-info-row"},Hl={class:"close-value"},Yl={class:"close-info-row"},El={class:"close-value"},Xl={class:"close-info-row highlight"},Pl={class:"close-value"},Zl={class:"close-info-row"},Gl={class:"close-value"},Jl={class:"close-card-footer"},Kl=["disabled"],Wl={key:1,class:"closed-badge"},ta={class:"close-card monthly-close"},ea={class:"close-card-header"},sa={class:"close-card-title"},oa={class:"close-card-body"},la={class:"close-info-row"},aa={class:"close-value"},na={class:"close-info-row"},ia={class:"close-value"},da={class:"close-info-row"},ra={class:"close-value"},ua={class:"close-info-row highlight"},ca={class:"close-value"},ma={class:"close-info-row"},va={class:"close-value"},ba={class:"close-card-footer"},fa=["disabled"],ha={key:1,class:"closed-badge"},pa={class:"images-modal-header"},ga={class:"images-grid"},ya=["href"],xa=["src","alt"],_a={__name:"index",props:{boxes:Object,transactions:Object,translations:Object,mainBox:Object,exchangeRate:{type:Number,default:1500},dailyClose:Object,monthlyClose:Object},setup(s){const a=tt();let l=k(!1),v=k(!1),b=k(!1),f=k(!1),m=k(!1),r=k(!1),o=k(0),p=k([]),g=k(!1),R=k("transactions");const _=s,It=ee(),S=se({name:"",note:"",start_date:G(),end_date:G()});function At(){v.value=!0}function Lt(){l.value=!0}function Rt(){b.value=!0}function Tt(){f.value=!0}function Vt(){H()}function H(){g.value=!0,z.get("api/boxes/transactions").then(i=>{K.reload({only:["transactions","mainBox"]}),a.success("تم تحديث البيانات بنجاح",{timeout:2e3,position:"bottom-right",rtl:!0})}).catch(i=>{console.log(i),a.error("حدث خطأ أثناء التحديث",{timeout:3e3,position:"bottom-right",rtl:!0})}).finally(()=>{g.value=!1})}function Ft(i){g.value=!0,z.post("/api/convertDollarDinar",i).then(e=>{H(),v.value=!1,a.success("تم التحويل بنجاح",{timeout:3e3,position:"bottom-right",rtl:!0})}).catch(e=>{a.error("حدث خطأ أثناء التحويل",{timeout:3e3,position:"bottom-right",rtl:!0})}).finally(()=>{g.value=!1})}function zt(i){g.value=!0,z.post("/api/convertDinarDollar",i).then(e=>{H(),l.value=!1,a.success("تم التحويل بنجاح",{timeout:3e3,position:"bottom-right",rtl:!0})}).catch(e=>{a.error("حدث خطأ أثناء التحويل",{timeout:3e3,position:"bottom-right",rtl:!0})}).finally(()=>{g.value=!1})}const lt=()=>{g.value=!0,K.get(route("boxes.index"),S,{preserveState:!0,preserveScroll:!0,onFinish:()=>{g.value=!1}})},Nt=()=>{S.name="",S.note="",S.start_date=G(),S.end_date=G(),lt()},Z=i=>It.props.auth_permissions.includes(i);function h(i){return typeof i!="number"&&(i=parseFloat(i)||0),Math.round(i).toLocaleString()}const Qt=(i,e)=>{st.fire({title:"تأكيد الحذف",html:`هل أنت متأكد من حذف هذه المعاملة؟<br><strong>المبلغ: ${h(e)}</strong>`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"نعم، احذف",cancelButtonText:"إلغاء"}).then($=>{$.isConfirmed&&(g.value=!0,z.post("api/delTransactions",{id:i}).then(M=>{K.reload({only:["transactions","mainBox"]}),a.success("تم حذف المعاملة بنجاح",{timeout:2e3,position:"bottom-right",rtl:!0})}).catch(M=>{a.error("حدث خطأ أثناء الحذف",{timeout:3e3,position:"bottom-right",rtl:!0})}).finally(()=>{g.value=!1}))})};function G(){const i=new Date,e=i.getFullYear(),$=String(i.getMonth()+1).padStart(2,"0"),M=String(i.getDate()).padStart(2,"0");return`${e}-${$}-${M}`}const et=i=>{const e=new Date(i),$=e.getFullYear(),M=String(e.getMonth()+1).padStart(2,"0"),T=String(e.getDate()).padStart(2,"0"),V=String(e.getHours()).padStart(2,"0"),F=String(e.getMinutes()).padStart(2,"0");return`${$}-${M}-${T} ${V}:${F}`};function qt(i){o.value=i,m.value=!0}function jt(i){p.value=i.transactions_images||[],r.value=!0}function Ot(i){return`/storage/transactions/${i}`}function Ht(i){return`/storage/transactions/${i}`}function Yt(i){return i.type==="outUser"||i.type==="out"?"row-out":i.type==="inUser"||i.type==="in"?"row-in":""}const Et=()=>{if(!_.transactions.data)return 0;const i=_.transactions.data.filter(e=>(e.type==="in"||e.type==="inUser")&&(e.currency==="USD"||e.currency==="$")).reduce((e,$)=>e+(parseFloat($.amount)||0),0);return h(i)},Xt=()=>{if(!_.transactions.data)return 0;const i=_.transactions.data.filter(e=>(e.type==="in"||e.type==="inUser")&&e.currency==="IQD").reduce((e,$)=>e+(parseFloat($.amount)||0),0);return h(i)},Pt=()=>{if(!_.transactions.data)return 0;const i=_.transactions.data.filter(e=>(e.type==="out"||e.type==="outUser")&&(e.currency==="USD"||e.currency==="$")).reduce((e,$)=>e+Math.abs(parseFloat($.amount)||0),0);return h(i)},Zt=()=>{if(!_.transactions.data)return 0;const i=_.transactions.data.filter(e=>(e.type==="out"||e.type==="outUser")&&e.currency==="IQD").reduce((e,$)=>e+Math.abs(parseFloat($.amount)||0),0);return h(i)},Gt=()=>{var i,e,$,M,T,V;st.fire({title:"تأكيد إغلاق اليوم",html:`
      <p>هل أنت متأكد من إغلاق اليوم؟</p>
      <div style="text-align: right; margin-top: 1rem;">
        <p><strong>المبيعات:</strong> ${h(((i=_.dailyClose)==null?void 0:i.total_sales_usd)??0)} USD / ${h(((e=_.dailyClose)==null?void 0:e.total_sales_iqd)??0)} IQD</p>
        <p><strong>المصاريف:</strong> ${h((($=_.dailyClose)==null?void 0:$.total_expenses_usd)??0)} USD / ${h(((M=_.dailyClose)==null?void 0:M.total_expenses_iqd)??0)} IQD</p>
        <p><strong>الرصيد الختامي:</strong> ${h(((T=_.dailyClose)==null?void 0:T.closing_balance_usd)??0)} USD / ${h(((V=_.dailyClose)==null?void 0:V.closing_balance_iqd)??0)} IQD</p>
      </div>
    `,icon:"question",showCancelButton:!0,confirmButtonColor:"#667eea",cancelButtonColor:"#6c757d",confirmButtonText:"نعم، إغلاق",cancelButtonText:"إلغاء",input:"textarea",inputPlaceholder:"ملاحظات (اختياري)",inputAttributes:{"aria-label":"ملاحظات"}}).then(F=>{var N;F.isConfirmed&&(g.value=!0,z.post("/boxes/close-daily",{date:((N=_.dailyClose)==null?void 0:N.close_date)||G(),notes:F.value||""}).then(I=>{I.data.success?(a.success(I.data.message||"تم إغلاق اليوم بنجاح",{timeout:3e3,position:"bottom-right",rtl:!0}),K.reload({only:["dailyClose","monthlyClose","mainBox"]})):a.error(I.data.message||"حدث خطأ",{timeout:3e3,position:"bottom-right",rtl:!0})}).catch(I=>{var A,Q;a.error(((Q=(A=I.response)==null?void 0:A.data)==null?void 0:Q.message)||"حدث خطأ أثناء إغلاق اليوم",{timeout:3e3,position:"bottom-right",rtl:!0})}).finally(()=>{g.value=!1}))})},Jt=()=>{var i,e,$,M,T,V;st.fire({title:"تأكيد إغلاق الشهر",html:`
      <p>هل أنت متأكد من إغلاق الشهر الحالي؟</p>
      <div style="text-align: right; margin-top: 1rem;">
        <p><strong>المبيعات:</strong> ${h(((i=_.monthlyClose)==null?void 0:i.total_sales_usd)??0)} USD / ${h(((e=_.monthlyClose)==null?void 0:e.total_sales_iqd)??0)} IQD</p>
        <p><strong>المصاريف:</strong> ${h((($=_.monthlyClose)==null?void 0:$.total_expenses_usd)??0)} USD / ${h(((M=_.monthlyClose)==null?void 0:M.total_expenses_iqd)??0)} IQD</p>
        <p><strong>الرصيد الختامي:</strong> ${h(((T=_.monthlyClose)==null?void 0:T.closing_balance_usd)??0)} USD / ${h(((V=_.monthlyClose)==null?void 0:V.closing_balance_iqd)??0)} IQD</p>
      </div>
    `,icon:"question",showCancelButton:!0,confirmButtonColor:"#667eea",cancelButtonColor:"#6c757d",confirmButtonText:"نعم، إغلاق",cancelButtonText:"إلغاء",input:"textarea",inputPlaceholder:"ملاحظات (اختياري)",inputAttributes:{"aria-label":"ملاحظات"}}).then(F=>{var N,I;F.isConfirmed&&(g.value=!0,z.post("/boxes/close-monthly",{year:((N=_.monthlyClose)==null?void 0:N.year)||new Date().getFullYear(),month:((I=_.monthlyClose)==null?void 0:I.month)||new Date().getMonth()+1,notes:F.value||""}).then(A=>{A.data.success?(a.success(A.data.message||"تم إغلاق الشهر بنجاح",{timeout:3e3,position:"bottom-right",rtl:!0}),K.reload({only:["dailyClose","monthlyClose","mainBox"]})):a.error(A.data.message||"حدث خطأ",{timeout:3e3,position:"bottom-right",rtl:!0})}).catch(A=>{var Q,J;a.error(((J=(Q=A.response)==null?void 0:Q.data)==null?void 0:J.message)||"حدث خطأ أثناء إغلاق الشهر",{timeout:3e3,position:"bottom-right",rtl:!0})}).finally(()=>{g.value=!1}))})},Kt=i=>({1:"يناير",2:"فبراير",3:"مارس",4:"أبريل",5:"مايو",6:"يونيو",7:"يوليو",8:"أغسطس",9:"سبتمبر",10:"أكتوبر",11:"نوفمبر",12:"ديسمبر"})[i]||i;return(i,e)=>(d(),j(oe,{translations:s.translations},{default:B(()=>{var $,M,T,V,F,N,I,A,Q,J,at,nt,it,dt,rt,ut,ct,mt,vt,bt,ft,ht,pt,gt,yt,xt,_t,$t,wt,Dt,Ct;return[t("div",bo,[t("div",fo,[t("div",ho,[t("div",po,[e[24]||(e[24]=t("i",{class:"bi bi-safe2"},null,-1)),t("h1",null,u(s.translations.boxes),1)])])]),t("div",go,[t("div",yo,[t("div",xo,[e[27]||(e[27]=t("div",{class:"stat-icon"},[t("i",{class:"bi bi-currency-dollar"})],-1)),t("div",_o,[e[25]||(e[25]=t("h6",null,"الرصيد بالدولار",-1)),t("span",$o,u(h((($=s.mainBox)==null?void 0:$.balance_usd)??0)),1),e[26]||(e[26]=t("small",null,"USD",-1))])]),t("div",wo,[e[30]||(e[30]=t("div",{class:"stat-icon"},[t("i",{class:"bi bi-cash-stack"})],-1)),t("div",Do,[e[28]||(e[28]=t("h6",null,"الرصيد بالدينار",-1)),t("span",Co,u(h(((M=s.mainBox)==null?void 0:M.balance)??0)),1),e[29]||(e[29]=t("small",null,"IQD",-1))])]),t("div",ko,[e[33]||(e[33]=t("div",{class:"stat-icon"},[t("i",{class:"bi bi-arrow-down-circle"})],-1)),t("div",Mo,[e[31]||(e[31]=t("h6",null,"إجمالي الإضافات",-1)),t("div",So,[t("span",Uo,u(Et())+" USD",1),t("span",Bo,u(Xt())+" IQD",1)]),e[32]||(e[32]=t("small",null,"عمليات اليوم",-1))])]),t("div",Io,[e[36]||(e[36]=t("div",{class:"stat-icon"},[t("i",{class:"bi bi-arrow-up-circle"})],-1)),t("div",Ao,[e[34]||(e[34]=t("h6",null,"إجمالي السحوبات",-1)),t("div",Lo,[t("span",Ro,u(Pt())+" USD",1),t("span",To,u(Zt())+" IQD",1)]),e[35]||(e[35]=t("small",null,"عمليات اليوم",-1))])])])]),t("section",Vo,[t("div",Fo,[t("div",zo,[t("button",{class:q(["tab-btn",{active:x(R)==="transactions"}]),onClick:e[0]||(e[0]=n=>L(R)?R.value="transactions":R="transactions")},e[37]||(e[37]=[t("i",{class:"bi bi-list-ul"},null,-1),y(" المعاملات ")]),2),t("button",{class:q(["tab-btn",{active:x(R)==="close"}]),onClick:e[1]||(e[1]=n=>L(R)?R.value="close":R="close")},e[38]||(e[38]=[t("i",{class:"bi bi-calendar-check"},null,-1),y(" الإغلاق اليومي والشهري ")]),2)]),w(t("div",No,[t("div",Qo,[t("div",qo,[t("div",jo,[Z("create order")?(d(),c("button",{key:0,class:"action-btn success",onClick:e[2]||(e[2]=n=>Rt()),disabled:x(g)},[e[39]||(e[39]=t("i",{class:"bi bi-plus-circle"},null,-1)),t("span",null,u(s.translations.add_to_box),1)],8,Oo)):D("",!0),Z("create order")?(d(),c("button",{key:1,class:"action-btn danger",onClick:e[3]||(e[3]=n=>Tt()),disabled:x(g)},[e[40]||(e[40]=t("i",{class:"bi bi-dash-circle"},null,-1)),t("span",null,u(s.translations.drop_from_box),1)],8,Ho)):D("",!0)]),t("div",Yo,[Z("create order")?(d(),c("button",{key:0,class:"action-btn warning",onClick:e[4]||(e[4]=n=>Lt()),disabled:x(g)},e[41]||(e[41]=[t("i",{class:"bi bi-arrow-left-right"},null,-1),t("span",null,"دينار → دولار",-1)]),8,Eo)):D("",!0),Z("create order")?(d(),c("button",{key:1,class:"action-btn warning",onClick:e[5]||(e[5]=n=>At()),disabled:x(g)},e[42]||(e[42]=[t("i",{class:"bi bi-arrow-right-left"},null,-1),t("span",null,"دولار → دينار",-1)]),8,Xo)):D("",!0)]),t("div",Po,[t("button",{class:"action-btn info",onClick:e[6]||(e[6]=n=>H()),disabled:x(g)},[t("i",{class:q(["bi bi-arrow-clockwise",{spin:x(g)}])},null,2),e[43]||(e[43]=t("span",null,"تحديث",-1))],8,Zo)])]),t("div",Go,[e[46]||(e[46]=t("i",{class:"bi bi-graph-up-arrow"},null,-1)),t("span",null,[e[44]||(e[44]=y("سعر الصرف: ")),t("strong",null,u(s.exchangeRate),1),e[45]||(e[45]=y(" IQD/USD"))])])]),t("div",Jo,[t("div",Ko,[t("form",{onSubmit:Ut(lt,["prevent"]),class:"filter-form"},[t("div",Wo,[t("div",tl,[e[47]||(e[47]=t("label",null,[t("i",{class:"bi bi-calendar-event"}),y(" تاريخ البداية ")],-1)),w(t("input",{type:"date",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=n=>S.start_date=n)},null,512),[[C,S.start_date]])]),t("div",el,[e[48]||(e[48]=t("label",null,[t("i",{class:"bi bi-calendar-check"}),y(" تاريخ النهاية ")],-1)),w(t("input",{type:"date",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=n=>S.end_date=n)},null,512),[[C,S.end_date]])]),t("div",sl,[e[49]||(e[49]=t("label",null,[t("i",{class:"bi bi-person"}),y(" الاسم ")],-1)),w(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=n=>S.name=n),placeholder:"ابحث بالاسم..."},null,512),[[C,S.name]])]),t("div",ol,[e[50]||(e[50]=t("label",null,[t("i",{class:"bi bi-file-text"}),y(" الملاحظة ")],-1)),w(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=n=>S.note=n),placeholder:"ابحث بالملاحظة..."},null,512),[[C,S.note]])]),t("div",ll,[t("button",{type:"submit",class:"btn btn-primary",disabled:x(g)},[e[51]||(e[51]=t("i",{class:"bi bi-search"},null,-1)),y(" "+u(s.translations.search),1)],8,al),t("button",{type:"button",class:"btn btn-secondary",onClick:Nt,disabled:x(g)},e[52]||(e[52]=[t("i",{class:"bi bi-x-circle"},null,-1),y(" مسح ")]),8,nl)])])],32)]),x(g)?(d(),c("div",il,e[53]||(e[53]=[t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden"},"جاري التحميل...")],-1)]))):D("",!0),t("div",dl,[t("div",rl,[t("table",ul,[t("thead",null,[t("tr",null,[e[55]||(e[55]=t("th",{scope:"col"},"#",-1)),e[56]||(e[56]=t("th",{scope:"col"},[t("i",{class:"bi bi-person-circle"}),y(" الحساب ")],-1)),e[57]||(e[57]=t("th",{scope:"col"},[t("i",{class:"bi bi-arrow-up text-danger"}),y(" سحب ")],-1)),e[58]||(e[58]=t("th",{scope:"col"},[t("i",{class:"bi bi-arrow-down text-success"}),y(" إضافة ")],-1)),e[59]||(e[59]=t("th",{scope:"col"},[t("i",{class:"bi bi-card-text"}),y(" البيان ")],-1)),t("th",cl,[e[54]||(e[54]=t("i",{class:"bi bi-calendar3"},null,-1)),y(" "+u(s.translations.created_at),1)]),e[60]||(e[60]=t("th",{scope:"col",class:"actions-col"},[t("i",{class:"bi bi-gear"}),y(" الإجراءات ")],-1))])]),t("tbody",null,[s.transactions.data&&s.transactions.data.length>0?(d(!0),c(Y,{key:0},E(s.transactions.data,(n,W)=>{var kt;return d(),c("tr",{key:n.id,class:q([Yt(n),"transaction-row"])},[t("td",ml,[t("span",vl,u((s.transactions.current_page-1)*s.transactions.per_page+W+1),1)]),t("td",bl,[t("div",fl,[e[61]||(e[61]=t("i",{class:"bi bi-person-badge"},null,-1)),t("span",null,u(((kt=n.morphed)==null?void 0:kt.name)||"غير محدد"),1)])]),t("td",hl,[n.type=="outUser"||n.type=="out"?(d(),c("span",pl,[e[62]||(e[62]=t("i",{class:"bi bi-dash-circle"},null,-1)),y(" "+u(h(n.amount))+" "+u(n.currency),1)])):(d(),c("span",gl,"-"))]),t("td",yl,[n.type=="inUser"||n.type=="in"?(d(),c("span",xl,[e[63]||(e[63]=t("i",{class:"bi bi-plus-circle"},null,-1)),y(" "+u(h(n.amount))+" "+u(n.currency),1)])):(d(),c("span",_l,"-"))]),t("td",$l,[t("span",wl,u(n.description||"لا يوجد"),1)]),t("td",Dl,[t("div",Cl,[e[64]||(e[64]=t("i",{class:"bi bi-clock"},null,-1)),t("span",null,u(et(n.created_at)),1)])]),t("td",kl,[t("div",Ml,[Z("delete order")?(d(),c("button",{key:0,class:"action-icon delete",onClick:Mt=>Qt(n.id,n.amount),title:"حذف"},[U(_s)],8,Sl)):D("",!0),t("button",{class:"action-icon upload",onClick:Mt=>qt(n),title:"تحميل مرفق"},[U(ps)],8,Ul),n.type==="out"||n.type==="outUser"||n.type==="debt"?(d(),c("a",{key:1,target:"_blank",href:`/api/getIndexAccountsSelas?user_id=${s.mainBox.id}&print=2&transactions_id=${n.id}`,class:"action-icon print",title:"طباعة"},[U(Bt)],8,Bl)):D("",!0),n.type==="in"||n.type==="inUser"?(d(),c("a",{key:2,target:"_blank",href:`/api/getIndexAccountsSelas?user_id=${s.mainBox.id}&print=3&transactions_id=${n.id}`,class:"action-icon print",title:"طباعة"},[U(Bt)],8,Il)):D("",!0),n.transactions_images&&n.transactions_images.length>0?(d(),c("button",{key:3,class:"action-icon view",onClick:Mt=>jt(n),title:"عرض المرفقات"},[e[65]||(e[65]=t("i",{class:"bi bi-images"},null,-1)),t("span",Ll,u(n.transactions_images.length),1)],8,Al)):D("",!0)])])],2)}),128)):(d(),c("tr",Rl,e[66]||(e[66]=[t("td",{colspan:"7",class:"empty-state"},[t("div",{class:"empty-content"},[t("i",{class:"bi bi-inbox"}),t("p",null,"لا توجد معاملات")])],-1)])))])])])])]),U(le,{links:(T=s.transactions)==null?void 0:T.links},null,8,["links"])],512),[[ot,x(R)==="transactions"]]),w(t("div",Tl,[t("div",Vl,[t("div",Fl,[t("div",zl,[t("div",Nl,[e[67]||(e[67]=t("div",{class:"close-card-title"},[t("i",{class:"bi bi-calendar-day"}),t("h3",null,"إغلاق يومي")],-1)),t("span",{class:q(["close-status",((V=s.dailyClose)==null?void 0:V.status)==="closed"?"closed":"open"])},u(((F=s.dailyClose)==null?void 0:F.status)==="closed"?"مغلق":"مفتوح"),3)]),t("div",Ql,[t("div",ql,[e[68]||(e[68]=t("span",{class:"close-label"},"المبيعات:",-1)),t("span",jl,u(h(((N=s.dailyClose)==null?void 0:N.total_sales_usd)??0))+" USD / "+u(h(((I=s.dailyClose)==null?void 0:I.total_sales_iqd)??0))+" IQD ",1)]),t("div",Ol,[e[69]||(e[69]=t("span",{class:"close-label"},"المصاريف:",-1)),t("span",Hl,u(h(((A=s.dailyClose)==null?void 0:A.total_expenses_usd)??0))+" USD / "+u(h(((Q=s.dailyClose)==null?void 0:Q.total_expenses_iqd)??0))+" IQD ",1)]),t("div",Yl,[e[70]||(e[70]=t("span",{class:"close-label"},"الرصيد الافتتاحي:",-1)),t("span",El,u(h(((J=s.dailyClose)==null?void 0:J.opening_balance_usd)??0))+" USD / "+u(h(((at=s.dailyClose)==null?void 0:at.opening_balance_iqd)??0))+" IQD ",1)]),t("div",Xl,[e[71]||(e[71]=t("span",{class:"close-label"},"الرصيد الختامي:",-1)),t("span",Pl,u(h(((nt=s.dailyClose)==null?void 0:nt.closing_balance_usd)??0))+" USD / "+u(h(((it=s.dailyClose)==null?void 0:it.closing_balance_iqd)??0))+" IQD ",1)]),t("div",Zl,[e[72]||(e[72]=t("span",{class:"close-label"},"عدد الطلبات:",-1)),t("span",Gl,u(((dt=s.dailyClose)==null?void 0:dt.total_orders)??0),1)])]),t("div",Jl,[((rt=s.dailyClose)==null?void 0:rt.status)==="open"?(d(),c("button",{key:0,class:"btn-close-action",onClick:Gt,disabled:x(g)},e[73]||(e[73]=[t("i",{class:"bi bi-lock-fill"},null,-1),y(" إغلاق اليوم ")]),8,Kl)):(d(),c("span",Wl,[e[74]||(e[74]=t("i",{class:"bi bi-check-circle"},null,-1)),y(" تم الإغلاق في "+u(et((ut=s.dailyClose)==null?void 0:ut.closed_at)),1)]))])]),t("div",ta,[t("div",ea,[t("div",sa,[e[75]||(e[75]=t("i",{class:"bi bi-calendar-month"},null,-1)),t("h3",null,"إغلاق شهري - "+u(((ct=s.monthlyClose)==null?void 0:ct.month_name)||Kt((mt=s.monthlyClose)==null?void 0:mt.month)),1)]),t("span",{class:q(["close-status",((vt=s.monthlyClose)==null?void 0:vt.status)==="closed"?"closed":"open"])},u(((bt=s.monthlyClose)==null?void 0:bt.status)==="closed"?"مغلق":"مفتوح"),3)]),t("div",oa,[t("div",la,[e[76]||(e[76]=t("span",{class:"close-label"},"المبيعات:",-1)),t("span",aa,u(h(((ft=s.monthlyClose)==null?void 0:ft.total_sales_usd)??0))+" USD / "+u(h(((ht=s.monthlyClose)==null?void 0:ht.total_sales_iqd)??0))+" IQD ",1)]),t("div",na,[e[77]||(e[77]=t("span",{class:"close-label"},"المصاريف:",-1)),t("span",ia,u(h(((pt=s.monthlyClose)==null?void 0:pt.total_expenses_usd)??0))+" USD / "+u(h(((gt=s.monthlyClose)==null?void 0:gt.total_expenses_iqd)??0))+" IQD ",1)]),t("div",da,[e[78]||(e[78]=t("span",{class:"close-label"},"الرصيد الافتتاحي:",-1)),t("span",ra,u(h(((yt=s.monthlyClose)==null?void 0:yt.opening_balance_usd)??0))+" USD / "+u(h(((xt=s.monthlyClose)==null?void 0:xt.opening_balance_iqd)??0))+" IQD ",1)]),t("div",ua,[e[79]||(e[79]=t("span",{class:"close-label"},"الرصيد الختامي:",-1)),t("span",ca,u(h(((_t=s.monthlyClose)==null?void 0:_t.closing_balance_usd)??0))+" USD / "+u(h((($t=s.monthlyClose)==null?void 0:$t.closing_balance_iqd)??0))+" IQD ",1)]),t("div",ma,[e[80]||(e[80]=t("span",{class:"close-label"},"عدد الطلبات:",-1)),t("span",va,u(((wt=s.monthlyClose)==null?void 0:wt.total_orders)??0),1)])]),t("div",ba,[((Dt=s.monthlyClose)==null?void 0:Dt.status)==="open"?(d(),c("button",{key:0,class:"btn-close-action",onClick:Jt,disabled:x(g)},e[81]||(e[81]=[t("i",{class:"bi bi-lock-fill"},null,-1),y(" إغلاق الشهر ")]),8,fa)):(d(),c("span",ha,[e[82]||(e[82]=t("i",{class:"bi bi-check-circle"},null,-1)),y(" تم الإغلاق في "+u(et((Ct=s.monthlyClose)==null?void 0:Ct.closed_at)),1)]))])])])])],512),[[ot,x(R)==="close"]])])]),U(vo,{show:x(m),formData:x(o),onA:e[11]||(e[11]=n=>Vt(n)),onClose:e[12]||(e[12]=n=>L(m)?m.value=!1:m=!1)},{header:B(()=>e[83]||(e[83]=[t("h2",{class:"modal-title"},[t("i",{class:"bi bi-cloud-upload"}),y(" تحميل ملفات ")],-1)])),_:1},8,["show","formData"]),U(ge,{show:x(v),boxes:s.boxes,exchangeRate:s.exchangeRate,onA:e[13]||(e[13]=n=>Ft(n)),onClose:e[14]||(e[14]=n=>L(v)?v.value=!1:v=!1)},{header:B(()=>e[84]||(e[84]=[t("h3",{class:"modal-title"},[t("i",{class:"bi bi-arrow-left-right"}),y(" تحويل من الدولار إلى دينار ")],-1)])),_:1},8,["show","boxes","exchangeRate"]),U(Ae,{show:x(l),boxes:s.boxes,exchangeRate:s.exchangeRate,onA:e[15]||(e[15]=n=>zt(n)),onClose:e[16]||(e[16]=n=>L(l)?l.value=!1:l=!1)},{header:B(()=>e[85]||(e[85]=[t("h3",{class:"modal-title"},[t("i",{class:"bi bi-arrow-right-left"}),y(" تحويل من الدينار إلى دولار ")],-1)])),_:1},8,["show","boxes","exchangeRate"]),U(Pe,{show:x(b),data:i.users,accounts:i.accounts,onA:e[17]||(e[17]=n=>{H(),L(b)?b.value=!1:b=!1}),onClose:e[18]||(e[18]=n=>L(b)?b.value=!1:b=!1)},{header:B(()=>e[86]||(e[86]=[t("h3",{class:"modal-title"},[t("i",{class:"bi bi-plus-circle"}),y(" وصل قبض - إضافة للصندوق ")],-1)])),_:1},8,["show","data","accounts"]),U(us,{show:x(f),boxes:s.boxes,onA:e[19]||(e[19]=n=>{H(),L(f)?f.value=!1:f=!1}),onClose:e[20]||(e[20]=n=>L(f)?f.value=!1:f=!1)},{header:B(()=>e[87]||(e[87]=[t("h2",{class:"modal-title"},[t("i",{class:"bi bi-dash-circle"}),y(" وصل سحب - سحب من الصندوق ")],-1)])),_:1},8,["show","boxes"]),x(r)?(d(),c("div",{key:0,class:"images-modal-overlay",onClick:e[23]||(e[23]=n=>L(r)?r.value=!1:r=!1)},[t("div",{class:"images-modal-content",onClick:e[22]||(e[22]=Ut(()=>{},["stop"]))},[t("div",pa,[e[89]||(e[89]=t("h4",null,"المرفقات",-1)),t("button",{onClick:e[21]||(e[21]=n=>L(r)?r.value=!1:r=!1),class:"close-btn"},e[88]||(e[88]=[t("i",{class:"bi bi-x"},null,-1)]))]),t("div",ga,[(d(!0),c(Y,null,E(x(p),(n,W)=>(d(),c("a",{key:W,href:Ht(n.name),target:"_blank",class:"image-item"},[t("img",{src:Ot(n.name),alt:`صورة ${W+1}`},null,8,xa),e[90]||(e[90]=t("div",{class:"image-overlay"},[t("i",{class:"bi bi-download"}),t("span",null,"تحميل")],-1))],8,ya))),128))])])])):D("",!0)])]}),_:1},8,["translations"]))}},Ma=O(_a,[["__scopeId","data-v-49710f63"]]);export{Ma as default};
