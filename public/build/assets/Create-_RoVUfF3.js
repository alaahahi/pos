import{s as $t,r as b,T as Bt,z as It,k as ot,B as R,D,K as G,o as Pt,S as Mt,a,h as Vt,w as Ft,b as s,d,t as l,I as w,l as L,x as O,u as n,U as nt,n as q,c as r,F as j,f as K,e as p,i as H,j as St}from"./app-uajXcrcW.js";import{_ as Dt}from"./AuthenticatedLayout-C12govuI.js";import{_ as Et}from"./InputError-roqXDSfs.js";import{C as Tt}from"./vue-select-B0k_OIAS.js";import{d as lt,M as At}from"./debounce-ey-mmzzO.js";import{S as it}from"./sweetalert2.esm.all-DwEdJQJv.js";import{_ as Ut}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Lt={class:"pos-header"},Ot={class:"d-flex justify-content-between align-items-center"},jt={class:"pos-title"},Kt={class:"pos-actions"},Nt={class:"pos-container"},Qt={class:"pos-products-panel"},zt={class:"pos-search-section"},Rt={class:"search-input-group"},Gt=["placeholder"],Ht={class:"barcode-section"},Jt=["placeholder"],Wt={class:"pos-filters"},Xt={key:0,class:"pos-categories"},Yt=["onClick"],Zt={class:"pos-products-grid"},ts=["onClick"],ss={class:"product-image"},es=["src","alt"],os={class:"product-info"},ns=["title"],ls={key:0,class:"product-model"},is={class:"product-details"},as={class:"product-price"},rs={key:1,class:"text-center p-4"},us={key:2,class:"no-products"},ds={class:"pos-cart-panel"},cs={class:"pos-customer-section"},bs={class:"form-label text-center w-100"},vs={class:"pos-cart-section"},ms={class:"cart-header"},fs={class:"text-center w-100"},ps={key:0,class:"cart-count"},ys={class:"cart-items"},hs={class:"cart-item-info"},_s={class:"item-name"},gs={class:"item-model"},ks={class:"cart-item-controls"},Cs={class:"quantity-controls"},ws=["onClick","disabled"],qs=["onUpdate:modelValue","onInput"],xs=["onClick"],$s={class:"price-controls"},Bs=["onUpdate:modelValue"],Is={class:"item-total"},Ps=["onClick"],Ms={key:0,class:"empty-cart"},Vs={key:0,class:"pos-summary-section"},Fs={class:"summary-row"},Ss={class:"summary-row"},Ds={class:"summary-row total-row"},Es={class:"total-amount"},Ts={key:1,class:"pos-actions-section"},As=["disabled"],Us={key:0,class:"bi bi-credit-card"},Ls={key:1,class:"spinner-border spinner-border-sm"},Os={class:"daily-sales-stats"},js={class:"stats-grid"},Ks={class:"stat-card stat-orders"},Ns={class:"stat-content"},Qs={class:"stat-value"},zs={class:"stat-card stat-sales"},Rs={class:"stat-content"},Gs={class:"stat-value"},Hs={class:"stat-card stat-paid"},Js={class:"stat-content"},Ws={class:"stat-value"},Xs={class:"stat-card stat-due"},Ys={class:"stat-content"},Zs={class:"stat-value"},te={key:0,class:"keyboard-shortcuts"},se={class:"modal-header"},ee={class:"modal-body"},oe={class:"cash-summary mb-4"},ne={class:"row"},le={class:"col-md-4"},ie={class:"cash-stat-card"},ae={class:"stat-info"},re={class:"stat-value"},ue={class:"col-md-4"},de={class:"cash-stat-card"},ce={class:"stat-info"},be={class:"stat-value"},ve={class:"col-md-4"},me={class:"cash-stat-card"},fe={class:"stat-info"},pe={class:"stat-value"},ye={class:"cash-products"},he={key:0,class:"empty-cash"},_e={key:1,class:"cash-products-list"},ge={class:"product-info"},ke={class:"product-name"},Ce={class:"text-muted"},we={class:"product-actions"},qe=["onClick"],xe={class:"modal-footer"},$e=["disabled"],Be=["disabled"],Ie={__name:"Create",props:{products:Array,customers:Array,defaultCustomer:Object,translations:Object,defaultCurrency:String,companyLogo:String,categories:Array,todaySales:Object},setup(u){var st,et;let v=$t(),V=b(!1),h=b(""),g=b(""),x=b(!1),E=b(!1),F=b(null),C=b("featured"),N=b(!1),f=b(!1),$=b({totalProducts:0,totalValue:0,products:[]}),B=b({orders_count:0,total_sales:0,total_paid:0,total_due:0});const J=b(null),S=b(null),m=u,I=b(((st=m.defaultCustomer)==null?void 0:st.id)||null),P=Bt({customer_id:((et=m.defaultCustomer)==null?void 0:et.id)||null,total_amount:0}),i=It([]),_=b(m.products.filter(o=>o.is_featured)),y=b(new Map),Q=ot(()=>i.reduce((o,t)=>o+t.quantity*t.price,0)),at=ot(()=>i.reduce((o,t)=>o+t.quantity,0));R(Q,o=>{P.total_amount=o}),R(I,o=>{P.customer_id=o}),R(i,()=>{bt()},{deep:!0});const z=o=>{if(o.quantity<=0){v.warning("المنتج غير متوفر في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0});return}const t=i.find(e=>e.product_id===o.id);t?t.quantity<o.quantity?t.quantity+=1:v.warning("لا توجد كمية كافية في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0}):i.push({product_id:o.id,quantity:1,price:o.price})},rt=o=>{i.splice(o,1)},ut=o=>{const t=i.findIndex(e=>e.product_id===o);t!==-1&&(i.splice(t,1),v.success("تم حذف المنتج من الكاش",{timeout:2e3,position:"bottom-right",rtl:!0}))},dt=()=>{i.length!==0&&it.fire({title:"تأكيد الحذف",text:"هل أنت متأكد من حذف جميع المنتجات من الكاش؟",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"نعم، احذف الكل",cancelButtonText:"إلغاء"}).then(o=>{o.isConfirmed&&(T(),v.success("تم حذف جميع المنتجات من الكاش",{timeout:2e3,position:"bottom-right",rtl:!0}))})},ct=()=>{it.fire({title:"إفراغ ذاكرة التخزين المؤقت",text:"هل تريد إفراغ ذاكرة المنتجات المخزنة؟ (مفيد بعد تعديل المنتجات)",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#6c757d",confirmButtonText:"نعم، إفراغ الكاش",cancelButtonText:"إلغاء"}).then(o=>{o.isConfirmed&&(y.value.clear(),v.success("تم إفراغ ذاكرة المنتجات المؤقتة",{timeout:2e3,position:"bottom-right",rtl:!0}))})},bt=()=>{$.value={totalProducts:i.reduce((o,t)=>o+t.quantity,0),totalValue:i.reduce((o,t)=>o+t.quantity*t.price,0),products:[...i]}},W=(o,t="IQD")=>Math.round(parseFloat(o||0))+" "+t,vt=o=>{const t=i[o];let e=m.products.find(c=>c.id===t.product_id);if(!e){for(const c of y.value.values())if(c.id===t.product_id){e=c;break}}e&&t.quantity<e.quantity?t.quantity+=1:v.warning("لا توجد كمية كافية في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0})},mt=o=>{const t=i[o];t.quantity>1&&(t.quantity-=1)},T=()=>{i.splice(0)},X=()=>{T(),I.value=null,P.customer_id=null,g.value="",h.value="",C.value="featured",F.value=null,_.value=m.products.filter(o=>o.is_featured)},A=lt(async()=>{if(!g.value.trim()){M(C.value);return}try{E.value=!0;const o=await D.get("/api/products-search",{params:{query:g.value.trim()}});o.data&&o.data.length>0?(_.value=o.data,o.data.forEach(t=>{t.barcode&&!y.value.has(t.barcode)&&y.value.set(t.barcode,t)})):(_.value=[],v.info("لا توجد نتائج للبحث",{timeout:2e3,position:"bottom-right",rtl:!0}))}catch(o){console.error("خطأ في البحث:",o),v.error("خطأ في البحث عن المنتجات",{timeout:3e3,position:"bottom-right",rtl:!0}),M(C.value)}finally{E.value=!1}},300),ft=()=>{_.value.length===1&&(z(_.value[0]),g.value="",M(C.value))},pt=o=>{F.value=o},yt=()=>{F.value=null,M(C.value)},M=o=>{C.value=o,o==="featured"?_.value=m.products.filter(t=>t.is_featured):o==="best_selling"&&(_.value=m.products.filter(t=>t.is_best_selling))},Y=o=>{let t=m.products.find(e=>e.id===o);if(!t){for(const e of y.value.values())if(e.id===o){t=e;break}}return t?t.name:""},ht=o=>{let t=m.products.find(e=>e.id===o);if(!t){for(const e of y.value.values())if(e.id===o){t=e;break}}return t?t.model:""},_t=o=>{o.target.src=`/${m.companyLogo}`},gt=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},kt=()=>{v.info("تم تعليق الطلب",{timeout:3e3,position:"bottom-right",rtl:!0})},Ct=()=>{window.print()},Z=()=>{x.value=!0},wt=async()=>{try{const o=await D.get("/api/today-sales");o.data&&(B.value=o.data)}catch(o){console.error("Error fetching daily sales:",o)}},qt=async o=>{V.value=!0;const t={total_amount:P.total_amount,total_paid:o.amountDollar??0,customer_id:P.customer_id,date:o.date,notes:o.notes,discount_amount:o.discount_amount??0,discount_rate:o.discount_rate??0,items:i.map(e=>({product_id:e.product_id,quantity:e.quantity,price:e.price}))};try{const e=await D.post("/api/createOrder",t);if(e.status===200||e.status===201){let{id:c,order_id:k}=e.data;v.success("تم حفظ الفاتورة بنجاح",{timeout:3e3,position:"bottom-right",rtl:!0}),o.printInvoice&&window.open(`/api/getIndexAccountsSelas?print=2&transactions_id=${c}&order_id=${k}`,"_blank"),await wt(),T(),g.value="",h.value="",_.value=[...m.products]}}catch{v.error("خطأ أثناء حفظ الفاتورة",{timeout:5e3,position:"bottom-right",rtl:!0})}finally{V.value=!1,x.value=!1}},U=lt(async()=>{if(!h.value)return;const o=h.value.trim();let t=m.products.find(e=>e.barcode===o);if(!t&&y.value.has(o)&&(t=y.value.get(o)),!t)try{const e=await D.get(`/api/products/${o}`);e.data&&e.data.id&&(t=e.data,y.value.set(o,t))}catch(e){e.response&&e.response.status===404?v.warning("المنتج غير موجود",{timeout:3e3,position:"bottom-right",rtl:!0}):v.error("خطأ في البحث عن المنتج",{timeout:3e3,position:"bottom-right",rtl:!0}),h.value="",G(()=>{var c;(c=S.value)==null||c.focus()});return}t&&(z(t),h.value="",G(()=>{var e;(e=S.value)==null||e.focus()}))},500),xt=async o=>{try{const t=await D.get(`/api/check-stock/${o.product_id}`);o.quantity>t.data.available_quantity&&(v.warning(`الكمية المتوفرة فقط: ${t.data.available_quantity}`,{timeout:3e3,position:"bottom-right",rtl:!0}),o.quantity=t.data.available_quantity)}catch(t){console.error("خطأ عند التحقق من المخزون:",t)}},tt=o=>{var t,e;o.key==="F1"&&(o.preventDefault(),(t=J.value)==null||t.focus()),o.key==="F2"&&(o.preventDefault(),(e=S.value)==null||e.focus()),o.key==="F9"&&i.length>0&&I.value&&(o.preventDefault(),Z()),o.key==="Escape"&&(o.preventDefault(),X()),o.key==="F12"&&(o.preventDefault(),N.value=!N.value)};return Pt(()=>{document.addEventListener("keydown",tt),m.todaySales&&(B.value=m.todaySales),G(()=>{var o;(o=S.value)==null||o.focus()})}),Mt(()=>{document.removeEventListener("keydown",tt)}),(o,t)=>(a(),Vt(Dt,{translations:u.translations},{default:Ft(()=>[s("div",Lt,[s("div",Ot,[s("h2",jt,[t[15]||(t[15]=s("i",{class:"bi bi-shop"},null,-1)),d(" "+l(u.translations.invoice),1)]),s("div",Kt,[s("button",{onClick:t[0]||(t[0]=e=>w(f)?f.value=!0:f=!0),class:"btn btn-outline-info"},t[16]||(t[16]=[s("i",{class:"bi bi-cash-coin"},null,-1),d(" إدارة الكاش ")])),s("button",{onClick:X,class:"btn btn-outline-danger"},t[17]||(t[17]=[s("i",{class:"bi bi-trash"},null,-1),d(" مسح الكل ")])),s("button",{onClick:gt,class:"btn btn-outline-primary"},t[18]||(t[18]=[s("i",{class:"bi bi-fullscreen"},null,-1),d(" ملء الشاشة ")]))])])]),s("div",Nt,[s("div",Qt,[s("div",zt,[s("div",Rt,[L(s("input",{ref_key:"searchInput",ref:J,"onUpdate:modelValue":t[1]||(t[1]=e=>w(g)?g.value=e:g=e),type:"text",class:"form-control pos-search-input",placeholder:u.translations.search_by_name_or_barcode,onInput:t[2]||(t[2]=(...e)=>n(A)&&n(A)(...e)),onKeyup:nt(ft,["enter"])},null,40,Gt),[[O,n(g)]]),s("button",{class:"btn btn-primary search-btn",onClick:t[3]||(t[3]=(...e)=>n(A)&&n(A)(...e))},t[19]||(t[19]=[s("i",{class:"bi bi-search"},null,-1)]))]),s("div",Ht,[L(s("input",{ref_key:"barcodeInput",ref:S,"onUpdate:modelValue":t[4]||(t[4]=e=>w(h)?h.value=e:h=e),type:"text",class:"form-control barcode-input",placeholder:u.translations.barcode,onKeyup:[t[5]||(t[5]=(...e)=>n(U)&&n(U)(...e)),t[6]||(t[6]=nt((...e)=>n(U)&&n(U)(...e),["enter"]))]},null,40,Jt),[[O,n(h)]]),t[20]||(t[20]=s("i",{class:"bi bi-upc-scan barcode-icon"},null,-1))])]),s("div",Wt,[s("button",{onClick:t[7]||(t[7]=e=>M("featured")),class:q(["btn","filter-btn",{active:n(C)==="featured"}])},t[21]||(t[21]=[s("i",{class:"bi bi-star-fill"},null,-1),d(" المميزة ")]),2),s("button",{onClick:t[8]||(t[8]=e=>M("best_selling")),class:q(["btn","filter-btn",{active:n(C)==="best_selling"}])},t[22]||(t[22]=[s("i",{class:"bi bi-trophy-fill"},null,-1),d(" الأكثر مبيعاً ")]),2)]),u.categories&&u.categories.length?(a(),r("div",Xt,[(a(!0),r(j,null,K(u.categories,e=>(a(),r("button",{key:e.id,onClick:c=>pt(e.id),class:q(["btn","category-btn",{active:n(F)===e.id}])},l(e.name),11,Yt))),128)),s("button",{onClick:yt,class:q(["btn","category-btn",{active:n(F)===null}])}," الكل ",2)])):p("",!0),s("div",Zt,[(a(!0),r(j,null,K(_.value,e=>(a(),r("div",{key:e.id,onClick:c=>z(e),class:q(["product-card",{"out-of-stock":e.quantity<=0},{"low-stock":e.quantity>0&&e.quantity<=5},{"in-stock":e.quantity>5}])},[s("div",{class:q(["product-stock-badge",{"badge-danger":e.quantity<=5&&e.quantity>0},{"badge-out":e.quantity<=0},{"badge-success":e.quantity>5}])},[t[23]||(t[23]=s("i",{class:"bi bi-box-seam"},null,-1)),d(" "+l(e.quantity),1)],2),s("div",ss,[s("img",{src:e.image_url||`/${u.companyLogo}`,alt:e.name,onError:_t},null,40,es)]),s("div",os,[s("h6",{class:"product-name",title:e.name},l(e.name),9,ns),e.model?(a(),r("p",ls,l(e.model),1)):p("",!0),s("div",is,[s("div",as,[t[24]||(t[24]=s("i",{class:"bi bi-tag-fill"},null,-1)),d(" "+l(u.defaultCurrency)+" "+l(Math.round(e.price).toLocaleString()),1)]),s("div",{class:q(["product-stock-text",{"text-danger":e.quantity<=5&&e.quantity>0},{"text-success":e.quantity>5}])},[t[25]||(t[25]=s("i",{class:"bi bi-box"},null,-1)),d(" "+l(e.quantity),1)],2)])])],10,ts))),128))]),n(E)?(a(),r("div",rs,t[26]||(t[26]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"جاري التحميل...")],-1)]))):p("",!0),!n(E)&&_.value.length===0?(a(),r("div",us,t[27]||(t[27]=[s("i",{class:"bi bi-box-seam"},null,-1),s("p",null,"لا توجد منتجات",-1)]))):p("",!0)]),s("div",ds,[s("div",cs,[s("label",bs,l(u.translations.client),1),H(n(Tt),{modelValue:I.value,"onUpdate:modelValue":t[9]||(t[9]=e=>I.value=e),options:u.customers,label:"name",reduce:e=>e.id,placeholder:u.translations.select_customer,class:"customer-select"},null,8,["modelValue","options","reduce","placeholder"]),H(Et,{message:n(P).errors.customer_id},null,8,["message"])]),s("div",vs,[s("div",ms,[s("h5",fs,[t[28]||(t[28]=s("i",{class:"bi bi-cart3"},null,-1)),t[29]||(t[29]=d(" عربة التسوق ")),i.length?(a(),r("span",ps,l(i.length),1)):p("",!0)]),i.length?(a(),r("button",{key:0,onClick:T,class:"btn btn-sm btn-outline-danger"},t[30]||(t[30]=[s("i",{class:"bi bi-trash"},null,-1)]))):p("",!0)]),s("div",ys,[(a(!0),r(j,null,K(i,(e,c)=>(a(),r("div",{key:c,class:"cart-item"},[s("div",hs,[s("h6",_s,l(Y(e.product_id)),1),s("p",gs,l(ht(e.product_id)),1)]),s("div",ks,[s("div",Cs,[s("button",{onClick:k=>mt(c),class:"btn btn-sm btn-outline-secondary",disabled:e.quantity<=1},t[31]||(t[31]=[s("i",{class:"bi bi-dash"},null,-1)]),8,ws),L(s("input",{"onUpdate:modelValue":k=>e.quantity=k,type:"number",min:"1",class:"form-control quantity-input",onInput:k=>xt(e)},null,40,qs),[[O,e.quantity,void 0,{number:!0}]]),s("button",{onClick:k=>vt(c),class:"btn btn-sm btn-outline-secondary"},t[32]||(t[32]=[s("i",{class:"bi bi-plus"},null,-1)]),8,xs)]),s("div",$s,[L(s("input",{"onUpdate:modelValue":k=>e.price=k,type:"number",min:"0",step:"1",class:"form-control price-input",style:{"min-width":"92px"}},null,8,Bs),[[O,e.price,void 0,{number:!0}]])]),s("div",Is,l(u.defaultCurrency)+" "+l(Math.round(e.quantity*e.price)),1),s("button",{onClick:k=>rt(c),class:"btn btn-sm btn-danger remove-btn"},t[33]||(t[33]=[s("i",{class:"bi bi-x"},null,-1)]),8,Ps)])]))),128))]),i.length===0?(a(),r("div",Ms,t[34]||(t[34]=[s("i",{class:"bi bi-cart-x"},null,-1),s("p",{class:"text-center"},"عربة التسوق فارغة",-1),s("small",{class:"text-center"},"اضغط على المنتجات لإضافتها",-1)]))):p("",!0)]),i.length>0?(a(),r("div",Vs,[s("div",Fs,[t[35]||(t[35]=s("span",null,"عدد الأصناف:",-1)),s("span",null,l(i.length),1)]),s("div",Ss,[t[36]||(t[36]=s("span",null,"إجمالي الكمية:",-1)),s("span",null,l(at.value),1)]),s("div",Ds,[t[37]||(t[37]=s("span",null,"الإجمالي:",-1)),s("span",Es,l(u.defaultCurrency)+" "+l(Math.round(Q.value)),1)])])):p("",!0),i.length>0&&I.value?(a(),r("div",Ts,[s("button",{onClick:Z,class:"btn btn-success btn-lg checkout-btn",disabled:n(V)},[n(V)?p("",!0):(a(),r("i",Us)),n(V)?(a(),r("span",Ls)):p("",!0),d(" "+l(u.translations.continue),1)],8,As),s("div",{class:"quick-actions"},[s("button",{onClick:kt,class:"btn btn-outline-warning"},t[38]||(t[38]=[s("i",{class:"bi bi-pause-circle"},null,-1),d(" تعليق ")])),s("button",{onClick:Ct,class:"btn btn-outline-info"},t[39]||(t[39]=[s("i",{class:"bi bi-printer"},null,-1),d(" طباعة ")]))])])):p("",!0)])]),s("div",Os,[s("div",js,[s("div",Ks,[t[41]||(t[41]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-receipt"})],-1)),s("div",Ns,[t[40]||(t[40]=s("h6",null,"عدد الفواتير",-1)),s("span",Qs,l(n(B).orders_count),1)])]),s("div",zs,[t[43]||(t[43]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-cash-stack"})],-1)),s("div",Rs,[t[42]||(t[42]=s("h6",null,"إجمالي المبيعات",-1)),s("span",Gs,l(u.defaultCurrency)+" "+l(Math.round(n(B).total_sales)),1)])]),s("div",Hs,[t[45]||(t[45]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-check-circle"})],-1)),s("div",Js,[t[44]||(t[44]=s("h6",null,"المدفوع",-1)),s("span",Ws,l(u.defaultCurrency)+" "+l(Math.round(n(B).total_paid)),1)])]),s("div",Xs,[t[47]||(t[47]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-exclamation-circle"})],-1)),s("div",Ys,[t[46]||(t[46]=s("h6",null,"المتبقي",-1)),s("span",Zs,l(u.defaultCurrency)+" "+l(Math.round(n(B).total_due)),1)])])])]),H(At,{translations:u.translations,show:n(x),total:Q.value,defaultCurrency:u.defaultCurrency,onClose:t[10]||(t[10]=e=>w(x)?x.value=!1:x=!1),onConfirm:qt},null,8,["translations","show","total","defaultCurrency"]),n(N)?(a(),r("div",te,t[48]||(t[48]=[s("div",{class:"shortcuts-content"},[s("h6",null,"اختصارات لوحة المفاتيح"),s("div",{class:"shortcut-item"},[s("kbd",null,"F1"),d(" - البحث ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"F2"),d(" - الباركود ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"F9"),d(" - الدفع ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"Esc"),d(" - مسح الكل ")])],-1)]))):p("",!0),n(f)?(a(),r("div",{key:1,class:"modal-overlay",onClick:t[14]||(t[14]=e=>w(f)?f.value=!1:f=!1)},[s("div",{class:"modal-content cash-modal",onClick:t[13]||(t[13]=St(()=>{},["stop"]))},[s("div",se,[t[50]||(t[50]=s("h5",{class:"modal-title"},[s("i",{class:"bi bi-cash-coin"}),d(" إدارة الكاش ")],-1)),s("button",{type:"button",class:"btn-close",onClick:t[11]||(t[11]=e=>w(f)?f.value=!1:f=!1)},t[49]||(t[49]=[s("i",{class:"bi bi-x"},null,-1)]))]),s("div",ee,[s("div",oe,[s("div",ne,[s("div",le,[s("div",ie,[t[52]||(t[52]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-box-seam"})],-1)),s("div",ae,[t[51]||(t[51]=s("h6",null,"إجمالي المنتجات",-1)),s("span",re,l(n($).totalProducts),1)])])]),s("div",ue,[s("div",de,[t[54]||(t[54]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-currency-dollar"})],-1)),s("div",ce,[t[53]||(t[53]=s("h6",null,"إجمالي القيمة",-1)),s("span",be,l(W(n($).totalValue)),1)])])]),s("div",ve,[s("div",me,[t[56]||(t[56]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-database"})],-1)),s("div",fe,[t[55]||(t[55]=s("h6",null,"ذاكرة المنتجات",-1)),s("span",pe,l(y.value.size),1)])])])])]),s("div",ye,[t[59]||(t[59]=s("h6",{class:"mb-3"},[s("i",{class:"bi bi-list-ul"}),d(" المنتجات في الكاش ")],-1)),n($).products.length===0?(a(),r("div",he,t[57]||(t[57]=[s("i",{class:"bi bi-inbox"},null,-1),s("p",null,"لا توجد منتجات في الكاش",-1)]))):(a(),r("div",_e,[(a(!0),r(j,null,K(n($).products,e=>(a(),r("div",{key:e.product_id,class:"cash-product-item"},[s("div",ge,[s("h6",ke,l(Y(e.product_id)),1),s("small",Ce,"الكمية: "+l(e.quantity)+" × "+l(W(e.price)),1)]),s("div",we,[s("button",{class:"btn btn-sm btn-outline-danger",onClick:c=>ut(e.product_id),title:"حذف المنتج"},t[58]||(t[58]=[s("i",{class:"bi bi-trash"},null,-1)]),8,qe)])]))),128))]))])]),s("div",xe,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[12]||(t[12]=e=>w(f)?f.value=!1:f=!1)}," إغلاق "),s("button",{type:"button",class:"btn btn-warning",onClick:ct,disabled:y.value.size===0},t[60]||(t[60]=[s("i",{class:"bi bi-database-dash"},null,-1),d(" إفراغ ذاكرة المنتجات ")]),8,$e),s("button",{type:"button",class:"btn btn-danger",onClick:dt,disabled:n($).products.length===0},t[61]||(t[61]=[s("i",{class:"bi bi-trash"},null,-1),d(" مسح الكاش بالكامل ")]),8,Be)])])])):p("",!0)]),_:1},8,["translations"]))}},Te=Ut(Ie,[["__scopeId","data-v-0c72f561"]]);export{Te as default};
