import{r as H,B as N,a as i,h as L,w as b,b as s,t as l,d as M,i as T,u as f,p,l as v,A as U,c as d,f as _,F as h,x as y,e as I,n as A,g as B}from"./app-DniDjs0a.js";import{_ as E}from"./AuthenticatedLayout-D_OBjHYh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"section dashboard"},z={class:"row mb-4"},P={class:"col-xl-3 col-md-6"},Q={class:"card info-card revenue-card"},q={class:"card-body"},G={class:"d-flex align-items-center"},J={class:"ps-3"},K={class:"col-xl-3 col-md-6"},R={class:"card info-card sales-card"},W={class:"card-body"},X={class:"d-flex align-items-center"},Y={class:"ps-3"},Z={class:"col-xl-3 col-md-6"},ss={class:"card info-card customers-card"},ts={class:"card-body"},es={class:"d-flex align-items-center"},ls={class:"ps-3"},os={class:"col-xl-3 col-md-6"},as={class:"card info-card revenue-card"},is={class:"card-body"},ns={class:"d-flex align-items-center"},ds={class:"ps-3"},rs={class:"card"},cs={class:"card-header"},us={class:"d-flex justify-content-between align-items-center"},ms={class:"card-body"},vs={class:"row mb-3"},bs={class:"col-md-3"},fs=["value"],ps={class:"col-md-3"},_s={class:"col-md-3"},hs={class:"col-md-3"},ys={class:"table-responsive"},gs={class:"table table-striped"},xs={scope:"row"},js={key:0,class:"text-muted small"},ws={class:"badge bg-primary"},Cs={class:"text-danger fw-bold"},Vs={class:"d-flex gap-1"},ks=["onClick"],Ds={class:"d-flex justify-content-center mt-3"},Fs={class:"pagination"},Ls=["innerHTML"],Ss={__name:"Index",props:{expenses:Object,categories:Object,statistics:Object,filters:Object,translations:Object},setup(o){var g,x,j,w;const c=o,a=H({category:((g=c.filters)==null?void 0:g.category)||"",start_date:((x=c.filters)==null?void 0:x.start_date)||"",end_date:((j=c.filters)==null?void 0:j.end_date)||"",search:((w=c.filters)==null?void 0:w.search)||""}),r=()=>{B.get(route("expenses.index"),a.value,{preserveState:!0,replace:!0})},u=(n,t="IQD")=>parseFloat(n||0).toFixed(2)+" "+t,O=n=>n?new Date(n).toLocaleDateString("ar-SA"):"-",S=n=>{confirm("هل أنت متأكد من حذف هذا المصروف؟")&&B.delete(route("expenses.destroy",n))};return N(a,()=>{r()},{deep:!0}),(n,t)=>(i(),L(E,{translations:o.translations},{default:b(()=>{var C,V,k,D;return[s("section",$,[s("div",z,[s("div",P,[s("div",Q,[s("div",q,[t[5]||(t[5]=s("h5",{class:"card-title"},"إجمالي المصاريف",-1)),s("div",G,[t[4]||(t[4]=s("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[s("i",{class:"bi bi-currency-dollar"})],-1)),s("div",J,[s("h6",null,l(u(((C=o.statistics)==null?void 0:C.total)||0)),1)])])])])]),s("div",K,[s("div",R,[s("div",W,[t[7]||(t[7]=s("h5",{class:"card-title"},"مصاريف هذا الشهر",-1)),s("div",X,[t[6]||(t[6]=s("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[s("i",{class:"bi bi-calendar-month"})],-1)),s("div",Y,[s("h6",null,l(u(((V=o.statistics)==null?void 0:V.monthly)||0)),1)])])])])]),s("div",Z,[s("div",ss,[s("div",ts,[t[9]||(t[9]=s("h5",{class:"card-title"},"مصاريف اليوم",-1)),s("div",es,[t[8]||(t[8]=s("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[s("i",{class:"bi bi-calendar-day"})],-1)),s("div",ls,[s("h6",null,l(u(((k=o.statistics)==null?void 0:k.today)||0)),1)])])])])]),s("div",os,[s("div",as,[s("div",is,[t[11]||(t[11]=s("h5",{class:"card-title"},"عدد المصاريف",-1)),s("div",ns,[t[10]||(t[10]=s("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[s("i",{class:"bi bi-list-ul"})],-1)),s("div",ds,[s("h6",null,l(((D=o.expenses)==null?void 0:D.total)||0),1)])])])])])]),s("div",rs,[s("div",cs,[s("div",us,[t[13]||(t[13]=s("h5",{class:"card-title mb-0"},[s("i",{class:"bi bi-receipt me-2"}),M(" قائمة المصاريف ")],-1)),T(f(p),{href:n.route("expenses.create"),class:"btn btn-primary"},{default:b(()=>t[12]||(t[12]=[s("i",{class:"bi bi-plus-circle me-1"},null,-1),M(" إضافة مصروف جديد ")])),_:1},8,["href"])])]),s("div",ms,[s("div",vs,[s("div",bs,[t[15]||(t[15]=s("label",{class:"form-label"},"الفئة",-1)),v(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.category=e),onChange:r,class:"form-select"},[t[14]||(t[14]=s("option",{value:""},"جميع الفئات",-1)),(i(!0),d(h,null,_(o.categories,(e,m)=>(i(),d("option",{key:m,value:m},l(e),9,fs))),128))],544),[[U,a.value.category]])]),s("div",ps,[t[16]||(t[16]=s("label",{class:"form-label"},"من تاريخ",-1)),v(s("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>a.value.start_date=e),onChange:r,class:"form-control"},null,544),[[y,a.value.start_date]])]),s("div",_s,[t[17]||(t[17]=s("label",{class:"form-label"},"إلى تاريخ",-1)),v(s("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>a.value.end_date=e),onChange:r,class:"form-control"},null,544),[[y,a.value.end_date]])]),s("div",hs,[t[18]||(t[18]=s("label",{class:"form-label"},"البحث",-1)),v(s("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>a.value.search=e),onInput:r,placeholder:"البحث في العنوان أو الوصف",class:"form-control"},null,544),[[y,a.value.search]])])]),s("div",ys,[s("table",gs,[t[21]||(t[21]=s("thead",null,[s("tr",null,[s("th",{scope:"col"},"#"),s("th",{scope:"col"},"العنوان"),s("th",{scope:"col"},"الفئة"),s("th",{scope:"col"},"المبلغ"),s("th",{scope:"col"},"التاريخ"),s("th",{scope:"col"},"المنشئ"),s("th",{scope:"col"},"الإجراءات")])],-1)),s("tbody",null,[(i(!0),d(h,null,_(o.expenses.data,(e,m)=>{var F;return i(),d("tr",{key:e.id},[s("th",xs,l(m+1),1),s("td",null,[s("div",null,[s("strong",null,l(e.title),1),e.description?(i(),d("div",js,l(e.description),1)):I("",!0)])]),s("td",null,[s("span",ws,l(o.categories[e.category]),1)]),s("td",null,[s("span",Cs,l(u(e.amount,e.currency)),1)]),s("td",null,l(O(e.expense_date)),1),s("td",null,l(((F=e.creator)==null?void 0:F.name)||"غير محدد"),1),s("td",null,[s("div",Vs,[T(f(p),{href:n.route("expenses.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:b(()=>t[19]||(t[19]=[s("i",{class:"bi bi-pencil"},null,-1)])),_:2},1032,["href"]),s("button",{onClick:Ms=>S(e.id),class:"btn btn-sm btn-outline-danger"},t[20]||(t[20]=[s("i",{class:"bi bi-trash"},null,-1)]),8,ks)])])])}),128))])])]),s("div",Ds,[s("nav",null,[s("ul",Fs,[(i(!0),d(h,null,_(o.expenses.links,e=>(i(),d("li",{key:e.label,class:A(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(i(),L(f(p),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(i(),d("span",{key:1,class:"page-link",innerHTML:e.label},null,8,Ls))],2))),128))])])])])])])]}),_:1},8,["translations"]))}};export{Ss as default};
