import{l as N,m as x,o as r,c as M,w as $,f as v,b as e,r as U,i as b,s as g,u as D,g as p,D as V,E as k,n as j,y as Y,G as ae,t as h,H as ne,C as le,a as y,F as A,x as B,Q as ie,q as re,d as _,e as de,I as C,A as F}from"./app-DfrujaWl.js";import{_ as ue}from"./AuthenticatedLayout-DGOyDvK1.js";import{_ as me}from"./Pagination-Caoux92W.js";import{S as ce}from"./sweetalert2.esm.all-DwEdJQJv.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ve={key:0,class:"modal-mask"},fe={class:"modal-wrapper max-h-[80vh]"},he={class:"modal-container"},pe={class:"modal-header"},be={class:"modal-body"},ge={class:"my-4 mx-5"},ye={key:0,class:"text-danger"},xe={class:"my-4 mx-5"},$e={class:"my-4 mx-5"},we={class:"modal-footer my-2"},_e={class:"d-flex w-100"},De={class:"px-4 flex-fill"},ke={class:"px-4 flex-fill"},Me={__name:"ModalConvertDollarDinar",props:{show:Boolean,boxes:Array},setup(n){N();const t=x({user:{percentage:0},amount:0,exchangeRate:1}),i=()=>{t.value={user:{percentage:0},amount:0}};function m(){d(),t.value.amountResultDinar=Math.floor(t.value.amountDollar*(t.value.exchangeRate/100))}let u=x(!1);function d(){const a=t.value.exchangeRate;/^\d{6}$/.test(a)?u.value=!1:u.value=!0}return(a,s)=>(r(),M(V,{name:"modal"},{default:$(()=>[n.show?(r(),v("div",ve,[e("div",fe,[e("div",he,[e("div",pe,[U(a.$slots,"header")]),e("div",be,[e("div",null,[e("div",ge,[s[7]||(s[7]=e("label",{for:"amountDinar",class:"form-label float-end"},"سعر الصرف 100",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[0]||(s[0]=c=>m()),"onUpdate:modelValue":s[1]||(s[1]=c=>t.value.exchangeRate=c)},null,544),[[g,t.value.exchangeRate]]),D(u)?(r(),v("div",ye," مطلوب رقم من 6 خانة فقط ")):p("",!0)]),e("div",xe,[s[8]||(s[8]=e("label",{for:"amountDollar",class:"form-label float-end"}," المبلغ بالدولار (المبلغ المسحوب من الصندوق بالدولار) ",-1)),b(e("input",{id:"amountDollar",type:"number",class:"form-control",onInput:s[2]||(s[2]=c=>m()),"onUpdate:modelValue":s[3]||(s[3]=c=>t.value.amountDollar=c)},null,544),[[g,t.value.amountDollar]])]),e("div",$e,[s[9]||(s[9]=e("label",{for:"amountDinar",class:"form-label float-end"}," المبلغ بالدينار العراقي (المبلغ المضاف للصندوق بالدينار) ",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=c=>t.value.amountResultDinar=c)},null,512),[[g,t.value.amountResultDinar]])])])]),e("div",we,[e("div",_e,[e("div",De,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:s[5]||(s[5]=c=>{a.$emit("close")})}," تراجع ")]),e("div",ke,[e("button",{class:"btn btn-danger w-100 text-center",onClick:s[6]||(s[6]=c=>{a.$emit("a",t.value),i()})}," نعم ")])])])])])])):p("",!0)]),_:3}))}},Ce={key:0,class:"modal-mask"},Se={class:"modal-wrapper max-h-[80vh]"},Le={class:"modal-container"},Ae={class:"modal-header"},Be={class:"modal-body"},Ue={class:"my-4 mx-5"},Ve={key:0,class:"text-danger"},Re={class:"my-4 mx-5"},ze={class:"my-4 mx-5"},Ie={class:"modal-footer my-2"},Te={class:"row w-100"},Fe={class:"col-6 px-4"},Ne={class:"col-6 px-4"},je={__name:"ModalConvertDinarDollar",props:{show:Boolean,boxes:Array},setup(n){N();const t=x({user:{percentage:0},amount:0,exchangeRate:1}),i=()=>{t.value={user:{percentage:0},amount:0}};let m=x(!1);function u(){const a=t.value.exchangeRate;/^\d{6}$/.test(a)?m.value=!1:m.value=!0}function d(){u(),t.value.amountResultDollar=Math.floor(t.value.amountDinar/(t.value.exchangeRate/100))}return(a,s)=>(r(),M(V,{name:"modal"},{default:$(()=>[n.show?(r(),v("div",Ce,[e("div",Se,[e("div",Le,[e("div",Ae,[U(a.$slots,"header")]),e("div",Be,[e("div",null,[e("div",Ue,[s[7]||(s[7]=e("label",{for:"amountDinar",class:"form-label float-end"},"سعر الصرف 100$",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[0]||(s[0]=c=>d()),"onUpdate:modelValue":s[1]||(s[1]=c=>t.value.exchangeRate=c)},null,544),[[g,t.value.exchangeRate]]),D(m)?(r(),v("div",Ve," مطلوب رقم من 6 خانة فقط ")):p("",!0)]),e("div",Re,[s[8]||(s[8]=e("label",{for:"amountDinar",class:"form-label float-end"}," المبلغ بالدينار العراقي (المبلغ المسحوب من الصندوق بالدينار العراقي) ",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[2]||(s[2]=c=>d()),"onUpdate:modelValue":s[3]||(s[3]=c=>t.value.amountDinar=c)},null,544),[[g,t.value.amountDinar]])]),e("div",ze,[s[9]||(s[9]=e("label",{for:"amountDollar",class:"form-label float-end"}," المبلغ بالدولار (المبلغ المضاف للصندوق بالدولار) ",-1)),b(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=c=>t.value.amountResultDollar=c)},null,512),[[g,t.value.amountResultDollar]])])])]),e("div",Ie,[e("div",Te,[e("div",Fe,[e("button",{class:"btn btn-secondary w-100 py-2 text-center",onClick:s[5]||(s[5]=c=>{a.$emit("close")})}," تراجع ")]),e("div",Ne,[e("button",{class:"btn btn-danger w-100 py-2 text-center",onClick:s[6]||(s[6]=c=>{a.$emit("a",t.value),i()})}," نعم ")])])])])])])):p("",!0)]),_:3}))}},Ee={key:0,class:"modal-mask"},He={class:"modal-wrapper max-h-[80vh]"},Ye={class:"modal-container"},Oe={class:"modal-header"},Xe={class:"modal-body"},Ze={class:"row g-3"},Pe={class:"col-lg-6"},Qe={class:"col-lg-6"},qe={class:"col-lg-6"},Ge={class:"col-lg-6"},Je={class:"modal-footer"},Ke={class:"d-flex w-100"},We={class:"px-2 flex-fill"},et={class:"px-2 flex-fill"},tt=["disabled"],ot={__name:"ModalAddToBox",props:{show:Boolean,data:Array,accounts:Array},setup(n){const t=x({date:i(),amountDollar:0,amountDinar:0,amountNote:""});function i(){const d=new Date,a=d.getFullYear(),s=String(d.getMonth()+1).padStart(2,"0"),c=String(d.getDate()).padStart(2,"0");return`${a}-${s}-${c}`}const m=()=>{t.value={date:i()}},u=d=>{k.post("/api/add-to-box",d).then(a=>{}).catch(a=>{$emit("close")})};return(d,a)=>(r(),M(V,{name:"modal"},{default:$(()=>[n.show?(r(),v("div",Ee,[e("div",He,[e("div",Ye,[e("div",Oe,[U(d.$slots,"header")]),e("div",Xe,[e("div",Ze,[e("div",Pe,[a[6]||(a[6]=e("label",{for:"amountDollar",class:"form-label"},"المبلغ بالدولار",-1)),b(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>t.value.amountDollar=s)},null,512),[[g,t.value.amountDollar]])]),e("div",Qe,[a[7]||(a[7]=e("label",{for:"amountDinar",class:"form-label"},"المبلغ بالدينار",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=s=>t.value.amountDinar=s)},null,512),[[g,t.value.amountDinar]])]),e("div",qe,[a[8]||(a[8]=e("label",{for:"note",class:"form-label"},"ملاحظة",-1)),b(e("input",{id:"note",type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=s=>t.value.amountNote=s)},null,512),[[g,t.value.amountNote]])]),e("div",Ge,[a[9]||(a[9]=e("label",{for:"date",class:"form-label"},"التاريخ",-1)),b(e("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=s=>t.value.date=s)},null,512),[[g,t.value.date]])])])]),e("div",Je,[e("div",Ke,[e("div",We,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:a[4]||(a[4]=s=>{d.$emit("close")})}," تراجع ")]),e("div",et,[e("button",{class:"btn btn-danger w-100 text-center",onClick:a[5]||(a[5]=s=>{u(t.value),d.$emit("a"),m()}),disabled:!t.value.amountDollar&&!t.value.amountDinar}," نعم ",8,tt)])])])])])])):p("",!0)]),_:3}))}},st={key:0,class:"modal-mask"},at={class:"modal-wrapper max-h-[80vh]"},nt={class:"modal-container"},lt={class:"modal-header"},it={class:"modal-body"},rt={class:"row g-3"},dt={class:"col-lg-6"},ut={class:"col-lg-6"},mt={class:"col-lg-6"},ct={class:"col-lg-6"},vt={class:"modal-footer"},ft={class:"d-flex w-100"},ht={class:"px-2 flex-fill"},pt={class:"px-2 flex-fill"},bt=["disabled"],gt={__name:"ModalDropFromBox",props:{show:Boolean,data:Array,accounts:Array},setup(n){const t=x({date:i(),amountDollar:0,amountDinar:0,amountNote:""});function i(){const d=new Date,a=d.getFullYear(),s=String(d.getMonth()+1).padStart(2,"0"),c=String(d.getDate()).padStart(2,"0");return`${a}-${s}-${c}`}const m=()=>{t.value={date:i()}},u=d=>{k.post("/api/drop-from-box",d).then(a=>{}).catch(a=>{$emit("close")})};return(d,a)=>(r(),M(V,{name:"modal"},{default:$(()=>[n.show?(r(),v("div",st,[e("div",at,[e("div",nt,[e("div",lt,[U(d.$slots,"header")]),e("div",it,[e("div",rt,[e("div",dt,[a[6]||(a[6]=e("label",{for:"amountDollar",class:"form-label"},"المبلغ بالدولار",-1)),b(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>t.value.amountDollar=s)},null,512),[[g,t.value.amountDollar]])]),e("div",ut,[a[7]||(a[7]=e("label",{for:"amountDinar",class:"form-label"},"المبلغ بالدينار",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=s=>t.value.amountDinar=s)},null,512),[[g,t.value.amountDinar]])]),e("div",mt,[a[8]||(a[8]=e("label",{for:"note",class:"form-label"},"ملاحظة",-1)),b(e("input",{id:"note",type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=s=>t.value.amountNote=s)},null,512),[[g,t.value.amountNote]])]),e("div",ct,[a[9]||(a[9]=e("label",{for:"date",class:"form-label"},"التاريخ",-1)),b(e("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=s=>t.value.date=s)},null,512),[[g,t.value.date]])])])]),e("div",vt,[e("div",ft,[e("div",ht,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:a[4]||(a[4]=s=>{d.$emit("close")})}," تراجع ")]),e("div",pt,[e("button",{class:"btn btn-danger w-100 text-center",onClick:a[5]||(a[5]=s=>{u(t.value),d.$emit("a"),m()}),disabled:!t.value.amountDollar&&!t.value.amountDinar}," نعم ",8,bt)])])])])])])):p("",!0)]),_:3}))}},yt={},xt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function $t(n,t){return r(),v("svg",xt,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"},null,-1)]))}const O=R(yt,[["render",$t]]),wt={},_t={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Dt(n,t){return r(),v("svg",_t,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"},null,-1)]))}const kt=R(wt,[["render",Dt]]),Mt={},Ct={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function St(n,t){return r(),v("svg",Ct,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)]))}const Lt=R(Mt,[["render",St]]),At={name:"line-scale",props:{color:{type:String,default:"#CCC"},size:{type:String,default:"40px"},duration:{type:String,default:"0.6s"}}},Bt=["width","height"],Ut=["fill"],Vt=["dur"],Rt=["dur"],zt=["fill"],It=["dur"],Tt=["dur"],Ft=["fill"],Nt=["dur"],jt=["dur"];function Et(n,t,i,m,u,d){return r(),v("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:i.size,height:i.size,viewBox:"0 0 24 30",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},[e("rect",{x:"0",y:"13",width:"4",height:"5",fill:i.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:i.duration,repeatCount:"indefinite"},null,8,Vt),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:i.duration,repeatCount:"indefinite"},null,8,Rt)],8,Ut),e("rect",{x:"10",y:"13",width:"4",height:"5",fill:i.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:i.duration,repeatCount:"indefinite"},null,8,It),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:i.duration,repeatCount:"indefinite"},null,8,Tt)],8,zt),e("rect",{x:"20",y:"13",width:"4",height:"5",fill:i.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:i.duration,repeatCount:"indefinite"},null,8,Nt),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:i.duration,repeatCount:"indefinite"},null,8,jt)],8,Ft)],8,Bt)}const Ht=R(At,[["render",Et]]),Yt={LineScale:Ht},Ot={name:"vue-element-loading",props:{active:Boolean,spinner:{type:String,default:"spinner"},text:{type:String,default:""},textStyle:{type:Object,default:function(){return{}}},color:{type:String,default:"#000"},isFullScreen:{type:Boolean,default:!1},backgroundColor:{type:String,default:"rgba(255, 255, 255, .9)"},size:{type:String,default:"40"},duration:{type:String,default:"0.6"},delay:{type:[String,Number],default:0}},data(){return{isActive:this.active||!1,isActiveDelay:!1}},mounted(){if(this.$refs.velmld.parentNode.classList.add("velmld-parent"),this.delay){const n=+this.delay*1e3;this.delayActive(n)}},methods:{delayActive(n){this.isActiveDelay=!0,setTimeout(()=>{this.isActiveDelay=!1},n)}},watch:{active(n){this.isActive=n,n&&this.$refs.velmld.parentNode.classList.add("velmld-parent")}},components:Yt},Xt={class:"velmld-spinner"};function Zt(n,t,i,m,u,d){return r(),M(V,{name:"fade"},{default:$(()=>[b(e("div",{class:j([{"velmld-full-screen":i.isFullScreen},"velmld-overlay"]),style:Y({backgroundColor:i.backgroundColor}),ref:"velmld"},[e("div",Xt,[U(n.$slots,"default",{},()=>[(r(),M(ae(i.spinner),{color:i.color,size:`${i.size}px`,duration:`${i.duration}s`},null,8,["color","size","duration"]))],!0),i.text.length?(r(),v("div",{key:0,style:Y({color:i.color,...i.textStyle})},h(i.text),5)):p("",!0)])],6),[[ne,u.isActive||u.isActiveDelay]])]),_:3})}const Pt=R(Ot,[["render",Zt],["__scopeId","data-v-82159762"]]),Qt={props:{server:{type:String,default:"/api/upload"},isInvalid:{type:Boolean,default:!1},media:{type:Array,default:[]},location:{type:String,default:""},max:{type:Number,default:null},maxFilesize:{type:Number,default:4},warnings:{type:Boolean,default:!0},headers:{type:Object,default:null}},mounted(){this.init()},data(){return{addedMedia:[],savedMedia:[],removedMedia:[],config:{headers:null},isLoading:!0}},methods:{init(){this.savedMedia=this.media,this.config.headers=this.headers,this.savedMedia.forEach((n,t)=>{this.savedMedia[t].url||(this.savedMedia[t].url=this.location+"/"+n.name)}),setTimeout(()=>this.isLoading=!1,1e3),this.$emit("init",this.allMedia)},async fileChange(n){this.isLoading=!0;let t=n.target.files;for(var i=0;i<t.length;i++)if(!this.max||this.allMedia.length<this.max)if(t[i].size<=this.maxFilesize*1e6){let m=new FormData,u=URL.createObjectURL(t[i]);m.set("image",t[i]);const{data:d}=await k.post(this.server,m,this.config);let a={url:u,name:d.name,size:t[i].size,type:t[i].type};this.addedMedia.push(a),this.$emit("change",this.allMedia),this.$emit("add",a,this.addedMedia)}else{this.$emit("maxFilesize",t[i].size),this.warnings&&alert(`The file you are trying to upload is too big. 
Maximum Filesize: `+this.maxFilesize+"MB");break}else{this.$emit("max"),this.warnings&&alert(`You have reached the maximum number of files that you can upload. 
Maximum Files: `+this.max);break}n.target.value=null,this.isLoading=!1},removeAddedMedia(n){let t=this.addedMedia[n];this.addedMedia.splice(n,1),this.$emit("change",this.allMedia),this.$emit("remove",t,this.removedMedia)},removeSavedMedia(n){let t=this.savedMedia[n];this.removedMedia.push(t),this.savedMedia.splice(n,1),this.$emit("change",this.allMedia),this.$emit("remove",t,this.removedMedia)}},computed:{allMedia(){return[...this.savedMedia,...this.addedMedia]}},emits:["init","change","add","remove","max","maxFilesize"],components:{Loader:Pt}},qt={class:"mu-elements-wraper"},Gt={class:"mu-plusbox-container"},Jt={class:"mu-plusbox"},Kt=["src"],Wt=["onClick"],eo=["src"],to=["onClick"],oo=["value"],so=["value"],ao={key:0,class:"mu-mt-1"};function no(n,t,i,m,u,d){const a=le("Loader");return r(),v("div",null,[e("div",{class:j(["mu-container",i.isInvalid?"mu-red-border":""])},[y(a,{color:"#0275d8",active:u.isLoading,spinner:"line-scale","background-color":"rgba(255, 255, 255, .4)"},null,8,["active"]),e("div",qt,[e("div",Gt,[e("label",Jt,[t[1]||(t[1]=e("svg",{class:"mu-plus-icon",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11s11-4.925 11-11S18.075 1 12 1zm1 15a1 1 0 1 1-2 0v-3H8a1 1 0 1 1 0-2h3V8a1 1 0 1 1 2 0v3h3a1 1 0 1 1 0 2h-3v3z",fill:"currentColor"})])],-1)),e("input",{onChange:t[0]||(t[0]=(...s)=>d.fileChange&&d.fileChange(...s)),type:"file",accept:"image/*",multiple:"",hidden:""},null,32)])]),(r(!0),v(A,null,B(u.savedMedia,(s,c)=>(r(),v("div",{key:c,class:"mu-image-container"},[e("img",{src:i.location+"/"+s.name,alt:"",class:"mu-images-preview"},null,8,Kt),e("button",{onClick:w=>d.removeSavedMedia(c),class:"mu-close-btn",type:"button"},t[2]||(t[2]=[e("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[e("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)]),8,Wt)]))),128)),(r(!0),v(A,null,B(u.addedMedia,(s,c)=>(r(),v("div",{key:c,class:"mu-image-container"},[e("img",{src:s.url,alt:"",class:"mu-images-preview"},null,8,eo),e("button",{onClick:w=>d.removeAddedMedia(c),class:"mu-close-btn",type:"button"},t[3]||(t[3]=[e("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[e("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)]),8,to)]))),128))])],2),e("div",null,[(r(!0),v(A,null,B(u.addedMedia,(s,c)=>(r(),v("div",{key:c,class:"mu-mt-1"},[e("input",{type:"text",name:"added_media[]",value:s.name,hidden:""},null,8,oo)]))),128)),(r(!0),v(A,null,B(u.removedMedia,(s,c)=>(r(),v("div",{key:c,class:"mu-mt-1"},[e("input",{type:"text",name:"removed_media[]",value:s.name,hidden:""},null,8,so)]))),128)),d.allMedia.length?(r(),v("div",ao,t[4]||(t[4]=[e("input",{type:"text",name:"media",value:"1",hidden:""},null,-1)]))):p("",!0)])])}const lo=R(Qt,[["render",no],["__scopeId","data-v-01f6b32e"]]),io={key:0,class:"modal-mask"},ro={class:"modal-wrapper max-h-[80vh]"},uo={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},mo={class:"modal-header"},co={class:"dark:text-gray-300 py-4 text-center"},vo={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},fo={class:"mb-4"},ho={class:"mt-3"},po={key:0,class:"text-danger"},bo={class:"modal-footer my-2"},go={class:"flex flex-row w-100"},yo={class:"basis-1/2 px-4 w-100"},xo={class:"basis-1/2 px-4"},$o={__name:"ModalUploader",props:{show:Boolean,formData:Object,client:Array},setup(n){const t=N();function i(m){k.get("/api/TransactionsImageDel?name="+m.name).then(u=>{t.success("تم  حذف الصورة بنجاح",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(u=>{console.error(u)})}return(m,u)=>(r(),M(V,{name:"modal"},{default:$(()=>{var d,a,s;return[n.show?(r(),v("div",io,[e("div",ro,[e("div",uo,[e("div",mo,[U(m.$slots,"header")]),e("h2",co,h(n.formData.description),1),e("div",vo,[e("div",fo,[u[2]||(u[2]=e("label",{class:"form-label w-100 dark:text-gray-300"},"الصور",-1)),e("div",ho,[y(D(lo),{server:"/api/TransactionsUpload?transactionsId="+n.formData.id,"is-invalid":!!((d=m.errors)!=null&&d.media),onChange:m.changeMedia,onInitMedia:m.media,location:"/public/uploadsResized",media:n.formData.transactions_images,onAdd:m.addMedia,onRemove:i},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(a=m.errors)!=null&&a.media?(r(),v("p",po,h((s=m.errors)==null?void 0:s.media[0]),1)):p("",!0)])]),e("div",bo,[e("div",go,[e("div",yo,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded text-center",onClick:u[0]||(u[0]=c=>{m.$emit("close")})},"تراجع")]),e("div",xo,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6 text-center",onClick:u[1]||(u[1]=c=>{m.$emit("a",n.formData)})},"نعم")])])])])])])):p("",!0)]}),_:3}))}},wo={class:"pagetitle dark:text-white"},_o={class:"dark:text-white"},Do={class:"section dashboard"},ko={class:"card"},Mo={class:"card-header"},Co={class:"row"},So={class:"col-md-2"},Lo={class:"col-md-2"},Ao={class:"col-md-2"},Bo={class:"col-md-2"},Uo={class:"col-md-2"},Vo={class:"btn btn-info w-100 text-white"},Ro={class:"text-bolde"},zo={class:"col-md-2"},Io={class:"btn btn-info w-100 text-white"},To={class:"text-bold"},Fo={class:"card-body"},No={class:"row filter_form"},jo={class:"col-md-2"},Eo=["placeholder"],Ho={class:"col-md-2"},Yo=["placeholder"],Oo={class:"col-md-2"},Xo=["placeholder"],Zo={class:"col-md-2"},Po=["placeholder"],Qo={class:"col-md-2"},qo={type:"submit",class:"btn btn-primary"},Go={class:"table-responsive"},Jo={class:"table text-center"},Ko={scope:"col"},Wo={key:0,scope:"col"},es={key:0},ts={key:0},os={key:0},ss=["onClick"],as=["onClick"],ns=["href"],ls=["href"],is=["href"],rs=["src"],fs={__name:"index",props:{boxes:Object,transactions:Array,translations:Array,mainBox:Object},setup(n){let t=x(!1),i=x(!1),m=x(!1),u=x(!1),d=x(!1),a=x(0);const s=n,c=ie(),w=re({name:"",model:"",start_date:E(),end_date:E()});function X(){i.value=!0}function Z(){t.value=!0}function P(){m.value=!0}function Q(){u.value=!0}function q(){z()}function z(){k.get("api/boxes/transactions").then(f=>{F.reload({only:["transactions","mainBox"]})}).catch(f=>{console.log(f)})}function G(f){k.post("/api/convertDollarDinar",f).then(o=>{z(),i.value=!1}).catch(o=>{errors.value=o.response.data.errors})}function J(f){k.post("/api/convertDinarDollar",f).then(o=>{z(),t.value=!1}).catch(o=>{errors.value=o.response.data.errors})}const K=()=>{F.get(route("boxes.index"),w,{preserveState:!0,preserveScroll:!0})},S=f=>c.props.auth_permissions.includes(f);function I(f){return typeof f!="number"&&(f=parseFloat(f)||0),f.toLocaleString()}const W=(f,o)=>{ce.fire({title:s.translations.are_you_sure+s.translations.delete+" "+s.translations.amount+" "+o,text:s.translations.you_will_not_be_able_to_revert_this,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:s.translations.yes,cancelButtonText:s.translations.cancel}).then(L=>{L.isConfirmed&&k.post("api/delTransactions/?id="+f).then(l=>{F.reload({only:["transactions","mainBox"]})}).catch(l=>{F.reload({only:["transactions","mainBox"]})})})};function E(){const f=new Date,o=f.getFullYear(),L=String(f.getMonth()+1).padStart(2,"0"),l=String(f.getDate()).padStart(2,"0");return`${o}-${L}-${l}`}const ee=f=>{const o={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(f).toLocaleDateString("en-US",o)};function te(f){a.value=f,d.value=!0}return(f,o)=>(r(),M(ue,{translations:n.translations},{default:$(()=>{var L;return[e("div",wo,[e("h1",_o,h(n.translations.boxes),1)]),e("section",Do,[e("div",ko,[e("div",Mo,[e("div",Co,[e("div",So,[S("create order")?(r(),v("button",{key:0,class:"btn btn-success",onClick:o[0]||(o[0]=l=>P())},[_(h(n.translations.add_to_box)+"   ",1),o[18]||(o[18]=e("i",{class:"bi bi-plus-circle"},null,-1))])):p("",!0)]),e("div",Lo,[S("create order")?(r(),v("button",{key:0,class:"btn btn-danger",onClick:o[1]||(o[1]=l=>Q())},[_(h(n.translations.drop_from_box)+"   ",1),o[19]||(o[19]=e("i",{class:"bi bi-stop-circle-fill"},null,-1))])):p("",!0)]),e("div",Ao,[S("create order")?(r(),v("button",{key:0,class:"btn btn-warning",onClick:o[2]||(o[2]=l=>Z())},[_(h(n.translations.convert_dinar_dollar)+"   ",1),o[20]||(o[20]=e("i",{class:"bi bi-arrow-left-right"},null,-1))])):p("",!0)]),e("div",Bo,[S("create order")?(r(),v("button",{key:0,class:"btn btn-warning",onClick:o[3]||(o[3]=l=>X())},[_(h(n.translations.convert_dollar_dinar)+"   ",1),o[21]||(o[21]=e("i",{class:"bi bi-arrow-left-right"},null,-1))])):p("",!0)]),e("div",Uo,[e("button",Vo,[o[22]||(o[22]=_(" الرصيد بالدولار : ")),e("span",Ro,h(I(n.mainBox.wallet.balance??0)),1),o[23]||(o[23]=_()),o[24]||(o[24]=e("i",{class:"bi bi-currency-dollar"},null,-1))])]),e("div",zo,[e("button",Io,[o[25]||(o[25]=_(" الرصيد بالدينار : ")),e("span",To,h(I(n.mainBox.wallet.balance_dinar??0)),1),o[26]||(o[26]=_()),o[27]||(o[27]=e("span",{class:"text-white"},"IQD",-1))])])])]),e("div",Fo,[e("form",{onSubmit:de(K,["prevent"])},[e("div",No,[e("div",jo,[b(e("input",{type:"date",class:"form-control search_box","onUpdate:modelValue":o[4]||(o[4]=l=>w.start_date=l),placeholder:n.translations.start_date},null,8,Eo),[[g,w.start_date]])]),e("div",Ho,[b(e("input",{type:"date",class:"form-control search_box","onUpdate:modelValue":o[5]||(o[5]=l=>w.end_date=l),placeholder:n.translations.end_date},null,8,Yo),[[g,w.end_date]])]),e("div",Oo,[b(e("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":o[6]||(o[6]=l=>w.name=l),placeholder:n.translations.name},null,8,Xo),[[g,w.name]])]),e("div",Zo,[b(e("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":o[7]||(o[7]=l=>w.note=l),placeholder:n.translations.note},null,8,Po),[[g,w.note]])]),e("div",Qo,[e("button",qo,[_(h(n.translations.search)+"   ",1),o[28]||(o[28]=e("i",{class:"bi bi-search"},null,-1))])])])],32),e("div",Go,[e("table",Jo,[e("thead",null,[e("tr",null,[o[29]||(o[29]=e("th",{scope:"col"},"#",-1)),o[30]||(o[30]=e("th",{scope:"col"},"الحساب",-1)),o[31]||(o[31]=e("th",{scope:"col"},"سحب",-1)),o[32]||(o[32]=e("th",{scope:"col"},"اضافة",-1)),o[33]||(o[33]=e("th",{scope:"col"},"البيان",-1)),e("th",Ko,h(n.translations.created_at),1),S("delete order")?(r(),v("th",Wo,h(n.translations.delete),1)):p("",!0),o[34]||(o[34]=e("th",{scope:"col"},"مرفق",-1)),o[35]||(o[35]=e("th",{scope:"col"},"طباعة",-1)),o[36]||(o[36]=e("th",{scope:"col"},"عرض",-1))])]),e("tbody",null,[(r(!0),v(A,null,B(n.transactions.data,(l,oe)=>{var H;return r(),v("tr",{key:l.id,class:j({"bg-red-100 dark:bg-red-900":l.type=="outUser"||l.type=="out","bg-green-100 dark:bg-green-900":l.type=="inUser"||l.type=="in"})},[e("th",null,h(oe+1),1),e("td",null,h((H=l.morphed)==null?void 0:H.name),1),e("td",null,[l.type=="outUser"||l.type=="out"?(r(),v("span",es,h(I(l.amount))+" "+h(l.currency),1)):p("",!0)]),e("td",null,[l.type=="inUser"||l.type=="in"?(r(),v("span",ts,h(I(l.amount))+" "+h(l.currency),1)):p("",!0)]),e("td",null,h(l.description),1),e("td",null,h(ee(l.created_at)),1),S("delete order")?(r(),v("td",os,[e("button",{class:"px-1 py-1 text-white bg-rose-500 rounded-md focus:outline-none",onClick:T=>W(l.id,l.amount)},[y(Lt)],8,ss)])):p("",!0),e("td",null,[e("button",{class:"px-1 mx-2 py-1 text-white bg-purple-600 rounded-md focus:outline-none",onClick:T=>te(l)},[y(kt)],8,as)]),e("td",null,[l.type==="out"||l.type==="outUser"||l.type==="debt"?(r(),v("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${n.mainBox.id}&print=2&transactions_id=${l.id}`,tabIndex:"1",class:"px-1 py-1 text-white bg-green-500 rounded"},[y(O,{class:"inline-flex"})],8,ns)):p("",!0),l.type==="in"||l.type==="inUser"?(r(),v("a",{key:1,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${n.mainBox.id}&print=3&transactions_id=${l.id}`,tabIndex:"1",class:"px-1 py-1 text-white bg-green-500 rounded"},[y(O,{class:"inline-flex"})],8,ls)):p("",!0)]),e("td",null,[(r(!0),v(A,null,B(l.transactions_images,(T,se)=>(r(),v("a",{key:se,href:f.getDownloadUrl(T.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:f.getImageUrl(T.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,rs)],8,is))),128))])],2)}),128))])])])])]),y(me,{links:(L=n.transactions)==null?void 0:L.links},null,8,["links"])]),y($o,{show:!!D(d),formData:D(a),onA:o[8]||(o[8]=l=>q(l)),onClose:o[9]||(o[9]=l=>C(d)?d.value=!1:d=!1)},{header:$(()=>o[37]||(o[37]=[e("h2",{class:"mb-5 dark:text-white w-100 text-center"}," تحميل ملفات ",-1)])),_:1},8,["show","formData"]),y(Me,{show:!!D(i),boxes:n.boxes,onA:o[10]||(o[10]=l=>G(l)),onClose:o[11]||(o[11]=l=>C(i)?i.value=!1:i=!1)},{header:$(()=>o[38]||(o[38]=[e("h3",{class:"text-center w-100"},"تحويل من الدولار الى دينار",-1)])),_:1},8,["show","boxes"]),y(je,{show:!!D(t),boxes:n.boxes,onA:o[12]||(o[12]=l=>J(l)),onClose:o[13]||(o[13]=l=>C(t)?t.value=!1:t=!1)},{header:$(()=>o[39]||(o[39]=[e("h3",{class:"text-center w-100"},"تحويل من الدينار الى دولار",-1)])),_:1},8,["show","boxes"]),y(ot,{show:!!D(m),data:f.users,accounts:f.accounts,onA:o[14]||(o[14]=l=>{z(),C(m)?m.value=!1:m=!1}),onClose:o[15]||(o[15]=l=>C(m)?m.value=!1:m=!1)},{header:$(()=>o[40]||(o[40]=[e("h3",{class:"text-center w-100"},"وصل قبض - اضافة للصندوق",-1)])),_:1},8,["show","data","accounts"]),y(gt,{show:!!D(u),boxes:n.boxes,onA:o[16]||(o[16]=l=>{z(),C(u)?u.value=!1:u=!1}),onClose:o[17]||(o[17]=l=>C(u)?u.value=!1:u=!1)},{header:$(()=>o[41]||(o[41]=[e("h2",{class:"text-center w-100 dark:text-white text-black"},"وصل سحب - سحب من الصندوق",-1)])),_:1},8,["show","boxes"])]}),_:1},8,["translations"]))}};export{fs as default};
