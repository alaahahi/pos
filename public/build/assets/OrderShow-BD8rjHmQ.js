import{r as y,x as L,a as n,h as g,w as f,b as t,t as s,d as c,i as N,u as x,p as P,c as l,e as d,F as V,f as q,n as i,g as $}from"./app-CHz4vJ2a.js";import{_ as z}from"./AuthenticatedLayout-JX5hdPrS.js";import{S as F}from"./StatusUpdateModal-C1FtEb0F.js";import{P as T}from"./PricingEditModal-jWF4A2A5.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"d-flex justify-content-between align-items-center"},A={class:"font-semibold text-xl text-gray-800 leading-tight"},U={class:"d-flex gap-2"},H=["href"],J={class:"py-12"},K={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"row"},R={class:"col-md-8"},W={class:"card mb-4"},X={class:"card-header"},Y={class:"card-body"},Z={class:"row"},_={class:"col-md-6"},p={class:"text-muted"},ee={key:0,class:"text-muted"},te={class:"mt-2"},se={class:"badge bg-info me-2"},ne={class:"badge bg-warning"},ae={class:"mt-3"},le={key:1},de={key:2},ie={key:3,class:"mt-2"},oe={key:0,class:"badge bg-success"},re={key:1,class:"badge bg-secondary"},ce={class:"col-md-6"},ue={class:"text-muted"},me={key:0,class:"mt-3"},he={class:"text-muted"},ve={key:1,class:"mt-3"},be={class:"list-unstyled"},ye={class:"card"},ge={class:"card-header"},fe={class:"card-body"},xe={class:"timeline"},ke={class:"timeline-content"},we={key:0,class:"text-muted"},je={class:"timeline-content"},Se={key:0,class:"text-muted"},Ce={class:"timeline-content"},De={key:0,class:"text-muted"},Me={class:"timeline-content"},$e={key:0,class:"text-muted"},Oe={class:"timeline-content"},Be={key:0,class:"text-muted"},Ee={class:"timeline-content"},Le={key:0,class:"text-muted"},Ne={class:"col-md-4"},Pe={class:"card mb-4"},Ve={class:"card-header"},qe={class:"card-body"},ze={class:"d-flex justify-content-between mb-2"},Fe={key:0,class:"d-flex justify-content-between mb-2"},Te={class:"badge bg-primary"},Ge={key:1,class:"d-flex justify-content-between mb-2"},Ie={class:"badge bg-info"},Ae={key:2,class:"d-flex justify-content-between mb-2"},Ue={class:"d-flex justify-content-between mb-2"},He={class:"badge bg-secondary"},Je={class:"d-flex justify-content-between mb-2"},Ke={class:"d-flex justify-content-between mb-2"},Qe={key:3,class:"d-flex justify-content-between mb-2"},Re={key:4,class:"d-flex justify-content-between mb-2"},We={class:"text-danger"},Xe={class:"d-flex justify-content-between mb-2"},Ye={class:"d-flex justify-content-between mb-2"},Ze={class:"text-success"},_e={class:"d-flex justify-content-between"},pe={class:"text-warning"},et={key:5,class:"mt-3"},tt={class:"d-flex justify-content-between mb-2"},st={key:6,class:"mt-3"},nt={class:"d-flex justify-content-between mb-2"},at={key:0,class:"card"},lt={class:"card-header"},dt={class:"card-body"},it={class:"text-muted"},ot={__name:"OrderShow",props:{order:Object,translations:Object,employees:Array},setup(e){const u=e,v=y(!1),b=y(!1);y(!1),L({status:u.order.status,assigned_employee_id:u.order.assigned_employee_id||"",paid_amount:u.order.paid_amount||"",scheduled_date:u.order.scheduled_date?E(u.order.scheduled_date):"",notes:u.order.notes||""});const O=()=>{v.value=!0},B=()=>{b.value=!0},k=o=>new Date(o).toLocaleDateString("ar-EG"),r=o=>new Date(o).toLocaleString("ar-EG"),E=o=>new Date(o).toISOString().slice(0,16),m=o=>o==="dollar"?"دولار":"دينار";return(o,a)=>(n(),g(z,null,{header:f(()=>[t("div",I,[t("h2",A,s(e.translations.order_details)+" #"+s(e.order.id),1),t("div",U,[t("button",{onClick:O,class:"btn btn-primary"},[a[4]||(a[4]=t("i",{class:"bi bi-pencil"},null,-1)),c(" "+s(e.translations.update_status),1)]),t("button",{onClick:B,class:"btn btn-warning"},[a[5]||(a[5]=t("i",{class:"bi bi-calculator"},null,-1)),c(" "+s(e.translations.edit_pricing),1)]),t("a",{href:o.route("decoration.orders.print",e.order.id),target:"_blank",class:"btn btn-info"},[a[6]||(a[6]=t("i",{class:"bi bi-printer"},null,-1)),c(" "+s(e.translations.print_invoice),1)],8,H),N(x(P),{class:"btn btn-secondary",href:o.route("decorations.orders")},{default:f(()=>[a[7]||(a[7]=t("i",{class:"bi bi-arrow-left"},null,-1)),c(" "+s(e.translations.cancel),1)]),_:1},8,["href"])])])]),default:f(()=>{var w,j,S,C,D,M;return[t("div",J,[t("div",K,[t("div",Q,[t("div",R,[t("div",W,[t("div",X,[t("h5",null,s(e.translations.order_details),1)]),t("div",Y,[t("div",Z,[t("div",_,[t("h6",null,s(e.translations.decoration),1),t("p",null,[t("strong",null,s((w=e.order.decoration)==null?void 0:w.name),1)]),t("p",p,s((j=e.order.decoration)==null?void 0:j.type_name),1),(S=e.order.decoration)!=null&&S.description?(n(),l("p",ee,s(e.order.decoration.description),1)):d("",!0),t("div",te,[t("span",se,s(e.translations.duration)+": "+s((C=e.order.decoration)==null?void 0:C.duration_hours)+" "+s(e.translations.hours),1),t("span",ne,s(e.translations.team_size)+": "+s((D=e.order.decoration)==null?void 0:D.team_size),1)]),t("h6",ae,s(e.translations.customer_details),1),t("p",null,[t("strong",null,s(e.order.customer_name),1)]),t("p",null,s(e.translations.phone)+": "+s(e.order.customer_phone),1),e.order.customer_email?(n(),l("p",le,s(e.translations.email)+": "+s(e.order.customer_email),1)):d("",!0),(M=e.order.customer)!=null&&M.address?(n(),l("p",de,s(e.translations.address)+": "+s(e.order.customer.address),1)):d("",!0),e.order.customer?(n(),l("div",ie,[e.order.customer.is_active?(n(),l("span",oe,s(e.translations.active_customer),1)):(n(),l("span",re,s(e.translations.inactive_customer),1))])):d("",!0)]),t("div",ce,[t("h6",null,s(e.translations.event_details),1),t("p",null,[t("strong",null,s(e.translations.event_date)+":",1),c(" "+s(k(e.order.event_date)),1)]),t("p",null,[t("strong",null,s(e.translations.event_time)+":",1),c(" "+s(e.order.event_time),1)]),t("p",null,[t("strong",null,s(e.translations.guest_count)+":",1),c(" "+s(e.order.guest_count),1)]),t("p",null,[t("strong",null,s(e.translations.event_address)+":",1)]),t("p",ue,s(e.order.event_address),1),e.order.special_requests?(n(),l("div",me,[t("h6",null,s(e.translations.special_requests),1),t("p",he,s(e.order.special_requests),1)])):d("",!0),e.order.selected_items&&e.order.selected_items.length>0?(n(),l("div",ve,[t("h6",null,s(e.translations.selected_items),1),t("ul",be,[(n(!0),l(V,null,q(e.order.selected_items,h=>(n(),l("li",{key:h,class:"text-muted"},[a[8]||(a[8]=t("i",{class:"bi bi-check-circle text-success me-2"},null,-1)),c(s(h),1)]))),128))])])):d("",!0)])])])]),t("div",ye,[t("div",ge,[t("h5",null,s(e.translations.order_timeline),1)]),t("div",fe,[t("div",xe,[t("div",{class:i(["timeline-item",{active:e.order.created_at}])},[a[9]||(a[9]=t("div",{class:"timeline-marker bg-secondary"},null,-1)),t("div",ke,[t("h6",null,s(e.translations.created),1),e.order.created_at?(n(),l("p",we,s(r(e.order.created_at)),1)):d("",!0)])],2),t("div",{class:i(["timeline-item",{active:e.order.received_at}])},[t("div",{class:i(["timeline-marker",e.order.received_at?"bg-info":"bg-light"])},null,2),t("div",je,[t("h6",null,s(e.translations.received),1),e.order.received_at?(n(),l("p",Se,s(r(e.order.received_at)),1)):d("",!0)])],2),t("div",{class:i(["timeline-item",{active:e.order.executing_at}])},[t("div",{class:i(["timeline-marker",e.order.executing_at?"bg-primary":"bg-light"])},null,2),t("div",Ce,[t("h6",null,s(e.translations.executing),1),e.order.executing_at?(n(),l("p",De,s(r(e.order.executing_at)),1)):d("",!0)])],2),t("div",{class:i(["timeline-item",{active:e.order.partial_payment_at}])},[t("div",{class:i(["timeline-marker",e.order.partial_payment_at?"bg-warning":"bg-light"])},null,2),t("div",Me,[t("h6",null,s(e.translations.partial_payment),1),e.order.partial_payment_at?(n(),l("p",$e,s(r(e.order.partial_payment_at)),1)):d("",!0)])],2),t("div",{class:i(["timeline-item",{active:e.order.full_payment_at}])},[t("div",{class:i(["timeline-marker",e.order.full_payment_at?"bg-success":"bg-light"])},null,2),t("div",Oe,[t("h6",null,s(e.translations.full_payment),1),e.order.full_payment_at?(n(),l("p",Be,s(r(e.order.full_payment_at)),1)):d("",!0)])],2),t("div",{class:i(["timeline-item",{active:e.order.completed_at}])},[t("div",{class:i(["timeline-marker",e.order.completed_at?"bg-success":"bg-light"])},null,2),t("div",Ee,[t("h6",null,s(e.translations.completed),1),e.order.completed_at?(n(),l("p",Le,s(r(e.order.completed_at)),1)):d("",!0)])],2)])])])]),t("div",Ne,[t("div",Pe,[t("div",Ve,[t("h5",null,s(e.translations.order_summary),1)]),t("div",qe,[t("div",ze,[t("span",null,s(e.translations.status)+":",1),t("span",{class:i(["badge",`bg-${e.order.status_color}`])},s(e.order.status_name),3)]),e.order.assigned_employee?(n(),l("div",Fe,[t("span",null,s(e.translations.assigned_employee)+":",1),t("span",Te,s(e.order.assigned_employee.name),1)])):d("",!0),e.order.assigned_team?(n(),l("div",Ge,[t("span",null,s(e.translations.assigned_team)+":",1),t("span",Ie,s(e.order.assigned_team.name),1)])):d("",!0),e.order.scheduled_date?(n(),l("div",Ae,[t("span",null,s(e.translations.scheduled_date)+":",1),t("span",null,s(k(e.order.scheduled_date)),1)])):d("",!0),t("div",Ue,[t("span",null,s(e.translations.order_id)+":",1),t("span",He,"#"+s(e.order.id),1)]),t("div",Je,[t("span",null,s(e.translations.created_at)+":",1),t("span",null,s(r(e.order.created_at)),1)]),a[10]||(a[10]=t("hr",null,null,-1)),t("div",Ke,[t("span",null,s(e.translations.base_price)+":",1),t("span",null,s(e.order.base_price)+" "+s(m(e.order.currency)),1)]),e.order.additional_cost>0?(n(),l("div",Qe,[t("span",null,s(e.translations.additional_cost)+":",1),t("span",null,s(e.order.additional_cost)+" "+s(m(e.order.currency)),1)])):d("",!0),e.order.discount>0?(n(),l("div",Re,[t("span",null,s(e.translations.discount)+":",1),t("span",We,"-"+s(e.order.discount)+" "+s(m(e.order.currency)),1)])):d("",!0),a[11]||(a[11]=t("hr",null,null,-1)),t("div",Xe,[t("strong",null,s(e.translations.total_price)+":",1),t("strong",null,s(e.order.total_price)+" "+s(m(e.order.currency)),1)]),t("div",Ye,[t("span",null,s(e.translations.paid_amount)+":",1),t("span",Ze,s(e.order.paid_amount||0)+" "+s(m(e.order.currency)),1)]),t("div",_e,[t("span",null,s(e.translations.remaining_amount)+":",1),t("span",pe,s(e.order.total_price-(e.order.paid_amount||0))+" "+s(m(e.order.currency)),1)]),e.order.paid_at?(n(),l("div",et,[t("div",tt,[t("span",null,s(e.translations.paid_at)+":",1),t("span",null,s(r(e.order.paid_at)),1)])])):d("",!0),e.order.completed_at?(n(),l("div",st,[t("div",nt,[t("span",null,s(e.translations.completed_at)+":",1),t("span",null,s(r(e.order.completed_at)),1)])])):d("",!0)])]),e.order.notes?(n(),l("div",at,[t("div",lt,[t("h5",null,s(e.translations.notes),1)]),t("div",dt,[t("p",it,s(e.order.notes),1)])])):d("",!0)])])])]),v.value?(n(),g(F,{key:0,order:e.order,employees:e.employees,translations:e.translations,onClose:a[0]||(a[0]=h=>v.value=!1),onSuccess:a[1]||(a[1]=h=>{v.value=!1,x($).reload()})},null,8,["order","employees","translations"])):d("",!0),b.value?(n(),g(T,{key:1,order:e.order,translations:e.translations,onClose:a[2]||(a[2]=h=>b.value=!1),onSuccess:a[3]||(a[3]=h=>{b.value=!1,x($).reload()})},null,8,["order","translations"])):d("",!0)]}),_:1}))}},vt=G(ot,[["__scopeId","data-v-b1121bfa"]]);export{vt as default};
