import{m as H,B as k,o as I,c as K,w as X,f as Y,b as e,r as q,t as c,i as g,s as y,g as z,D as J,K as p,L as Q}from"./app-DfrujaWl.js";const Z={key:0,class:"modal-mask"},tt={class:"modal-wrapper max-h-[80vh]"},et={class:"modal-container"},nt={class:"modal-header"},ot={class:"modal-body"},at={class:"row g-3"},rt={class:"col-lg-6"},it={class:"form-label"},lt=["value"],st={class:"col-lg-6"},dt={for:"amountDollar",class:"form-label"},ct={class:"col-lg-6"},ut={class:"col-lg-6"},ft={class:"col-lg-6"},mt={for:"notes",class:"form-label"},vt={class:"col-lg-6"},bt={for:"date",class:"form-label"},gt={class:"modal-footer"},yt={class:"d-flex w-100"},Tt={class:"px-2 flex-fill"},$t={class:"px-2 flex-fill"},pt={class:"px-2 flex-fill"},Se={__name:"ModalConfirmOrderAndPay",props:{show:Boolean,total:Number,translations:Object},setup(t){const a=t;function d(){const r=new Date,n=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${n}-${i}-${s}`}const o=H({date:d(),printInvoice:!1,amountDollar:a.total});return k(()=>a.total,r=>{o.value.amountDollar=r}),k(()=>o.value.amountDollar,r=>{r<0&&(o.value.amountDollar=0)}),(r,n)=>(I(),K(J,{name:"modal"},{default:X(()=>[t.show?(I(),Y("div",Z,[e("div",tt,[e("div",et,[e("div",nt,[q(r.$slots,"header")]),e("div",ot,[e("div",at,[e("div",rt,[e("label",it,c(t.translations.total)+" "+c(t.translations.dollar),1),e("input",{type:"number",class:"form-control",value:t.total,disabled:""},null,8,lt)]),e("div",st,[e("label",dt,c(t.translations.total)+" "+c(t.translations.paid)+" "+c(t.translations.dollar),1),g(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=i=>o.value.amountDollar=i),min:"0"},null,512),[[y,o.value.amountDollar]])]),e("div",ct,[n[8]||(n[8]=e("label",{class:"form-label"},"خصم مبلغ ",-1)),g(e("input",{type:"number",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=i=>o.value.discount_amount=i),min:"0"},null,512),[[y,o.value.discount_amount]])]),e("div",ut,[n[9]||(n[9]=e("label",{for:"amountDollar",class:"form-label"},"خصم نسبة على الفاتورة",-1)),g(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":n[2]||(n[2]=i=>o.value.discount_rate=i),min:"0"},null,512),[[y,o.value.discount_rate]])]),e("div",ft,[e("label",mt,c(t.translations.note),1),g(e("input",{id:"notes",type:"text",class:"form-control","onUpdate:modelValue":n[3]||(n[3]=i=>o.value.notes=i)},null,512),[[y,o.value.notes]])]),e("div",vt,[e("label",bt,c(t.translations.date),1),g(e("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":n[4]||(n[4]=i=>o.value.date=i)},null,512),[[y,o.value.date]])])])]),e("div",gt,[e("div",yt,[e("div",Tt,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:n[5]||(n[5]=i=>{r.$emit("close")})},c(t.translations.cancel),1)]),e("div",$t,[e("button",{class:"btn btn-danger w-100 text-center",onClick:n[6]||(n[6]=i=>{o.value.printInvoice=!1,r.$emit("confirm",o.value),r.restform()})},c(t.translations.save_without_invoice),1)]),e("div",pt,[e("button",{class:"btn btn-warning w-100 text-center",onClick:n[7]||(n[7]=i=>{o.value.printInvoice=!0,r.$emit("confirm",o.value),r.restform()})},c(t.translations.save_with_invoice),1)])])])])])])):z("",!0)]),_:3}))}};function St(t){var a=typeof t;return t!=null&&(a=="object"||a=="function")}var M=St,ht=typeof p=="object"&&p&&p.Object===Object&&p,jt=ht,_t=jt,xt=typeof self=="object"&&self&&self.Object===Object&&self,Ot=_t||xt||Function("return this")(),U=Ot,wt=U,Dt=function(){return wt.Date.now()},kt=Dt,It=/\s/;function Et(t){for(var a=t.length;a--&&It.test(t.charAt(a)););return a}var Ct=Et,Nt=Ct,Bt=/^\s+/;function Lt(t){return t&&t.slice(0,Nt(t)+1).replace(Bt,"")}var Gt=Lt,Mt=U,Ut=Mt.Symbol,V=Ut,E=V,P=Object.prototype,Vt=P.hasOwnProperty,Pt=P.toString,T=E?E.toStringTag:void 0;function Rt(t){var a=Vt.call(t,T),d=t[T];try{t[T]=void 0;var o=!0}catch{}var r=Pt.call(t);return o&&(a?t[T]=d:delete t[T]),r}var Wt=Rt,At=Object.prototype,Ft=At.toString;function Ht(t){return Ft.call(t)}var Kt=Ht,C=V,Xt=Wt,Yt=Kt,qt="[object Null]",zt="[object Undefined]",N=C?C.toStringTag:void 0;function Jt(t){return t==null?t===void 0?zt:qt:N&&N in Object(t)?Xt(t):Yt(t)}var Qt=Jt;function Zt(t){return t!=null&&typeof t=="object"}var te=Zt,ee=Qt,ne=te,oe="[object Symbol]";function ae(t){return typeof t=="symbol"||ne(t)&&ee(t)==oe}var re=ae,ie=Gt,B=M,le=re,L=NaN,se=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,ce=/^0o[0-7]+$/i,ue=parseInt;function fe(t){if(typeof t=="number")return t;if(le(t))return L;if(B(t)){var a=typeof t.valueOf=="function"?t.valueOf():t;t=B(a)?a+"":a}if(typeof t!="string")return t===0?t:+t;t=ie(t);var d=de.test(t);return d||ce.test(t)?ue(t.slice(2),d?2:8):se.test(t)?L:+t}var me=fe,ve=M,_=kt,G=me,be="Expected a function",ge=Math.max,ye=Math.min;function Te(t,a,d){var o,r,n,i,s,f,m=0,x=!1,v=!1,S=!0;if(typeof t!="function")throw new TypeError(be);a=G(a)||0,ve(d)&&(x=!!d.leading,v="maxWait"in d,n=v?ge(G(d.maxWait)||0,a):n,S="trailing"in d?!!d.trailing:S);function h(l){var u=o,b=r;return o=r=void 0,m=l,i=t.apply(b,u),i}function R(l){return m=l,s=setTimeout($,a),x?h(l):i}function W(l){var u=l-f,b=l-m,D=a-u;return v?ye(D,n-b):D}function O(l){var u=l-f,b=l-m;return f===void 0||u>=a||u<0||v&&b>=n}function $(){var l=_();if(O(l))return w(l);s=setTimeout($,W(l))}function w(l){return s=void 0,S&&o?h(l):(o=r=void 0,i)}function A(){s!==void 0&&clearTimeout(s),m=0,o=f=r=s=void 0}function F(){return s===void 0?i:w(_())}function j(){var l=_(),u=O(l);if(o=arguments,r=this,f=l,u){if(s===void 0)return R(f);if(v)return clearTimeout(s),s=setTimeout($,a),h(f)}return s===void 0&&(s=setTimeout($,a)),i}return j.cancel=A,j.flush=F,j}var $e=Te;const he=Q($e);export{Se as _,he as d};
