import{Q as $,x as N,a as l,h as v,w as d,b as t,t as n,i as _,d as u,u as m,p,j as U,l as y,y as C,A,e as h,c as f,f as D,F as M,g as k}from"./app--HWfM6KC.js";import{_ as j}from"./AuthenticatedLayout-B0lmWw8w.js";import{_ as q}from"./Pagination-S736lFum.js";import{S as b}from"./sweetalert2.esm.all-DwEdJQJv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={dir:"rtl",lang:"ar"},L={class:"pagetitle dark:text-white"},O={class:"dark:text-white"},P={class:"breadcrumb"},Q={class:"breadcrumb-item"},Y={class:"breadcrumb-item active dark:text-white"},z={class:"section dashboard"},G={class:"card"},I={class:"card-body"},J={class:"row filter_form"},K={class:"col-md-2"},R=["placeholder"],W={class:"col-md-2"},X=["placeholder"],Z={class:"col-md-2"},tt={value:"",selected:"",disabled:""},et={value:1},st={value:0},nt={class:"col-md-2"},at={type:"submit",class:"btn btn-primary"},ot={class:"row mt-3"},lt={class:"col-md-3"},it={class:"col-md-3"},rt={class:"col-md-3"},ct={class:"col-md-3"},dt={class:"table-responsive"},ut={class:"table text-center"},ht={scope:"col"},ft={scope:"col"},bt={scope:"col"},mt={scope:"col"},pt={scope:"col"},_t={scope:"col"},vt={scope:"col"},yt={key:0,scope:"col"},kt={key:1,scope:"col"},gt={class:"text-center"},wt={scope:"row"},xt={class:"inline-flex items-center me-5 cursor-pointer"},Ct=["checked","onChange"],Bt={key:0},St=["href"],Tt={key:1},Vt=["onClick"],At={__name:"index",props:{suppliers:Object,translations:Array},setup(s){const i=s,B=$(),r=N({name:"",phone:"",is_active:""}),S=()=>{k.get(route("suppliers.index"),r,{preserveState:!0,preserveScroll:!0})},c=o=>B.props.auth_permissions.includes(o),T=o=>{b.fire({title:i.translations.are_your_sure,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#7066e0",confirmButtonText:i.translations.yes,cancelButtonText:i.translations.cancel}).then(e=>{e.isConfirmed&&k.post(`/suppliers/${o}/activate`,{onSuccess:()=>{b.fire("Updated!","Client status has been updated.","success")},onError:()=>{b.fire("Error!","There was an issue updating supplier status.","error")}})})},V=o=>{b.fire({title:i.translations.are_your_sure,text:i.translations.You_will_not_be_able_to_revert_this,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:i.translations.yes,cancelButtonText:i.translations.cancel}).then(e=>{e.isConfirmed&&k.delete("suppliers/"+o,{onSuccess:()=>{b.fire({title:i.translations.data_deleted_successfully,icon:"success"})},onError:()=>{b.fire("Error!","There was an issue deleting the supplier.","error")}})})};return(o,e)=>(l(),v(j,{translations:s.translations},{default:d(()=>[t("div",H,[t("div",L,[t("h1",O,n(s.translations.suppliers),1),t("nav",null,[t("ol",P,[t("li",Q,[_(m(p),{class:"nav-link dark:text-white",href:o.route("dashboard")},{default:d(()=>[u(n(s.translations.Home),1)]),_:1},8,["href"])]),t("li",Y,n(s.translations.suppliers),1)])])]),t("section",z,[t("div",G,[e[12]||(e[12]=t("div",{class:"card-header"},[t("div",{class:"d-flex"})],-1)),t("div",I,[t("form",{onSubmit:U(S,["prevent"])},[t("div",J,[t("div",K,[y(t("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":e[0]||(e[0]=a=>r.name=a),placeholder:s.translations.name},null,8,R),[[C,r.name]])]),t("div",W,[y(t("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":e[1]||(e[1]=a=>r.phone=a),placeholder:s.translations.phone},null,8,X),[[C,r.phone]])]),t("div",Z,[y(t("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>r.is_active=a)},[t("option",tt,n(s.translations.status),1),t("option",et,n(s.translations.active),1),t("option",st,n(s.translations.not_active),1)],512),[[A,r.is_active]])]),t("div",nt,[t("button",at,[u(n(s.translations.search)+"   ",1),e[3]||(e[3]=t("i",{class:"bi bi-search"},null,-1))])])]),t("div",ot,[t("div",lt,[c("create supplier")?(l(),v(m(p),{key:0,class:"btn btn-primary w-100",href:o.route("suppliers.create")},{default:d(()=>e[4]||(e[4]=[t("i",{class:"bi bi-plus-circle"},null,-1),u("   إضافة مورد ")])),_:1},8,["href"])):h("",!0)]),t("div",it,[_(m(p),{class:"btn btn-success w-100",href:o.route("purchase-invoices.create")},{default:d(()=>e[5]||(e[5]=[t("i",{class:"bi bi-receipt"},null,-1),u("   إنشاء فاتورة مشتريات ")])),_:1},8,["href"])]),t("div",rt,[_(m(p),{class:"btn btn-info w-100",href:o.route("purchase-invoices.index")},{default:d(()=>e[6]||(e[6]=[t("i",{class:"bi bi-list-ul"},null,-1),u("   عرض فواتير المشتريات ")])),_:1},8,["href"])]),t("div",ct,[c("read suppliers")?(l(),v(m(p),{key:0,class:"btn btn-secondary w-100",href:o.route("export.suppliers")},{default:d(()=>[e[7]||(e[7]=t("i",{class:"bi bi-filetype-xls"},null,-1)),u("   "+n(s.translations.export),1)]),_:1},8,["href"])):h("",!0)])])],32),t("div",dt,[t("table",ut,[t("thead",null,[t("tr",null,[e[8]||(e[8]=t("th",{scope:"col"},"#",-1)),t("th",ht,n(s.translations.name),1),t("th",ft,n(s.translations.phone),1),t("th",bt,n(s.translations.balance_dollar),1),t("th",mt,n(s.translations.balance_dinar),1),t("th",pt,n(s.translations.last_purchase_date),1),t("th",_t,n(s.translations.status),1),t("th",vt,n(s.translations.status),1),c("update supplier")?(l(),f("th",yt,n(s.translations.edit),1)):h("",!0),c("delete supplier")?(l(),f("th",kt,n(s.translations.delete),1)):h("",!0)])]),t("tbody",gt,[(l(!0),f(M,null,D(s.suppliers.data,(a,E)=>{var g,w,x;return l(),f("tr",{key:a.id},[t("th",wt,n(E+1),1),t("td",null,n(a.name),1),t("td",null,n(a.phone),1),t("td",null,n((g=a.balance)==null?void 0:g.balance_dollar),1),t("td",null,n((w=a.balance)==null?void 0:w.balance_dinar),1),t("td",null,n((x=a.balance)==null?void 0:x.last_transaction_date),1),t("td",null,n(a.is_active==1?s.translations.active:s.translations.not_active),1),t("td",null,[t("div",null,[t("label",xt,[t("input",{type:"checkbox",class:"sr-only peer",checked:a.is_active==1,onChange:F=>T(a.id)},null,40,Ct),e[9]||(e[9]=t("div",{class:"relative w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"},null,-1))])])]),c("update supplier")?(l(),f("td",Bt,[t("a",{class:"btn btn-primary",href:o.route("suppliers.edit",{supplier:a.id})},e[10]||(e[10]=[t("i",{class:"bi bi-pencil-square"},null,-1)]),8,St)])):h("",!0),c("delete supplier")?(l(),f("td",Tt,[t("button",{type:"button",class:"btn btn-danger",onClick:F=>V(a.id)},e[11]||(e[11]=[t("i",{class:"bi bi-trash"},null,-1)]),8,Vt)])):h("",!0)])}),128))])])])])]),_(q,{links:s.suppliers.links},null,8,["links"])])])]),_:1},8,["translations"]))}};export{At as default};
