import{s as $t,r as v,T as Bt,z as Pt,k as ot,B as R,D,K as G,o as Mt,L as Vt,a,h as Ft,w as It,b as s,d as u,t as n,I as x,l as U,x as O,u as l,U as lt,n as q,c as r,F as j,f as z,y as St,e as f,i as H,j as Dt}from"./app-VqZNGBbZ.js";import{A as Et}from"./AuthenticatedLayout-svmu430h.js";import{_ as At}from"./InputError-DNRykRVW.js";import{C as Tt}from"./vue-select-C9W2mtbS.js";import{d as nt,M as Lt}from"./debounce-Cs4AEx_I.js";import{S as it}from"./sweetalert2.esm.all-DwEdJQJv.js";import{_ as Ut}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ot={class:"pos-header"},jt={class:"d-flex justify-content-between align-items-center"},zt={class:"pos-title"},Kt={class:"pos-actions"},Nt={class:"pos-container"},Qt={class:"pos-products-panel"},Rt={class:"pos-search-section"},Gt={class:"search-input-group"},Ht=["placeholder"],Jt={class:"barcode-section"},Wt=["placeholder"],Xt={class:"pos-filters"},Yt={key:0,class:"pos-categories"},Zt=["onClick"],ts={class:"pos-products-grid"},ss=["onClick"],es={class:"product-image"},os=["src","alt"],ls={class:"product-info"},ns=["title"],is={key:0,class:"product-model"},as={class:"product-details"},rs={class:"product-price"},us={key:1,class:"text-center p-4"},ds={key:2,class:"no-products"},cs={class:"pos-cart-panel"},bs={class:"pos-customer-section"},vs={class:"form-label text-center w-100"},ms={class:"pos-cart-section"},fs={class:"cart-header"},ps={class:"text-center w-100"},ys={key:0,class:"cart-count"},hs={class:"cart-items"},_s={class:"cart-item-info"},gs={class:"item-name"},ks={class:"item-model"},Cs={class:"cart-item-controls"},ws={class:"quantity-controls"},qs=["onClick","disabled"],xs=["onUpdate:modelValue","onInput"],$s=["onClick"],Bs={class:"price-controls"},Ps=["onUpdate:modelValue"],Ms={class:"item-total"},Vs=["onClick"],Fs={key:0,class:"empty-cart"},Is={key:0,class:"pos-summary-section"},Ss={class:"summary-row"},Ds={class:"summary-row"},Es={class:"summary-row total-row"},As={class:"total-amount"},Ts={key:1,class:"pos-actions-section"},Ls=["disabled"],Us={key:0,class:"bi bi-credit-card"},Os={key:1,class:"spinner-border spinner-border-sm"},js={class:"daily-sales-stats"},zs={class:"stats-grid"},Ks={class:"stat-card stat-orders"},Ns={class:"stat-content"},Qs={class:"stat-value"},Rs={class:"stat-card stat-sales"},Gs={class:"stat-content"},Hs={class:"stat-value"},Js={class:"stat-card stat-paid"},Ws={class:"stat-content"},Xs={class:"stat-value"},Ys={class:"stat-card stat-due"},Zs={class:"stat-content"},te={class:"stat-value"},se={key:0,class:"keyboard-shortcuts"},ee={class:"modal-header"},oe={class:"modal-body"},le={class:"cash-summary mb-4"},ne={class:"row"},ie={class:"col-md-4"},ae={class:"cash-stat-card"},re={class:"stat-info"},ue={class:"stat-value"},de={class:"col-md-4"},ce={class:"cash-stat-card"},be={class:"stat-info"},ve={class:"stat-value"},me={class:"col-md-4"},fe={class:"cash-stat-card"},pe={class:"stat-info"},ye={class:"stat-value"},he={class:"cash-products"},_e={key:0,class:"empty-cash"},ge={key:1,class:"cash-products-list"},ke={class:"product-info"},Ce={class:"product-name"},we={class:"text-muted"},qe={class:"product-actions"},xe=["onClick"],$e={class:"modal-footer"},Be=["disabled"],Pe=["disabled"],Me={__name:"Create",props:{products:Array,customers:Array,defaultCustomer:Object,translations:Object,defaultCurrency:String,companyLogo:String,categories:Array,todaySales:Object},setup(d){var st,et;let m=$t(),I=v(!1),_=v(""),k=v(""),$=v(!1),E=v(!1),w=v(null),g=v("featured"),K=v(!1),p=v(!1),B=v({totalProducts:0,totalValue:0,products:[]}),P=v({orders_count:0,total_sales:0,total_paid:0,total_due:0});const J=v(null),S=v(null),c=d,M=v(((st=c.defaultCustomer)==null?void 0:st.id)||null),V=Bt({customer_id:((et=c.defaultCustomer)==null?void 0:et.id)||null,total_amount:0}),i=Pt([]),y=v(c.products.filter(o=>o.is_featured)),h=v(new Map),N=ot(()=>i.reduce((o,t)=>o+t.quantity*t.price,0)),at=ot(()=>i.reduce((o,t)=>o+t.quantity,0));R(N,o=>{V.total_amount=o}),R(M,o=>{V.customer_id=o}),R(i,()=>{bt()},{deep:!0});const Q=o=>{if(o.quantity<=0){m.warning("المنتج غير متوفر في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0});return}const t=i.find(e=>e.product_id===o.id);t?t.quantity<o.quantity?t.quantity+=1:m.warning("لا توجد كمية كافية في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0}):i.push({product_id:o.id,quantity:1,price:o.price})},rt=o=>{i.splice(o,1)},ut=o=>{const t=i.findIndex(e=>e.product_id===o);t!==-1&&(i.splice(t,1),m.success("تم حذف المنتج من الكاش",{timeout:2e3,position:"bottom-right",rtl:!0}))},dt=()=>{i.length!==0&&it.fire({title:"تأكيد الحذف",text:"هل أنت متأكد من حذف جميع المنتجات من الكاش؟",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"نعم، احذف الكل",cancelButtonText:"إلغاء"}).then(o=>{o.isConfirmed&&(A(),m.success("تم حذف جميع المنتجات من الكاش",{timeout:2e3,position:"bottom-right",rtl:!0}))})},ct=()=>{it.fire({title:"إفراغ ذاكرة التخزين المؤقت",text:"هل تريد إفراغ ذاكرة المنتجات المخزنة؟ (مفيد بعد تعديل المنتجات)",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#6c757d",confirmButtonText:"نعم، إفراغ الكاش",cancelButtonText:"إلغاء"}).then(o=>{o.isConfirmed&&(h.value.clear(),m.success("تم إفراغ ذاكرة المنتجات المؤقتة",{timeout:2e3,position:"bottom-right",rtl:!0}))})},bt=()=>{B.value={totalProducts:i.reduce((o,t)=>o+t.quantity,0),totalValue:i.reduce((o,t)=>o+t.quantity*t.price,0),products:[...i]}},W=(o,t="IQD")=>Math.round(parseFloat(o||0))+" "+t,vt=o=>{const t=i[o];let e=c.products.find(b=>b.id===t.product_id);if(!e){for(const b of h.value.values())if(b.id===t.product_id){e=b;break}}e&&t.quantity<e.quantity?t.quantity+=1:m.warning("لا توجد كمية كافية في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0})},mt=o=>{const t=i[o];t.quantity>1&&(t.quantity-=1)},A=()=>{i.splice(0)},X=()=>{A(),M.value=null,V.customer_id=null,k.value="",_.value="",g.value="featured",w.value=null,y.value=c.products.filter(o=>o.is_featured)},T=nt(async()=>{if(!k.value.trim()){F(g.value);return}try{E.value=!0;const o=await D.get("/api/products-search",{params:{query:k.value.trim()}});o.data&&o.data.length>0?(y.value=o.data,o.data.forEach(t=>{t.barcode&&!h.value.has(t.barcode)&&h.value.set(t.barcode,t)})):(y.value=[],m.info("لا توجد نتائج للبحث",{timeout:2e3,position:"bottom-right",rtl:!0}))}catch(o){console.error("خطأ في البحث:",o),m.error("خطأ في البحث عن المنتجات",{timeout:3e3,position:"bottom-right",rtl:!0}),F(g.value)}finally{E.value=!1}},300),ft=()=>{y.value.length===1&&(Q(y.value[0]),k.value="",F(g.value))},pt=o=>{w.value=o,g.value=null,o===null?y.value=c.products:y.value=c.products.filter(t=>t.category_id===o)},yt=()=>{w.value=null,F(g.value||"featured")},F=o=>{g.value=o,w.value=null,o==="featured"?y.value=c.products.filter(t=>t.is_featured):o==="best_selling"?y.value=c.products.filter(t=>t.is_best_selling):y.value=c.products},Y=o=>{let t=c.products.find(e=>e.id===o);if(!t){for(const e of h.value.values())if(e.id===o){t=e;break}}return t?t.name:""},ht=o=>{let t=c.products.find(e=>e.id===o);if(!t){for(const e of h.value.values())if(e.id===o){t=e;break}}return t?t.model:""},_t=o=>{o.target.src=`/${c.companyLogo}`},gt=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},kt=()=>{m.info("تم تعليق الطلب",{timeout:3e3,position:"bottom-right",rtl:!0})},Ct=()=>{window.print()},Z=()=>{$.value=!0},wt=async()=>{try{const o=await D.get("/api/today-sales");o.data&&(P.value=o.data)}catch(o){console.error("Error fetching daily sales:",o)}},qt=async o=>{I.value=!0;const t={total_amount:V.total_amount,total_paid:o.amountDollar??0,customer_id:V.customer_id,date:o.date,notes:o.notes,discount_amount:o.discount_amount??0,discount_rate:o.discount_rate??0,items:i.map(e=>({product_id:e.product_id,quantity:e.quantity,price:e.price}))};try{const e=await D.post("/api/createOrder",t);if(e.status===200||e.status===201){let{id:b,order_id:C}=e.data;m.success("تم حفظ الفاتورة بنجاح",{timeout:3e3,position:"bottom-right",rtl:!0}),o.printInvoice&&window.open(`/api/getIndexAccountsSelas?print=2&transactions_id=${b}&order_id=${C}`,"_blank"),await wt(),A(),k.value="",_.value="",y.value=[...c.products]}}catch{m.error("خطأ أثناء حفظ الفاتورة",{timeout:5e3,position:"bottom-right",rtl:!0})}finally{I.value=!1,$.value=!1}},L=nt(async()=>{if(!_.value)return;const o=_.value.trim();let t=c.products.find(e=>e.barcode===o);if(!t&&h.value.has(o)&&(t=h.value.get(o)),!t)try{const e=await D.get(`/api/products/${o}`);e.data&&e.data.id&&(t=e.data,h.value.set(o,t))}catch(e){e.response&&e.response.status===404?m.warning("المنتج غير موجود",{timeout:3e3,position:"bottom-right",rtl:!0}):m.error("خطأ في البحث عن المنتج",{timeout:3e3,position:"bottom-right",rtl:!0}),_.value="",G(()=>{var b;(b=S.value)==null||b.focus()});return}t&&(Q(t),_.value="",G(()=>{var e;(e=S.value)==null||e.focus()}))},500),xt=async o=>{try{const t=await D.get(`/api/check-stock/${o.product_id}`);o.quantity>t.data.available_quantity&&(m.warning(`الكمية المتوفرة فقط: ${t.data.available_quantity}`,{timeout:3e3,position:"bottom-right",rtl:!0}),o.quantity=t.data.available_quantity)}catch(t){console.error("خطأ عند التحقق من المخزون:",t)}},tt=o=>{var t,e;o.key==="F1"&&(o.preventDefault(),(t=J.value)==null||t.focus()),o.key==="F2"&&(o.preventDefault(),(e=S.value)==null||e.focus()),o.key==="F9"&&i.length>0&&M.value&&(o.preventDefault(),Z()),o.key==="Escape"&&(o.preventDefault(),X()),o.key==="F12"&&(o.preventDefault(),K.value=!K.value)};return Mt(()=>{document.addEventListener("keydown",tt),c.todaySales&&(P.value=c.todaySales),G(()=>{var o;(o=S.value)==null||o.focus()})}),Vt(()=>{document.removeEventListener("keydown",tt)}),(o,t)=>(a(),Ft(Et,{translations:d.translations},{default:It(()=>[s("div",Ot,[s("div",jt,[s("h2",zt,[t[15]||(t[15]=s("i",{class:"bi bi-shop"},null,-1)),u(" "+n(d.translations.invoice),1)]),s("div",Kt,[s("button",{onClick:t[0]||(t[0]=e=>x(p)?p.value=!0:p=!0),class:"btn btn-outline-info"},t[16]||(t[16]=[s("i",{class:"bi bi-cash-coin"},null,-1),u(" إدارة الكاش ")])),s("button",{onClick:X,class:"btn btn-outline-danger"},t[17]||(t[17]=[s("i",{class:"bi bi-trash"},null,-1),u(" مسح الكل ")])),s("button",{onClick:gt,class:"btn btn-outline-primary"},t[18]||(t[18]=[s("i",{class:"bi bi-fullscreen"},null,-1),u(" ملء الشاشة ")]))])])]),s("div",Nt,[s("div",Qt,[s("div",Rt,[s("div",Gt,[U(s("input",{ref_key:"searchInput",ref:J,"onUpdate:modelValue":t[1]||(t[1]=e=>x(k)?k.value=e:k=e),type:"text",class:"form-control pos-search-input",placeholder:d.translations.search_by_name_or_barcode,onInput:t[2]||(t[2]=(...e)=>l(T)&&l(T)(...e)),onKeyup:lt(ft,["enter"])},null,40,Ht),[[O,l(k)]]),s("button",{class:"btn btn-primary search-btn",onClick:t[3]||(t[3]=(...e)=>l(T)&&l(T)(...e))},t[19]||(t[19]=[s("i",{class:"bi bi-search"},null,-1)]))]),s("div",Jt,[U(s("input",{ref_key:"barcodeInput",ref:S,"onUpdate:modelValue":t[4]||(t[4]=e=>x(_)?_.value=e:_=e),type:"text",class:"form-control barcode-input",placeholder:d.translations.barcode,onKeyup:[t[5]||(t[5]=(...e)=>l(L)&&l(L)(...e)),t[6]||(t[6]=lt((...e)=>l(L)&&l(L)(...e),["enter"]))]},null,40,Wt),[[O,l(_)]]),t[20]||(t[20]=s("i",{class:"bi bi-upc-scan barcode-icon"},null,-1))])]),s("div",Xt,[s("button",{onClick:t[7]||(t[7]=e=>F("featured")),class:q(["btn","filter-btn",{active:l(g)==="featured"}])},t[21]||(t[21]=[s("i",{class:"bi bi-star-fill"},null,-1),u(" المميزة ")]),2),s("button",{onClick:t[8]||(t[8]=e=>F("best_selling")),class:q(["btn","filter-btn",{active:l(g)==="best_selling"}])},t[22]||(t[22]=[s("i",{class:"bi bi-trophy-fill"},null,-1),u(" الأكثر مبيعاً ")]),2)]),d.categories&&d.categories.length?(a(),r("div",Yt,[s("button",{onClick:yt,class:q(["btn","category-btn",{active:l(w)===null&&l(g)==="featured"}])},t[23]||(t[23]=[s("i",{class:"bi bi-grid-3x3-gap"},null,-1),u(" الكل ")]),2),(a(!0),r(j,null,z(d.categories,e=>(a(),r("button",{key:e.id,onClick:b=>pt(e.id),class:q(["btn","category-btn",{active:l(w)===e.id}]),style:St({borderColor:l(w)===e.id?e.color:"transparent",backgroundColor:l(w)===e.id?e.color+"20":"transparent"})},[e.icon?(a(),r("i",{key:0,class:q(e.icon||"bi bi-tag")},null,2)):f("",!0),u(" "+n(e.name),1)],14,Zt))),128))])):f("",!0),s("div",ts,[(a(!0),r(j,null,z(y.value,e=>(a(),r("div",{key:e.id,onClick:b=>Q(e),class:q(["product-card",{"out-of-stock":e.quantity<=0},{"low-stock":e.quantity>0&&e.quantity<=5},{"in-stock":e.quantity>5}])},[s("div",{class:q(["product-stock-badge",{"badge-danger":e.quantity<=5&&e.quantity>0},{"badge-out":e.quantity<=0},{"badge-success":e.quantity>5}])},[t[24]||(t[24]=s("i",{class:"bi bi-box-seam"},null,-1)),u(" "+n(e.quantity),1)],2),s("div",es,[s("img",{src:e.image_url||`/${d.companyLogo}`,alt:e.name,onError:_t},null,40,os)]),s("div",ls,[s("h6",{class:"product-name",title:e.name},n(e.name),9,ns),e.model?(a(),r("p",is,n(e.model),1)):f("",!0),s("div",as,[s("div",rs,[t[25]||(t[25]=s("i",{class:"bi bi-tag-fill"},null,-1)),u(" "+n(d.defaultCurrency)+" "+n(Math.round(e.price).toLocaleString()),1)]),s("div",{class:q(["product-stock-text",{"text-danger":e.quantity<=5&&e.quantity>0},{"text-success":e.quantity>5}])},[t[26]||(t[26]=s("i",{class:"bi bi-box"},null,-1)),u(" "+n(e.quantity),1)],2)])])],10,ss))),128))]),l(E)?(a(),r("div",us,t[27]||(t[27]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"جاري التحميل...")],-1)]))):f("",!0),!l(E)&&y.value.length===0?(a(),r("div",ds,t[28]||(t[28]=[s("i",{class:"bi bi-box-seam"},null,-1),s("p",null,"لا توجد منتجات",-1)]))):f("",!0)]),s("div",cs,[s("div",bs,[s("label",vs,n(d.translations.client),1),H(l(Tt),{modelValue:M.value,"onUpdate:modelValue":t[9]||(t[9]=e=>M.value=e),options:d.customers,label:"name",reduce:e=>e.id,placeholder:d.translations.select_customer,class:"customer-select"},null,8,["modelValue","options","reduce","placeholder"]),H(At,{message:l(V).errors.customer_id},null,8,["message"])]),s("div",ms,[s("div",fs,[s("h5",ps,[t[29]||(t[29]=s("i",{class:"bi bi-cart3"},null,-1)),t[30]||(t[30]=u(" عربة التسوق ")),i.length?(a(),r("span",ys,n(i.length),1)):f("",!0)]),i.length?(a(),r("button",{key:0,onClick:A,class:"btn btn-sm btn-outline-danger"},t[31]||(t[31]=[s("i",{class:"bi bi-trash"},null,-1)]))):f("",!0)]),s("div",hs,[(a(!0),r(j,null,z(i,(e,b)=>(a(),r("div",{key:b,class:"cart-item"},[s("div",_s,[s("h6",gs,n(Y(e.product_id)),1),s("p",ks,n(ht(e.product_id)),1)]),s("div",Cs,[s("div",ws,[s("button",{onClick:C=>mt(b),class:"btn btn-sm btn-outline-secondary",disabled:e.quantity<=1},t[32]||(t[32]=[s("i",{class:"bi bi-dash"},null,-1)]),8,qs),U(s("input",{"onUpdate:modelValue":C=>e.quantity=C,type:"number",min:"1",class:"form-control quantity-input",onInput:C=>xt(e)},null,40,xs),[[O,e.quantity,void 0,{number:!0}]]),s("button",{onClick:C=>vt(b),class:"btn btn-sm btn-outline-secondary"},t[33]||(t[33]=[s("i",{class:"bi bi-plus"},null,-1)]),8,$s)]),s("div",Bs,[U(s("input",{"onUpdate:modelValue":C=>e.price=C,type:"number",min:"0",step:"1",class:"form-control price-input",style:{"min-width":"92px"}},null,8,Ps),[[O,e.price,void 0,{number:!0}]])]),s("div",Ms,n(d.defaultCurrency)+" "+n(Math.round(e.quantity*e.price)),1),s("button",{onClick:C=>rt(b),class:"btn btn-sm btn-danger remove-btn"},t[34]||(t[34]=[s("i",{class:"bi bi-x"},null,-1)]),8,Vs)])]))),128))]),i.length===0?(a(),r("div",Fs,t[35]||(t[35]=[s("i",{class:"bi bi-cart-x"},null,-1),s("p",{class:"text-center"},"عربة التسوق فارغة",-1),s("small",{class:"text-center"},"اضغط على المنتجات لإضافتها",-1)]))):f("",!0)]),i.length>0?(a(),r("div",Is,[s("div",Ss,[t[36]||(t[36]=s("span",null,"عدد الأصناف:",-1)),s("span",null,n(i.length),1)]),s("div",Ds,[t[37]||(t[37]=s("span",null,"إجمالي الكمية:",-1)),s("span",null,n(at.value),1)]),s("div",Es,[t[38]||(t[38]=s("span",null,"الإجمالي:",-1)),s("span",As,n(d.defaultCurrency)+" "+n(Math.round(N.value)),1)])])):f("",!0),i.length>0&&M.value?(a(),r("div",Ts,[s("button",{onClick:Z,class:"btn btn-success btn-lg checkout-btn",disabled:l(I)},[l(I)?f("",!0):(a(),r("i",Us)),l(I)?(a(),r("span",Os)):f("",!0),u(" "+n(d.translations.continue),1)],8,Ls),s("div",{class:"quick-actions"},[s("button",{onClick:kt,class:"btn btn-outline-warning"},t[39]||(t[39]=[s("i",{class:"bi bi-pause-circle"},null,-1),u(" تعليق ")])),s("button",{onClick:Ct,class:"btn btn-outline-info"},t[40]||(t[40]=[s("i",{class:"bi bi-printer"},null,-1),u(" طباعة ")]))])])):f("",!0)])]),s("div",js,[s("div",zs,[s("div",Ks,[t[42]||(t[42]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-receipt"})],-1)),s("div",Ns,[t[41]||(t[41]=s("h6",null,"عدد الفواتير",-1)),s("span",Qs,n(l(P).orders_count),1)])]),s("div",Rs,[t[44]||(t[44]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-cash-stack"})],-1)),s("div",Gs,[t[43]||(t[43]=s("h6",null,"إجمالي المبيعات",-1)),s("span",Hs,n(d.defaultCurrency)+" "+n(Math.round(l(P).total_sales)),1)])]),s("div",Js,[t[46]||(t[46]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-check-circle"})],-1)),s("div",Ws,[t[45]||(t[45]=s("h6",null,"المدفوع",-1)),s("span",Xs,n(d.defaultCurrency)+" "+n(Math.round(l(P).total_paid)),1)])]),s("div",Ys,[t[48]||(t[48]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-exclamation-circle"})],-1)),s("div",Zs,[t[47]||(t[47]=s("h6",null,"المتبقي",-1)),s("span",te,n(d.defaultCurrency)+" "+n(Math.round(l(P).total_due)),1)])])])]),H(Lt,{translations:d.translations,show:l($),total:N.value,defaultCurrency:d.defaultCurrency,onClose:t[10]||(t[10]=e=>x($)?$.value=!1:$=!1),onConfirm:qt},null,8,["translations","show","total","defaultCurrency"]),l(K)?(a(),r("div",se,t[49]||(t[49]=[s("div",{class:"shortcuts-content"},[s("h6",null,"اختصارات لوحة المفاتيح"),s("div",{class:"shortcut-item"},[s("kbd",null,"F1"),u(" - البحث ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"F2"),u(" - الباركود ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"F9"),u(" - الدفع ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"Esc"),u(" - مسح الكل ")])],-1)]))):f("",!0),l(p)?(a(),r("div",{key:1,class:"modal-overlay",onClick:t[14]||(t[14]=e=>x(p)?p.value=!1:p=!1)},[s("div",{class:"modal-content cash-modal",onClick:t[13]||(t[13]=Dt(()=>{},["stop"]))},[s("div",ee,[t[51]||(t[51]=s("h5",{class:"modal-title"},[s("i",{class:"bi bi-cash-coin"}),u(" إدارة الكاش ")],-1)),s("button",{type:"button",class:"btn-close",onClick:t[11]||(t[11]=e=>x(p)?p.value=!1:p=!1)},t[50]||(t[50]=[s("i",{class:"bi bi-x"},null,-1)]))]),s("div",oe,[s("div",le,[s("div",ne,[s("div",ie,[s("div",ae,[t[53]||(t[53]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-box-seam"})],-1)),s("div",re,[t[52]||(t[52]=s("h6",null,"إجمالي المنتجات",-1)),s("span",ue,n(l(B).totalProducts),1)])])]),s("div",de,[s("div",ce,[t[55]||(t[55]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-currency-dollar"})],-1)),s("div",be,[t[54]||(t[54]=s("h6",null,"إجمالي القيمة",-1)),s("span",ve,n(W(l(B).totalValue)),1)])])]),s("div",me,[s("div",fe,[t[57]||(t[57]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-database"})],-1)),s("div",pe,[t[56]||(t[56]=s("h6",null,"ذاكرة المنتجات",-1)),s("span",ye,n(h.value.size),1)])])])])]),s("div",he,[t[60]||(t[60]=s("h6",{class:"mb-3"},[s("i",{class:"bi bi-list-ul"}),u(" المنتجات في الكاش ")],-1)),l(B).products.length===0?(a(),r("div",_e,t[58]||(t[58]=[s("i",{class:"bi bi-inbox"},null,-1),s("p",null,"لا توجد منتجات في الكاش",-1)]))):(a(),r("div",ge,[(a(!0),r(j,null,z(l(B).products,e=>(a(),r("div",{key:e.product_id,class:"cash-product-item"},[s("div",ke,[s("h6",Ce,n(Y(e.product_id)),1),s("small",we,"الكمية: "+n(e.quantity)+" × "+n(W(e.price)),1)]),s("div",qe,[s("button",{class:"btn btn-sm btn-outline-danger",onClick:b=>ut(e.product_id),title:"حذف المنتج"},t[59]||(t[59]=[s("i",{class:"bi bi-trash"},null,-1)]),8,xe)])]))),128))]))])]),s("div",$e,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[12]||(t[12]=e=>x(p)?p.value=!1:p=!1)}," إغلاق "),s("button",{type:"button",class:"btn btn-warning",onClick:ct,disabled:h.value.size===0},t[61]||(t[61]=[s("i",{class:"bi bi-database-dash"},null,-1),u(" إفراغ ذاكرة المنتجات ")]),8,Be),s("button",{type:"button",class:"btn btn-danger",onClick:dt,disabled:l(B).products.length===0},t[62]||(t[62]=[s("i",{class:"bi bi-trash"},null,-1),u(" مسح الكاش بالكامل ")]),8,Pe)])])])):f("",!0)]),_:1},8,["translations"]))}},Te=Ut(Me,[["__scopeId","data-v-cdbae5a5"]]);export{Te as default};
