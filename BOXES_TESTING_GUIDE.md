# 🧪 دليل الاختبار الشامل - صفحة Boxes

## 📋 معلومات الاختبار
- **التاريخ**: 2025-10-17
- **المشروع**: نظام نقاط البيع (POS)
- **الصفحة**: http://127.0.0.1:8000/boxes
- **المختبر**: AI Testing Bot

---

## ✅ قائمة الاختبارات الشاملة

### 🎯 **المرحلة 1: اختبارات التحميل والعرض الأساسي**
- [ ] 1.1 - تحميل الصفحة بنجاح
- [ ] 1.2 - عرض البطاقات الإحصائية الأربعة
- [ ] 1.3 - عرض جدول المعاملات
- [ ] 1.4 - عرض الأزرار حسب الصلاحيات
- [ ] 1.5 - عرض سعر الصرف

### 🔍 **المرحلة 2: اختبارات البحث والفلترة**
- [ ] 2.1 - البحث بالتاريخ (من-إلى)
- [ ] 2.2 - البحث بالاسم
- [ ] 2.3 - البحث بالملاحظة
- [ ] 2.4 - البحث المركب (تاريخ + اسم)
- [ ] 2.5 - مسح الفلاتر
- [ ] 2.6 - الفلاتر مع Pagination

### ➕ **المرحلة 3: اختبارات الإضافة للصندوق**
- [ ] 3.1 - فتح modal إضافة للصندوق
- [ ] 3.2 - إضافة مبلغ بالدولار
- [ ] 3.3 - إضافة مبلغ بالدينار
- [ ] 3.4 - التحقق من تحديث الرصيد
- [ ] 3.5 - التحقق من ظهور المعاملة في الجدول

### ➖ **المرحلة 4: اختبارات السحب من الصندوق**
- [ ] 4.1 - فتح modal السحب من الصندوق
- [ ] 4.2 - سحب مبلغ بالدولار
- [ ] 4.3 - سحب مبلغ بالدينار
- [ ] 4.4 - التحقق من تحديث الرصيد (طرح)
- [ ] 4.5 - محاولة سحب أكثر من الرصيد

### 🔄 **المرحلة 5: اختبارات التحويل**
- [ ] 5.1 - تحويل دينار لدولار
- [ ] 5.2 - تحويل دولار لدينار
- [ ] 5.3 - التحقق من الحسابات
- [ ] 5.4 - التحقق من ظهور عمليتين

### 🗑️ **المرحلة 6: اختبارات الحذف**
- [ ] 6.1 - حذف معاملة إضافة
- [ ] 6.2 - حذف معاملة سحب
- [ ] 6.3 - إلغاء الحذف
- [ ] 6.4 - التحقق من تحديث الرصيد

### 🖨️ **المرحلة 7: اختبارات الطباعة**
- [ ] 7.1 - طباعة وصل قبض (معاملة إضافة)
- [ ] 7.2 - طباعة وصل سحب (معاملة سحب)
- [ ] 7.3 - التحقق من محتوى الوصل
- [ ] 7.4 - التحقق من الطباعة التلقائية

### 📎 **المرحلة 8: اختبارات المرفقات**
- [ ] 8.1 - فتح modal تحميل مرفق
- [ ] 8.2 - رفع صورة
- [ ] 8.3 - عرض المرفقات
- [ ] 8.4 - تحميل المرفق

### 📱 **المرحلة 9: اختبارات Responsive**
- [ ] 9.1 - عرض على شاشة كبيرة (Desktop)
- [ ] 9.2 - عرض على تابلت
- [ ] 9.3 - عرض على موبايل
- [ ] 9.4 - تجربة التفاعل على الموبايل

### ⚡ **المرحلة 10: اختبارات الأداء والـ UX**
- [ ] 10.1 - سرعة تحميل الصفحة
- [ ] 10.2 - Loading states
- [ ] 10.3 - Toast notifications
- [ ] 10.4 - التحديث التلقائي
- [ ] 10.5 - لا توجد أخطاء في Console

---

## 🚀 سيناريوهات الاختبار التفصيلية

### 📝 **السيناريو 1: الدخول الأولي للصفحة**

#### الخطوات:
```
1. فتح المتصفح
2. الذهاب إلى: http://127.0.0.1:8000/boxes
3. الانتظار حتى تحميل الصفحة بالكامل
```

#### النتائج المتوقعة:
```
✅ تظهر الصفحة بدون أخطاء
✅ يظهر header باللون الأرجواني
✅ تظهر 4 بطاقات إحصائية:
   - رصيد الدولار
   - رصيد الدينار
   - إجمالي الإضافات
   - إجمالي السحوبات
✅ تظهر الأزرار في 3 مجموعات:
   - إضافة/سحب
   - تحويل دينار/دولار
   - تحديث
✅ يظهر معلومات سعر الصرف
✅ يظهر نموذج الفلترة
✅ يظهر الجدول مع البيانات
✅ يظهر pagination إذا كانت البيانات أكثر من 10
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
الملاحظات: _________________
```

---

### 📝 **السيناريو 2: البحث بالتاريخ**

#### الخطوات:
```
1. في حقل "تاريخ البداية" اختر: 2025-10-01
2. في حقل "تاريخ النهاية" اختر: 2025-10-17
3. اضغط على زر "البحث"
4. انتظر التحميل
```

#### النتائج المتوقعة:
```
✅ تظهر أيقونة loading
✅ يتم تحديث الجدول
✅ تظهر فقط المعاملات ضمن التاريخين
✅ تتحدث البطاقات الإحصائية
✅ يبقى التاريخ محفوظ في الحقول
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
عدد النتائج: _____
الملاحظات: _________________
```

---

### 📝 **السيناريو 3: البحث بالاسم**

#### الخطوات:
```
1. في حقل "الاسم" اكتب: محمد
2. اضغط على "البحث"
3. انتظر النتائج
```

#### النتائج المتوقعة:
```
✅ تظهر فقط المعاملات التي تحتوي على "محمد"
✅ البحث غير حساس لحالة الأحرف
✅ البحث يدعم البحث الجزئي
✅ النتائج تحتوي على الاسم في عمود "الحساب"
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
عدد النتائج: _____
الملاحظات: _________________
```

---

### 📝 **السيناريو 4: إضافة مبلغ بالدولار**

#### متطلبات أولية:
```
- تسجيل الرصيد الحالي بالدولار: _____ USD
```

#### الخطوات:
```
1. اضغط على زر "إضافة للصندوق" (الأخضر)
2. في Modal املأ البيانات:
   - المبلغ: 100
   - العملة: USD
   - الملاحظة: اختبار إضافة
3. اضغط على "حفظ"
4. انتظر رسالة النجاح
```

#### النتائج المتوقعة:
```
✅ يظهر Modal "وصل قبض - إضافة للصندوق"
✅ عند الحفظ تظهر toast أخضر: "تم الحفظ بنجاح"
✅ يُغلق Modal تلقائياً
✅ يتحدث الجدول
✅ تظهر المعاملة الجديدة في أعلى الجدول
✅ الصف باللون الأخضر الفاتح
✅ رصيد الدولار يزيد بـ 100
✅ بطاقة "إجمالي الإضافات" تتحدث
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
الرصيد قبل: _____ USD
الرصيد بعد: _____ USD
الفرق: _____ USD (المتوقع: 100)
الملاحظات: _________________
```

---

### 📝 **السيناريو 5: سحب مبلغ بالدينار**

#### متطلبات أولية:
```
- تسجيل الرصيد الحالي بالدينار: _____ IQD
```

#### الخطوات:
```
1. اضغط على زر "سحب من الصندوق" (الأحمر)
2. في Modal املأ البيانات:
   - المبلغ: 50000
   - العملة: IQD
   - الملاحظة: اختبار سحب
3. اضغط على "حفظ"
4. انتظر رسالة النجاح
```

#### النتائج المتوقعة:
```
✅ يظهر Modal "وصل سحب - سحب من الصندوق"
✅ عند الحفظ تظهر toast أخضر
✅ المعاملة الجديدة تظهر بخلفية حمراء فاتحة
✅ رصيد الدينار يقل بـ 50000
✅ بطاقة "إجمالي السحوبات" تتحدث
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
الرصيد قبل: _____ IQD
الرصيد بعد: _____ IQD
الفرق: _____ IQD (المتوقع: -50000)
الملاحظات: _________________
```

---

### 📝 **السيناريو 6: تحويل دينار لدولار**

#### متطلبات أولية:
```
- الرصيد بالدينار: _____ IQD (يجب أن يكون >= 150000)
- الرصيد بالدولار: _____ USD
- سعر الصرف: _____ IQD/USD
```

#### الخطوات:
```
1. اضغط على زر "دينار → دولار"
2. أدخل المبلغ بالدينار: 150000
3. تحقق من المبلغ المحسوب بالدولار (150000 ÷ سعر الصرف)
4. اضغط على "تحويل"
```

#### الحسابات:
```
المبلغ بالدينار: 150000 IQD
سعر الصرف: _____ IQD/USD
المبلغ بالدولار = 150000 ÷ سعر الصرف = _____ USD
```

#### النتائج المتوقعة:
```
✅ يظهر Modal التحويل
✅ يتم حساب المبلغ بالدولار تلقائياً
✅ عند التحويل تظهر رسالة "تم التحويل بنجاح"
✅ رصيد الدينار يقل بـ 150000
✅ رصيد الدولار يزيد بالمبلغ المحسوب
✅ تظهر عمليتان في الجدول:
   - سحب دينار (أحمر)
   - إضافة دولار (أخضر)
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
رصيد IQD قبل: _____ | بعد: _____ | الفرق: _____
رصيد USD قبل: _____ | بعد: _____ | الفرق: _____
الملاحظات: _________________
```

---

### 📝 **السيناريو 7: حذف معاملة**

#### الخطوات:
```
1. اختر أي معاملة في الجدول
2. سجل المبلغ والعملة: _____ _____
3. اضغط على زر "حذف" (الأحمر)
4. اقرأ رسالة التأكيد
5. اضغط على "نعم، احذف"
```

#### النتائج المتوقعة:
```
✅ تظهر رسالة تأكيد تحتوي على المبلغ
✅ عند التأكيد تظهر toast: "تم حذف المعاملة بنجاح"
✅ تختفي المعاملة من الجدول
✅ إذا كانت المعاملة إضافة: الرصيد يقل
✅ إذا كانت المعاملة سحب: الرصيد يزيد
✅ البطاقات الإحصائية تتحدث
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
نوع المعاملة: [ ] إضافة  [ ] سحب
المبلغ: _____
الرصيد قبل: _____ | بعد: _____
الملاحظات: _________________
```

---

### 📝 **السيناريو 8: طباعة وصل القبض**

#### الخطوات:
```
1. ابحث عن معاملة إضافة (خلفية خضراء)
2. اضغط على زر "طباعة" (الأخضر)
3. انتظر فتح التاب الجديد
4. تحقق من محتويات الوصل
```

#### النتائج المتوقعة:
```
✅ يفتح تاب جديد
✅ يظهر وصل قبض جميل
✅ الوصل يحتوي على:
   - شعار الشركة (إن وجد)
   - اسم الشركة
   - رقم الوصل
   - التاريخ والوقت
   - اسم الحساب
   - المبلغ بخط كبير
   - العملة
   - البيان
   - توقيع المستلم والمحاسب
✅ تظهر نافذة الطباعة تلقائياً
✅ التصميم احترافي
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
جودة التصميم: [ ] ممتاز  [ ] جيد  [ ] يحتاج تحسين
الطباعة التلقائية: [ ] نعم  [ ] لا
الملاحظات: _________________
```

---

### 📝 **السيناريو 9: زر التحديث**

#### الخطوات:
```
1. لاحظ البيانات الحالية
2. اضغط على زر "تحديث" (الأزرق مع سهم دائري)
3. راقب التغييرات
```

#### النتائج المتوقعة:
```
✅ تظهر أيقونة دوارة على الزر
✅ يتم تعطيل جميع الأزرار
✅ overlay شفاف يظهر فوق الجدول
✅ spinner دوار في المنتصف
✅ تظهر toast: "تم تحديث البيانات بنجاح"
✅ يتم تحديث الجدول والبطاقات
✅ تعود الأزرار للعمل
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
مدة التحميل: _____ ثانية
الملاحظات: _________________
```

---

### 📝 **السيناريو 10: Responsive - الموبايل**

#### الخطوات:
```
1. افتح DevTools (F12)
2. اضغط على أيقونة الموبايل (Toggle device toolbar)
3. اختر iPhone 12 Pro
4. تصفح الصفحة
5. جرب الأزرار
```

#### النتائج المتوقعة:
```
✅ البطاقات الإحصائية تصبح بطاقة واحدة في كل صف
✅ الأزرار تصبح بعرض كامل
✅ نموذج الفلتر يتكيف مع العرض
✅ الجدول قابل للتمرير أفقياً
✅ الأزرار في الجدول واضحة
✅ النصوص مقروءة
✅ لا يوجد overflow
```

#### النتيجة الفعلية:
```
الحالة: [ ] نجح  [ ] فشل
المشاكل المكتشفة: _________________
```

---

## 📊 ملخص نتائج الاختبار

### الإحصائيات:
```
إجمالي السيناريوهات: 10
السيناريوهات الناجحة: _____
السيناريوهات الفاشلة: _____
معدل النجاح: _____%
```

### المشاكل الحرجة:
```
1. _________________________
2. _________________________
3. _________________________
```

### المشاكل البسيطة:
```
1. _________________________
2. _________________________
3. _________________________
```

### التوصيات:
```
1. _________________________
2. _________________________
3. _________________________
```

---

## ✅ قائمة التحقق النهائية

### الوظائف الأساسية:
- [ ] تحميل الصفحة
- [ ] عرض البيانات
- [ ] البحث والفلترة
- [ ] إضافة للصندوق
- [ ] السحب من الصندوق
- [ ] التحويل بين العملات
- [ ] الحذف
- [ ] الطباعة
- [ ] التحديث

### الأداء:
- [ ] سرعة التحميل < 2 ثانية
- [ ] لا توجد أخطاء في Console
- [ ] Loading states تعمل
- [ ] Toast notifications تعمل

### التصميم:
- [ ] التصميم احترافي
- [ ] الألوان متناسقة
- [ ] الأيقونات واضحة
- [ ] Responsive على جميع الأحجام

### تجربة المستخدم:
- [ ] التنقل سهل
- [ ] الرسائل واضحة
- [ ] التأكيدات تعمل
- [ ] لا يوجد confusion

---

## 🎯 نتيجة الاختبار النهائية

```
[ ] الصفحة جاهزة للإنتاج ✅
[ ] تحتاج تحسينات بسيطة ⚠️
[ ] تحتاج إصلاحات كبيرة ❌
```

### التقييم العام:
```
الوظائف: [ ] ممتاز  [ ] جيد  [ ] مقبول  [ ] ضعيف
التصميم: [ ] ممتاز  [ ] جيد  [ ] مقبول  [ ] ضعيف
الأداء:  [ ] ممتاز  [ ] جيد  [ ] مقبول  [ ] ضعيف
UX:       [ ] ممتاز  [ ] جيد  [ ] مقبول  [ ] ضعيف
```

---

## 📝 ملاحظات إضافية

```
_______________________________________
_______________________________________
_______________________________________
```

---

**تاريخ الاختبار**: {{ التاريخ }}  
**المختبر**: {{ الاسم }}  
**التوقيع**: ______________

