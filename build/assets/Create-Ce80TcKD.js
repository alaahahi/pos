import{r as g,T as k,C as x,a as r,h as y,w as h,b as s,t as n,i as m,d as v,j as V,l as d,x as u,u as o,A as C,c,f as U,F as E,v as N,e as b}from"./app-rfKy2ZWt.js";import{_ as B}from"./AuthenticatedLayout-CJDzBU8V.js";import{_}from"./InputError-B1ijILYW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"pagetitle dark:text-white"},S={class:"dark:text-white"},T={class:"breadcrumb"},L={class:"breadcrumb-item"},R={class:"breadcrumb-item active dark:text-white"},j={class:"breadcrumb-item active dark:text-white"},A={class:"section dashboard"},D={class:"row"},F={class:"col-lg-12"},P={class:"card"},$={class:"card-body"},H={class:"card-title"},I={class:"row mb-3"},O={for:"inputText",class:"col-sm-2 col-form-label"},q={class:"col-sm-10"},z=["placeholder"],G={class:"row mb-3"},J={for:"inputEmail",class:"col-sm-2 col-form-label"},K={class:"col-sm-10"},Q=["placeholder"],W={class:"row mb-3"},X={for:"inputPassword",class:"col-sm-2 col-form-label"},Y={class:"col-sm-10"},Z=["placeholder"],ss={class:"row mb-3"},es={for:"inputPassword",class:"col-sm-2 col-form-label"},ts={class:"col-sm-10"},os={value:"",disabled:""},as=["value"],ls={class:"row mb-3"},ns={class:"col-sm-10"},is={class:"form-check form-switch mb-2"},rs={class:"input-group"},ds=["disabled"],cs={class:"row mb-3"},ms={for:"inputNumber",class:"col-sm-2 col-form-label"},us={class:"col-sm-10"},bs=["value"],_s={class:"text-center"},hs=["disabled"],vs={key:0,class:"bi bi-save"},ps={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},xs={__name:"Create",props:{roles:Object,translations:Array},setup(a){const i=g(!1),t=k({name:"",email:"",password:"",selectedRoles:"",avatar:null,commission_enabled:!1,commission_rate_percent:0}),p=()=>{i.value=!0,t.post(route("users.store"),{onSuccess:()=>{i.value=!1},onError:()=>{i.value=!1}})};return(f,e)=>{const w=x("Link");return r(),y(B,{translations:a.translations},{default:h(()=>[s("div",M,[s("h1",S,n(a.translations.users),1),s("nav",null,[s("ol",T,[s("li",L,[m(w,{class:"nav-link dark:text-white",href:f.route("dashboard")},{default:h(()=>[v(n(a.translations.Home),1)]),_:1},8,["href"])]),s("li",R,n(a.translations.users),1),s("li",j,n(a.translations.create),1)])])]),s("section",A,[s("div",D,[s("div",F,[s("div",P,[s("div",$,[s("h5",H,n(a.translations.add_new_user),1),s("form",{onSubmit:V(p,["prevent"]),class:"row g-3"},[s("div",I,[s("label",O,n(a.translations.name),1),s("div",q,[d(s("input",{type:"text",class:"form-control",placeholder:a.translations.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o(t).name=l)},null,8,z),[[u,o(t).name]]),m(_,{message:o(t).errors.name},null,8,["message"])])]),s("div",G,[s("label",J,n(a.translations.email),1),s("div",K,[d(s("input",{type:"email",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=l=>o(t).email=l),placeholder:a.translations.email},null,8,Q),[[u,o(t).email]]),m(_,{message:o(t).errors.email},null,8,["message"])])]),s("div",W,[s("label",X,n(a.translations.password),1),s("div",Y,[d(s("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=l=>o(t).password=l),placeholder:a.translations.password},null,8,Z),[[u,o(t).password]]),m(_,{message:o(t).errors.password},null,8,["message"])])]),s("div",ss,[s("label",es,n(a.translations.roles),1),s("div",ts,[d(s("select",{name:"roles[]",class:"form-control",multiple:"","onUpdate:modelValue":e[3]||(e[3]=l=>o(t).selectedRoles=l)},[s("option",os,n(a.translations.roles),1),(r(!0),c(E,null,U(a.roles,l=>(r(),c("option",{key:l,value:l},n(l),9,as))),128))],512),[[C,o(t).selectedRoles]])])]),s("div",ls,[e[10]||(e[10]=s("label",{class:"col-sm-2 col-form-label"},"عمولة الديكورات",-1)),s("div",ns,[s("div",is,[d(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=l=>o(t).commission_enabled=l),id:"commissionEnabled"},null,512),[[N,o(t).commission_enabled]]),e[7]||(e[7]=s("label",{class:"form-check-label",for:"commissionEnabled"},"تفعيل نسبة العمولة",-1))]),s("div",rs,[d(s("input",{type:"number",step:"0.01",min:"0",max:"100",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=l=>o(t).commission_rate_percent=l),disabled:!o(t).commission_enabled,placeholder:"% نسبة العمولة (مثال: 5)"},null,8,ds),[[u,o(t).commission_rate_percent]]),e[8]||(e[8]=s("span",{class:"input-group-text"},"%",-1))]),e[9]||(e[9]=s("small",{class:"text-muted"},"تحسب العمولة من سعر المبيع النهائي للديكور.",-1))])]),s("div",cs,[s("label",ms,n(a.translations.avatar),1),s("div",us,[s("input",{type:"file",onInput:e[6]||(e[6]=l=>o(t).avatar=l.target.files[0])},null,32),o(t).progress?(r(),c("progress",{key:0,value:o(t).progress.percentage,max:"100"},n(o(t).progress.percentage)+"% ",9,bs)):b("",!0)])]),s("div",_s,[s("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[v(n(a.translations.save)+"   ",1),i.value?b("",!0):(r(),c("i",vs)),i.value?(r(),c("span",ps)):b("",!0)],8,hs)])],32)])])])])])]),_:1},8,["translations"])}}};export{xs as default};
