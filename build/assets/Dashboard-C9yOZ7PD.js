import{r as j,z as K,o as ts,a as r,c as m,b as s,t,d as b,F as B,f as W,e as x,j as q,l as $,A as L,n as D,x as U,g as R,D as os,v as ns,i as X,h as H,k as as,G as Y,Q as $s,w as ss,u as gs,p as xs}from"./app-C6KvZLDy.js";import{A as ws}from"./AuthenticatedLayout-sjG1984q.js";import{_ as ls}from"./Pagination-B-03qAGs.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as ks}from"./StatusUpdateModal-CyJFvqp9.js";import{P as Cs}from"./PricingEditModal-n8tlbqBV.js";const Ss={class:"modal-mask"},Us={class:"modal-wrapper"},Vs={class:"modal-container",style:{"max-width":"900px"}},Fs={class:"modal-header"},Ds={class:"modal-body"},js={key:0,class:"alert alert-danger alert-dismissible fade show mb-4",role:"alert"},Is={class:"mb-0"},As={class:"row mb-4"},Os={class:"col-12"},Ms={class:"text-primary"},qs={class:"col-md-8"},Es={class:"form-label"},Ps={value:""},zs=["value"],Rs={key:0,class:"invalid-feedback"},Ts={class:"col-md-4"},Ls={key:0,class:"col-12 mt-3"},Ns={class:"border rounded p-3 bg-light"},Bs={class:"row"},Ws={class:"col-md-4"},Gs={class:"form-label"},Js={key:0,class:"invalid-feedback"},Qs={class:"col-md-4"},Ys={class:"form-label"},Hs={key:0,class:"invalid-feedback"},Ks={class:"col-md-4"},Xs={class:"form-label"},Zs={key:0,class:"invalid-feedback"},st={class:"col-12 mt-2"},tt={class:"form-label"},et={key:1,class:"col-12 mt-3"},ot={class:"alert alert-info"},nt={class:"row mb-4"},at={class:"col-12"},lt={class:"text-success"},it={class:"col-md-6"},rt={class:"form-label"},dt={key:0,class:"invalid-feedback"},ct={class:"col-md-3"},ut={class:"form-label"},mt=["min"],vt={key:0,class:"invalid-feedback"},bt={class:"col-md-3"},_t={class:"form-label"},pt={key:0,class:"invalid-feedback"},ht={class:"col-md-6 mt-3"},yt={class:"form-label"},ft={key:0,class:"invalid-feedback"},$t={class:"col-12 mt-3"},gt={class:"form-label"},xt=["placeholder"],wt={key:0,class:"invalid-feedback"},kt={class:"row mb-4"},Ct={class:"col-12"},St={class:"text-info"},Ut={class:"col-md-6"},Vt={class:"card"},Ft={class:"card-body"},Dt={class:"card-title"},jt={class:"card-text"},It={class:"d-flex justify-content-between"},At={class:"badge bg-primary"},Ot={class:"badge bg-info"},Mt={class:"col-md-6"},qt={class:"card"},Et={class:"card-body"},Pt={class:"card-title"},zt={class:"d-flex justify-content-between mb-2"},Rt={class:"d-flex justify-content-between mb-2"},Tt={class:"d-flex justify-content-between"},Lt={class:"row mb-4"},Nt={class:"col-12"},Bt={class:"text-warning"},Wt={class:"col-md-3"},Gt={class:"form-label"},Jt={class:"col-md-3"},Qt={class:"form-label"},Yt={key:0,class:"invalid-feedback"},Ht={class:"col-md-3"},Kt={class:"form-label"},Xt={key:0,class:"invalid-feedback"},Zt={class:"col-md-3"},se={class:"form-label"},te={class:"d-flex justify-content-center gap-2"},ee=["disabled"],oe={key:0,class:"spinner-border spinner-border-sm me-2"},ne={__name:"OrderCreationModal",props:{decoration:Object,customers:Array,translations:Object},emits:["close","success"],setup(e,{emit:M}){const c=e,V=M,_=j(!1),a=j(!1),u=j({}),d=K({decoration_id:c.decoration.id,customer_id:"",customer_name:"",customer_phone:"",customer_email:"",event_address:"",event_date:"",event_time:"",guest_count:50,special_requests:"",base_price:0,additional_cost:0,discount:0,total_price:0}),v=K({name:"",phone:"",email:"",address:""}),w=n=>{const l=n.currency==="dollar"?n.base_price_dollar:n.base_price_dinar,f=n.currency==="dollar"?c.translations.dollar:c.translations.dinar;return`${parseFloat(l).toFixed(2)} ${f}`},C=()=>{if(d.customer_id){const n=c.customers.find(l=>l.id==d.customer_id);n&&(d.customer_name=n.name,d.customer_phone=n.phone,d.customer_email=n.email||"",a.value=!1)}else d.customer_name="",d.customer_phone="",d.customer_email=""},k=()=>{const n=new Date,l=n.getFullYear(),f=String(n.getMonth()+1).padStart(2,"0"),z=String(n.getDate()).padStart(2,"0");return`${l}-${f}-${z}`},I=n=>{u.value[n]&&delete u.value[n]},E=n=>({customer_name:c.translations.customer_name||"اسم العميل",customer_phone:c.translations.customer_phone||"رقم الهاتف",customer_email:c.translations.customer_email||"البريد الإلكتروني",event_address:c.translations.event_address||"عنوان الحدث",event_date:c.translations.event_date||"تاريخ الحدث",event_time:c.translations.event_time||"وقت الحدث",guest_count:c.translations.guest_count||"عدد الضيوف",special_requests:c.translations.order_specifications||"مواصفات الطلب",additional_cost:c.translations.additional_cost||"تكلفة إضافية",discount:c.translations.discount||"خصم"})[n]||n,P=()=>{const n=parseFloat(d.base_price)||0,l=parseFloat(d.additional_cost)||0,f=parseFloat(d.discount)||0;d.total_price=Math.max(0,n+l-f)},A=async()=>{_.value=!0;try{a.value&&v.name&&await R.post("/customers",{...v,is_active:!0,notes:c.translations.created_from_decoration},{preserveState:!0,onSuccess:n=>{d.customer_name=v.name,d.customer_phone=v.phone,d.customer_email=v.email}}),R.post("/decoration-orders",d,{onSuccess:()=>{_.value=!1,u.value={},os.post("/logs",{module_name:"Decoration Order",action:"Order Creation Modal Submit",affected_record_id:null,updated_data:d}).catch(()=>{}),V("success")},onError:n=>{_.value=!1,u.value=n,console.error("Validation errors:",n)}})}catch(n){_.value=!1,console.error("Error creating order:",n)}};return ts(()=>{const n=c.decoration.currency==="dollar"?c.decoration.base_price_dollar:c.decoration.base_price_dinar;d.base_price=parseFloat(n),d.total_price=parseFloat(n)}),(n,l)=>(r(),m("div",Ss,[s("div",Us,[s("div",Vs,[s("div",Fs,[s("h3",null,t(e.translations.create_order)+" - "+t(e.decoration.name),1),s("button",{onClick:l[0]||(l[0]=f=>n.$emit("close")),class:"btn-close"})]),s("div",Ds,[Object.keys(u.value).length>0?(r(),m("div",js,[l[21]||(l[21]=s("h5",{class:"alert-heading"},[s("i",{class:"bi bi-exclamation-triangle"}),b(" يرجى تصحيح الأخطاء التالية: ")],-1)),s("ul",Is,[(r(!0),m(B,null,W(u.value,(f,z)=>(r(),m("li",{key:z},[s("strong",null,t(E(z))+":",1),b(" "+t(Array.isArray(f)?f[0]:f),1)]))),128))])])):x("",!0),s("form",{onSubmit:q(A,["prevent"])},[s("div",As,[s("div",Os,[s("h5",Ms,[l[22]||(l[22]=s("i",{class:"bi bi-person"},null,-1)),b(" "+t(e.translations.customer_details),1)]),l[23]||(l[23]=s("hr",null,null,-1))]),s("div",qs,[s("label",Es,t(e.translations.select_customer),1),$(s("select",{class:D(["form-select",{"is-invalid":u.value.customer_id}]),"onUpdate:modelValue":l[1]||(l[1]=f=>d.customer_id=f),onChange:C},[s("option",Ps,t(e.translations.select_customer),1),(r(!0),m(B,null,W(e.customers,f=>(r(),m("option",{key:f.id,value:f.id},t(f.name)+" - "+t(f.phone),9,zs))),128))],34),[[L,d.customer_id]]),u.value.customer_id?(r(),m("div",Rs,t(u.value.customer_id),1)):x("",!0)]),s("div",Ts,[l[25]||(l[25]=s("label",{class:"form-label"}," ",-1)),s("button",{type:"button",class:"btn btn-outline-primary w-100",onClick:l[2]||(l[2]=f=>a.value=!a.value)},[l[24]||(l[24]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(e.translations.create_new_customer),1)])]),a.value?(r(),m("div",Ls,[s("div",Ns,[s("div",Bs,[s("div",Ws,[s("label",Gs,t(e.translations.name)+" *",1),$(s("input",{type:"text",class:D(["form-control",{"is-invalid":u.value.customer_name}]),"onUpdate:modelValue":l[3]||(l[3]=f=>v.name=f),required:""},null,2),[[U,v.name]]),u.value.customer_name?(r(),m("div",Js,t(u.value.customer_name),1)):x("",!0)]),s("div",Qs,[s("label",Ys,t(e.translations.phone),1),$(s("input",{type:"text",class:D(["form-control",{"is-invalid":u.value.customer_phone}]),"onUpdate:modelValue":l[4]||(l[4]=f=>v.phone=f)},null,2),[[U,v.phone]]),u.value.customer_phone?(r(),m("div",Hs,t(u.value.customer_phone),1)):x("",!0)]),s("div",Ks,[s("label",Xs,t(e.translations.email),1),$(s("input",{type:"email",class:D(["form-control",{"is-invalid":u.value.customer_email}]),"onUpdate:modelValue":l[5]||(l[5]=f=>v.email=f)},null,2),[[U,v.email]]),u.value.customer_email?(r(),m("div",Zs,t(u.value.customer_email),1)):x("",!0)]),s("div",st,[s("label",tt,t(e.translations.address),1),$(s("input",{class:"form-control",type:"text","onUpdate:modelValue":l[6]||(l[6]=f=>v.address=f)},null,512),[[U,v.address]])])])])])):x("",!0),d.customer_name&&!a.value?(r(),m("div",et,[s("div",ot,[s("strong",null,t(e.translations.selected_customer)+":",1),l[26]||(l[26]=s("br",null,null,-1)),l[27]||(l[27]=s("i",{class:"bi bi-person"},null,-1)),b(" "+t(d.customer_name),1),l[28]||(l[28]=s("br",null,null,-1)),l[29]||(l[29]=s("i",{class:"bi bi-telephone"},null,-1)),b(" "+t(d.customer_phone),1),l[30]||(l[30]=s("br",null,null,-1)),l[31]||(l[31]=s("i",{class:"bi bi-envelope"},null,-1)),b(" "+t(d.customer_email||e.translations.not_provided),1)])])):x("",!0)]),s("div",nt,[s("div",at,[s("h5",lt,[l[32]||(l[32]=s("i",{class:"bi bi-calendar-event"},null,-1)),b(" "+t(e.translations.event_details),1)]),l[33]||(l[33]=s("hr",null,null,-1))]),s("div",it,[s("label",rt,t(e.translations.event_address)+" *",1),$(s("input",{class:D(["form-control",{"is-invalid":u.value.event_address}]),type:"text","onUpdate:modelValue":l[7]||(l[7]=f=>d.event_address=f),required:"",onInput:l[8]||(l[8]=f=>I("event_address"))},null,34),[[U,d.event_address]]),u.value.event_address?(r(),m("div",dt,t(u.value.event_address),1)):x("",!0)]),s("div",ct,[s("label",ut,t(e.translations.event_date)+" *",1),$(s("input",{type:"date",class:D(["form-control",{"is-invalid":u.value.event_date}]),"onUpdate:modelValue":l[9]||(l[9]=f=>d.event_date=f),required:"",min:k(),onInput:l[10]||(l[10]=f=>I("event_date"))},null,42,mt),[[U,d.event_date]]),u.value.event_date?(r(),m("div",vt,t(u.value.event_date),1)):x("",!0)]),s("div",bt,[s("label",_t,t(e.translations.event_time)+" *",1),$(s("input",{type:"time",class:D(["form-control",{"is-invalid":u.value.event_time}]),"onUpdate:modelValue":l[11]||(l[11]=f=>d.event_time=f),required:"",onInput:l[12]||(l[12]=f=>I("event_time"))},null,34),[[U,d.event_time]]),u.value.event_time?(r(),m("div",pt,t(u.value.event_time),1)):x("",!0)]),s("div",ht,[s("label",yt,t(e.translations.guest_count),1),$(s("input",{type:"number",class:D(["form-control",{"is-invalid":u.value.guest_count}]),"onUpdate:modelValue":l[13]||(l[13]=f=>d.guest_count=f),min:"1"},null,2),[[U,d.guest_count]]),u.value.guest_count?(r(),m("div",ft,t(u.value.guest_count),1)):x("",!0)]),s("div",$t,[s("label",gt,t(e.translations.order_specifications||"مواصفات الطلب"),1),$(s("textarea",{class:D(["form-control",{"is-invalid":u.value.special_requests}]),style:{"border-color":"#007bff","box-shadow":"0 0 0 0.2rem rgba(0, 123, 255, 0.25)"},"onUpdate:modelValue":l[14]||(l[14]=f=>d.special_requests=f),rows:"4",placeholder:e.translations.enter_order_specifications||"أدخل مواصفات الطلب والطلبات الخاصة...",onInput:l[15]||(l[15]=f=>I("special_requests"))},null,42,xt),[[U,d.special_requests]]),u.value.special_requests?(r(),m("div",wt,t(u.value.special_requests),1)):x("",!0),l[34]||(l[34]=s("small",{class:"text-muted"},"مثل: عدد البالونات، الألوان المطلوبة، تفاصيل الديكور، إلخ...",-1))])]),s("div",kt,[s("div",Ct,[s("h5",St,[l[35]||(l[35]=s("i",{class:"bi bi-palette"},null,-1)),b(" "+t(e.translations.decoration_details),1)]),l[36]||(l[36]=s("hr",null,null,-1))]),s("div",Ut,[s("div",Vt,[s("div",Ft,[s("h6",Dt,t(e.decoration.name),1),s("p",jt,t(e.decoration.description),1),s("div",It,[s("span",At,t(e.decoration.type_name),1),s("span",Ot,t(e.decoration.duration_hours)+" "+t(e.translations.hours),1)])])])]),s("div",Mt,[s("div",qt,[s("div",Et,[s("h6",Pt,t(e.translations.pricing_details),1),s("div",zt,[s("span",null,t(e.translations.base_price)+":",1),s("strong",null,t(w(e.decoration)),1)]),s("div",Rt,[s("span",null,t(e.translations.team_size)+":",1),s("span",null,t(e.decoration.team_size)+" "+t(e.translations.team_members),1)]),s("div",Tt,[s("span",null,t(e.translations.currency)+":",1),s("span",{class:D(["badge",e.decoration.currency==="dollar"?"bg-success":"bg-primary"])},t(e.decoration.currency==="dollar"?e.translations.dollar:e.translations.dinar),3)])])])])]),s("div",Lt,[s("div",Nt,[s("h5",Bt,[l[37]||(l[37]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.payment_details),1)]),l[38]||(l[38]=s("hr",null,null,-1))]),s("div",Wt,[s("label",Gt,t(e.translations.base_price),1),$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[16]||(l[16]=f=>d.base_price=f),readonly:""},null,512),[[U,d.base_price]])]),s("div",Jt,[s("label",Qt,t(e.translations.additional_cost),1),$(s("input",{type:"number",step:"0.01",class:D(["form-control",{"is-invalid":u.value.additional_cost}]),"onUpdate:modelValue":l[17]||(l[17]=f=>d.additional_cost=f),onInput:P},null,34),[[U,d.additional_cost]]),u.value.additional_cost?(r(),m("div",Yt,t(u.value.additional_cost),1)):x("",!0)]),s("div",Ht,[s("label",Kt,t(e.translations.discount),1),$(s("input",{type:"number",step:"0.01",class:D(["form-control",{"is-invalid":u.value.discount}]),"onUpdate:modelValue":l[18]||(l[18]=f=>d.discount=f),onInput:P},null,34),[[U,d.discount]]),u.value.discount?(r(),m("div",Xt,t(u.value.discount),1)):x("",!0)]),s("div",Zt,[s("label",se,t(e.translations.total_price),1),$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[19]||(l[19]=f=>d.total_price=f),readonly:""},null,512),[[U,d.total_price]])])]),s("div",te,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:l[20]||(l[20]=f=>n.$emit("close"))},[l[39]||(l[39]=s("i",{class:"bi bi-x-circle"},null,-1)),b(" "+t(e.translations.cancel),1)]),s("button",{type:"submit",class:"btn btn-success w-100 text-center",disabled:_.value},[_.value?(r(),m("span",oe)):x("",!0),l[40]||(l[40]=s("i",{class:"bi bi-check-circle"},null,-1)),b(" "+t(e.translations.create_order),1)],8,ee)])],32)])])])]))}},ae=Q(ne,[["__scopeId","data-v-444e1eec"]]),le={class:"modal-mask"},ie={class:"modal-wrapper"},re={class:"modal-container",style:{"max-width":"800px"}},de={class:"modal-header"},ce={class:"modal-body"},ue={class:"row"},me={class:"col-md-6"},ve={class:"text-primary mb-3"},be={class:"mb-3"},_e={class:"form-label"},pe={class:"mb-3"},he={class:"form-label"},ye={class:"mb-3"},fe={class:"form-label"},$e={value:""},ge={value:"birthday"},xe={value:"gender_reveal"},we={value:"baby_shower"},ke={value:"wedding"},Ce={value:"graduation"},Se={value:"corporate"},Ue={value:"religious"},Ve={class:"col-md-6"},Fe={class:"text-success mb-3"},De={class:"mb-3"},je={class:"form-label"},Ie={value:"dinar"},Ae={value:"dollar"},Oe={class:"row"},Me={class:"col-md-6"},qe={class:"mb-3"},Ee={class:"form-label"},Pe={class:"col-md-6"},ze={class:"mb-3"},Re={class:"form-label"},Te={class:"row"},Le={class:"col-md-6"},Ne={class:"mb-3"},Be={class:"form-label"},We={class:"col-md-6"},Ge={class:"mb-3"},Je={class:"form-label"},Qe={class:"mb-3"},Ye={class:"form-check"},He={class:"form-check-label",for:"is_active_edit"},Ke={class:"d-flex justify-content-center gap-2 mt-4"},Xe=["disabled"],Ze={key:0,class:"spinner-border spinner-border-sm me-2"},so={__name:"EditDecorationModal",props:{decoration:Object,translations:Object},emits:["success","close"],setup(e,{emit:M}){const c=e,V=M,_=j(!1),a=K({name:"",description:"",type:"",currency:"dinar",base_price:"",base_price_dinar:"",base_price_dollar:"",duration_hours:"",team_size:"",is_active:!0,materials_cost:0,labor_cost:0,transportation_cost:0}),u=()=>{_.value=!0;const d={...a,base_price:a.currency==="dinar"?a.base_price_dinar:a.base_price_dollar,materials_cost:parseFloat(a.materials_cost)||0,labor_cost:parseFloat(a.labor_cost)||0,transportation_cost:parseFloat(a.transportation_cost)||0};R.patch(route("decorations.update",c.decoration.id),d,{onSuccess:()=>{_.value=!1,os.post("/logs",{module_name:"Decoration",action:"Edit Decoration Modal Submit",affected_record_id:c.decoration.id,updated_data:d}).catch(()=>{}),V("success")},onError:()=>{_.value=!1}})};return ts(()=>{if(c.decoration&&(a.name=c.decoration.name||"",a.description=c.decoration.description||"",a.type=c.decoration.type||"",a.currency=c.decoration.currency||"dinar",a.base_price=c.decoration.base_price||"",a.base_price_dinar=c.decoration.base_price_dinar||"",a.base_price_dollar=c.decoration.base_price_dollar||"",a.duration_hours=c.decoration.duration_hours||"",a.team_size=c.decoration.team_size||"",a.is_active=c.decoration.is_active!==void 0?c.decoration.is_active:!0,c.decoration.pricing_details)){const d=typeof c.decoration.pricing_details=="string"?JSON.parse(c.decoration.pricing_details):c.decoration.pricing_details;a.materials_cost=d.materials||0,a.labor_cost=d.labor||0,a.transportation_cost=d.transportation||0}}),(d,v)=>(r(),m("div",le,[s("div",ie,[s("div",re,[s("div",de,[s("h3",null,t(e.translations.edit)+" "+t(e.translations.decoration),1),s("button",{onClick:v[0]||(v[0]=w=>d.$emit("close")),class:"btn-close"})]),s("div",ce,[s("form",{onSubmit:q(u,["prevent"])},[s("div",ue,[s("div",me,[s("h6",ve,[v[11]||(v[11]=s("i",{class:"bi bi-info-circle"},null,-1)),b(" "+t(e.translations.basic_information),1)]),s("div",be,[s("label",_e,t(e.translations.decoration_name)+" *",1),$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":v[1]||(v[1]=w=>a.name=w),required:""},null,512),[[U,a.name]])]),s("div",pe,[s("label",he,t(e.translations.decoration_description),1),$(s("input",{class:"form-control",type:"text","onUpdate:modelValue":v[2]||(v[2]=w=>a.description=w)},null,512),[[U,a.description]])]),s("div",ye,[s("label",fe,t(e.translations.decoration_type)+" *",1),$(s("select",{class:"form-select","onUpdate:modelValue":v[3]||(v[3]=w=>a.type=w),required:""},[s("option",$e,t(e.translations.select_type),1),s("option",ge,t(e.translations.birthday),1),s("option",xe,t(e.translations.gender_reveal),1),s("option",we,t(e.translations.baby_shower),1),s("option",ke,t(e.translations.wedding),1),s("option",Ce,t(e.translations.graduation),1),s("option",Se,t(e.translations.corporate),1),s("option",Ue,t(e.translations.religious),1)],512),[[L,a.type]])])]),s("div",Ve,[s("h6",Fe,[v[12]||(v[12]=s("i",{class:"bi bi-currency-dollar"},null,-1)),b(" "+t(e.translations.pricing_details),1)]),s("div",De,[s("label",je,t(e.translations.currency)+" *",1),$(s("select",{class:"form-select","onUpdate:modelValue":v[4]||(v[4]=w=>a.currency=w),required:""},[s("option",Ie,t(e.translations.dinar),1),s("option",Ae,t(e.translations.dollar),1)],512),[[L,a.currency]])]),s("div",Oe,[s("div",Me,[s("div",qe,[s("label",Ee,t(e.translations.base_price_dinar)+" *",1),$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":v[5]||(v[5]=w=>a.base_price_dinar=w),required:""},null,512),[[U,a.base_price_dinar]])])]),s("div",Pe,[s("div",ze,[s("label",Re,t(e.translations.base_price_dollar)+" *",1),$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":v[6]||(v[6]=w=>a.base_price_dollar=w),required:""},null,512),[[U,a.base_price_dollar]])])])]),s("div",Te,[s("div",Le,[s("div",Ne,[s("label",Be,t(e.translations.duration_hours)+" *",1),$(s("input",{type:"number",class:"form-control","onUpdate:modelValue":v[7]||(v[7]=w=>a.duration_hours=w),required:""},null,512),[[U,a.duration_hours]])])]),s("div",We,[s("div",Ge,[s("label",Je,t(e.translations.team_size)+" *",1),$(s("input",{type:"number",class:"form-control","onUpdate:modelValue":v[8]||(v[8]=w=>a.team_size=w),required:""},null,512),[[U,a.team_size]])])])]),s("div",Qe,[s("div",Ye,[$(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":v[9]||(v[9]=w=>a.is_active=w),id:"is_active_edit"},null,512),[[ns,a.is_active]]),s("label",He,t(e.translations.active),1)])])])]),s("div",Ke,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:v[10]||(v[10]=w=>d.$emit("close"))},[v[13]||(v[13]=s("i",{class:"bi bi-x-circle"},null,-1)),b(" "+t(e.translations.cancel),1)]),s("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:_.value},[_.value?(r(),m("span",Ze)):x("",!0),v[14]||(v[14]=s("i",{class:"bi bi-check-circle"},null,-1)),b(" "+t(e.translations.save),1)],8,Xe)])],32)])])])]))}},to=Q(so,[["__scopeId","data-v-5cbf25cd"]]),eo={class:"d-flex justify-content-between align-items-center mb-4"},oo={class:"mb-0"},no={class:"badge bg-primary ms-2"},ao={class:"d-flex gap-2"},lo=["href"],io={class:"card mb-4"},ro={class:"card-body"},co={class:"row"},uo={class:"col-md-3"},mo=["placeholder"],vo={class:"col-md-2"},bo={value:""},_o={value:"birthday"},po={value:"gender_reveal"},ho={value:"baby_shower"},yo={value:"wedding"},fo={value:"graduation"},$o={value:"corporate"},go={value:"religious"},xo={class:"col-md-2"},wo={value:""},ko={value:"dinar"},Co={value:"dollar"},So={class:"col-md-2"},Uo={value:""},Vo={value:"1"},Fo={value:"0"},Do={class:"col-md-2"},jo={type:"submit",class:"btn btn-primary w-100"},Io={key:0,class:"row"},Ao={class:"card h-100 decoration-card"},Oo={class:"card-img-top position-relative",style:{height:"200px",overflow:"hidden"}},Mo=["src","alt"],qo={key:1,class:"w-100 h-100 bg-light d-flex align-items-center justify-content-center"},Eo={class:"position-absolute top-0 end-0 m-2"},Po={class:"position-absolute top-0 start-0 m-2"},zo={class:"card-body d-flex flex-column"},Ro={class:"card-title"},To={class:"card-text text-muted"},Lo={class:"mt-auto"},No={class:"d-flex justify-content-between align-items-center mb-2"},Bo={class:"badge bg-info"},Wo={class:"price-section mb-3"},Go={class:"d-flex justify-content-between align-items-center mb-2"},Jo={class:"fw-bold text-primary fs-5"},Qo={class:"text-muted"},Yo={class:"d-flex justify-content-between align-items-center"},Ho={class:"text-muted"},Ko=["onClick","title"],Xo={class:"actions-container"},Zo={class:"row g-2"},sn={class:"col-6"},tn=["onClick"],en={class:"col-6"},on=["onClick","title"],nn={class:"row g-2 mt-2"},an={class:"col-3"},ln=["onClick"],rn={class:"col-3"},dn=["onClick"],cn={class:"col-3"},un=["href"],mn={class:"col-3"},vn=["onClick"],bn={key:1,class:"text-center py-5 empty-state"},_n={class:"empty-state-title"},pn={class:"empty-state-description"},hn={class:"empty-state-actions"},yn={key:2,class:"d-flex justify-content-center mt-4"},fn={__name:"DecorationsList",props:{decorations:Object,customers:Array,translations:Object},emits:["refresh"],setup(e,{emit:M}){const c=e,V=M,_=j(!1),a=j(!1),u=j(null),d=K({search:"",type:"",currency:"",is_active:""}),v=()=>{R.get(route("decorations.dashboard"),{tab:"decorations",...d},{preserveState:!0,replace:!0})},w=()=>{d.search="",d.type="",d.currency="",d.is_active="",v()},C=S=>{const h=S.base_price||S.current_price||0,T=S.currency==="dollar"?c.translations.dollar:c.translations.dinar;return`${parseFloat(h).toFixed(2)} ${T}`},k=S=>({birthday:c.translations.birthday,gender_reveal:c.translations.gender_reveal,baby_shower:c.translations.baby_shower,wedding:c.translations.wedding,graduation:c.translations.graduation,corporate:c.translations.corporate,religious:c.translations.religious})[S]||S,I=S=>{const h=S.currency==="dinar"?"dollar":"dinar";R.patch(route("decorations.update",S.id),{currency:h},{preserveState:!0,onSuccess:()=>{console.log("Currency updated successfully")},onError:T=>{console.error("Error updating currency:",T)}})},E=S=>{u.value=S,_.value=!0},P=S=>{u.value=S,a.value=!0},A=S=>{R.get(route("decorations.show",S.id))},n=S=>{confirm(c.translations.confirm_delete)&&R.delete(route("decorations.destroy",S),{onSuccess:()=>{V("refresh")}})},l=()=>{_.value=!1,V("refresh")},f=()=>{a.value=!1,V("refresh")},z=S=>window.permissions&&window.permissions.includes(S);return(S,h)=>{var T,F;return r(),m("div",null,[s("div",eo,[s("h4",oo,[h[8]||(h[8]=s("i",{class:"bi bi-palette text-primary"},null,-1)),b(" "+t(e.translations.decorations_list)+" ",1),s("span",no,t(((F=(T=e.decorations)==null?void 0:T.data)==null?void 0:F.length)||0),1)]),s("div",ao,[z("create decoration")?(r(),m("button",{key:0,class:"btn btn-primary btn-lg",onClick:h[0]||(h[0]=i=>S.$emit("createDecoration"))},[h[9]||(h[9]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(e.translations.create_decoration),1)])):x("",!0),s("a",{href:S.route("public.gallery"),class:"btn btn-outline-info btn-lg",target:"_blank"},h[10]||(h[10]=[s("i",{class:"bi bi-eye"},null,-1),b(" عرض المعرض العام ")]),8,lo)])]),s("div",io,[s("div",ro,[s("form",{onSubmit:q(v,["prevent"])},[s("div",co,[s("div",uo,[$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":h[1]||(h[1]=i=>d.search=i),placeholder:e.translations.search},null,8,mo),[[U,d.search]])]),s("div",vo,[$(s("select",{class:"form-select","onUpdate:modelValue":h[2]||(h[2]=i=>d.type=i)},[s("option",bo,t(e.translations.all_types),1),s("option",_o,t(e.translations.birthday),1),s("option",po,t(e.translations.gender_reveal),1),s("option",ho,t(e.translations.baby_shower),1),s("option",yo,t(e.translations.wedding),1),s("option",fo,t(e.translations.graduation),1),s("option",$o,t(e.translations.corporate),1),s("option",go,t(e.translations.religious),1)],512),[[L,d.type]])]),s("div",xo,[$(s("select",{class:"form-select","onUpdate:modelValue":h[3]||(h[3]=i=>d.currency=i)},[s("option",wo,t(e.translations.all_currencies),1),s("option",ko,t(e.translations.dinar),1),s("option",Co,t(e.translations.dollar),1)],512),[[L,d.currency]])]),s("div",So,[$(s("select",{class:"form-select","onUpdate:modelValue":h[4]||(h[4]=i=>d.is_active=i)},[s("option",Uo,t(e.translations.all_status),1),s("option",Vo,t(e.translations.active),1),s("option",Fo,t(e.translations.inactive),1)],512),[[L,d.is_active]])]),s("div",Do,[s("button",jo,[h[11]||(h[11]=s("i",{class:"bi bi-search"},null,-1)),b(" "+t(e.translations.search),1)])]),s("div",{class:"col-md-1"},[s("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:w},h[12]||(h[12]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1)]))])])],32)])]),e.decorations.data.length>0?(r(),m("div",Io,[(r(!0),m(B,null,W(e.decorations.data,i=>(r(),m("div",{class:"col-xl-4 col-lg-4 col-md-6 mb-4",key:i.id},[s("div",Ao,[s("div",Oo,[i.thumbnail_url||i.image_url?(r(),m("img",{key:0,src:i.thumbnail_url||i.image_url,alt:i.name,class:"w-100 h-100 object-cover"},null,8,Mo)):(r(),m("div",qo,h[13]||(h[13]=[s("i",{class:"bi bi-image text-muted",style:{"font-size":"3rem"}},null,-1)]))),s("div",Eo,[s("span",{class:D(["badge",i.currency==="dollar"?"bg-success":"bg-primary"])},t(i.currency==="dollar"?e.translations.dollar:e.translations.dinar),3)]),s("div",Po,[s("span",{class:D(["badge",i.is_active?"bg-success":"bg-secondary"])},t(i.is_active?e.translations.active:e.translations.inactive),3)])]),s("div",zo,[s("h5",Ro,t(i.name),1),s("p",To,t(i.description),1),s("div",Lo,[s("div",No,[s("span",Bo,t(k(i.type)),1),s("span",{class:D(["badge",i.is_active?"bg-success":"bg-secondary"])},t(i.is_active?c.translations.active:c.translations.inactive),3)]),s("div",Wo,[s("div",Go,[s("span",Jo,t(C(i)),1),s("small",Qo,[h[14]||(h[14]=s("i",{class:"bi bi-clock"},null,-1)),b(" "+t(i.duration_hours)+" "+t(c.translations.hours),1)])]),s("div",Yo,[s("small",Ho,[h[15]||(h[15]=s("i",{class:"bi bi-people"},null,-1)),b(" "+t(i.team_size)+" "+t(c.translations.team_members),1)]),s("button",{onClick:y=>I(i),class:"btn btn-sm btn-outline-info",title:c.translations.switch_currency},h[16]||(h[16]=[s("i",{class:"bi bi-arrow-repeat"},null,-1)]),8,Ko)])])]),s("div",Xo,[s("div",Zo,[s("div",sn,[s("button",{onClick:y=>E(i),class:"btn btn-success btn-action w-100"},[h[17]||(h[17]=s("i",{class:"bi bi-plus-circle"},null,-1)),s("span",null,t(e.translations.create_order),1)],8,tn)]),s("div",en,[s("button",{onClick:y=>I(i),class:"btn btn-outline-info btn-action w-100",title:e.translations.switch_currency},[h[18]||(h[18]=s("i",{class:"bi bi-arrow-repeat"},null,-1)),s("span",null,t(e.translations.switch_currency),1)],8,on)])]),s("div",nn,[s("div",an,[z("update decoration")?(r(),m("button",{key:0,onClick:y=>P(i),class:"btn btn-outline-warning btn-action w-100"},[h[19]||(h[19]=s("i",{class:"bi bi-pencil"},null,-1)),s("span",null,t(e.translations.edit),1)],8,ln)):x("",!0)]),s("div",rn,[s("button",{onClick:y=>A(i),class:"btn btn-outline-primary btn-action w-100"},[h[20]||(h[20]=s("i",{class:"bi bi-eye"},null,-1)),s("span",null,t(e.translations.view),1)],8,dn)]),s("div",cn,[s("a",{href:S.route("public.decoration.show",i.id),class:"btn btn-outline-info btn-action w-100",target:"_blank"},h[21]||(h[21]=[s("i",{class:"bi bi-globe"},null,-1),s("span",null,"معرض",-1)]),8,un)]),s("div",mn,[z("delete decoration")?(r(),m("button",{key:0,onClick:y=>n(i.id),class:"btn btn-outline-danger btn-action w-100"},[h[22]||(h[22]=s("i",{class:"bi bi-trash"},null,-1)),s("span",null,t(e.translations.delete),1)],8,vn)):x("",!0)])])])])])]))),128))])):(r(),m("div",bn,[h[24]||(h[24]=s("div",{class:"empty-state-icon"},[s("i",{class:"bi bi-palette"})],-1)),s("h4",_n,t(e.translations.no_decorations),1),s("p",pn,t(e.translations.no_decorations_description),1),s("div",hn,[z("create decoration")?(r(),m("button",{key:0,class:"btn btn-primary btn-lg",onClick:h[5]||(h[5]=i=>S.$emit("createDecoration"))},[h[23]||(h[23]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(e.translations.create_first_decoration),1)])):x("",!0)])])),e.decorations.data.length>0?(r(),m("div",yn,[X(ls,{links:e.decorations.links},null,8,["links"])])):x("",!0),_.value?(r(),H(ae,{key:3,decoration:u.value,customers:e.customers,translations:e.translations,onClose:h[6]||(h[6]=i=>_.value=!1),onSuccess:l},null,8,["decoration","customers","translations"])):x("",!0),a.value?(r(),H(to,{key:4,decoration:u.value,translations:e.translations,onClose:h[7]||(h[7]=i=>a.value=!1),onSuccess:f},null,8,["decoration","translations"])):x("",!0)])}}},$n=Q(fn,[["__scopeId","data-v-d0d8ed18"]]),gn={class:"modal-mask"},xn={class:"modal-wrapper"},wn={class:"modal-container"},kn={class:"modal-header"},Cn={class:"modal-body"},Sn={key:0,class:"alert alert-danger mb-3",role:"alert"},Un={class:"mb-0"},Vn={class:"mb-3"},Fn={class:"form-label"},Dn={value:""},jn=["value"],In={key:0,class:"invalid-feedback"},An={class:"mb-3"},On={class:"form-label"},Mn={key:0,class:"invalid-feedback"},qn={class:"d-flex justify-content-center gap-2"},En=["disabled"],Pn={key:0,class:"spinner-border spinner-border-sm me-2"},zn={__name:"EmployeeAssignmentModal",props:{order:Object,employees:Array,translations:Object},emits:["close","success"],setup(e,{emit:M}){const c=e,V=M,_=j(!1),a=j({}),u=K({assigned_employee_id:c.order.assigned_employee_id||"",notes:c.order.notes||""}),d=()=>{if(!u.assigned_employee_id){alert(c.translations.select_employee||"يرجى اختيار موظف");return}_.value=!0,a.value={},R.patch(route("decoration.orders.status",c.order.id),u,{onSuccess:()=>{_.value=!1,V("success")},onError:v=>{_.value=!1,a.value=v,console.error("Assignment errors:",v)}})};return(v,w)=>(r(),m("div",gn,[s("div",xn,[s("div",wn,[s("div",kn,[s("h3",null,t(e.translations.assign_employee),1),s("button",{onClick:w[0]||(w[0]=C=>v.$emit("close")),class:"btn-close"})]),s("div",Cn,[Object.keys(a.value).length>0?(r(),m("div",Sn,[w[4]||(w[4]=s("h6",{class:"alert-heading"},[s("i",{class:"bi bi-exclamation-triangle"}),b(" حدثت أخطاء: ")],-1)),s("ul",Un,[(r(!0),m(B,null,W(a.value,(C,k)=>(r(),m("li",{key:k},t(Array.isArray(C)?C[0]:C),1))),128))])])):x("",!0),s("form",{onSubmit:q(d,["prevent"])},[s("div",Vn,[s("label",Fn,t(e.translations.select_employee),1),$(s("select",{class:D(["form-select",{"is-invalid":a.value.assigned_employee_id}]),"onUpdate:modelValue":w[1]||(w[1]=C=>u.assigned_employee_id=C),required:""},[s("option",Dn,t(e.translations.select_employee),1),(r(!0),m(B,null,W(e.employees,C=>(r(),m("option",{key:C.id,value:C.id},t(C.name),9,jn))),128))],2),[[L,u.assigned_employee_id]]),a.value.assigned_employee_id?(r(),m("div",In,t(Array.isArray(a.value.assigned_employee_id)?a.value.assigned_employee_id[0]:a.value.assigned_employee_id),1)):x("",!0)]),s("div",An,[s("label",On,t(e.translations.notes),1),$(s("textarea",{class:D(["form-control",{"is-invalid":a.value.notes}]),"onUpdate:modelValue":w[2]||(w[2]=C=>u.notes=C),rows:"3"},null,2),[[U,u.notes]]),a.value.notes?(r(),m("div",Mn,t(Array.isArray(a.value.notes)?a.value.notes[0]:a.value.notes),1)):x("",!0)]),s("div",qn,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:w[3]||(w[3]=C=>v.$emit("close"))},t(e.translations.cancel),1),s("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:_.value},[_.value?(r(),m("span",Pn)):x("",!0),b(" "+t(e.translations.assign),1)],8,En)])],32)])])])]))}},Rn=Q(zn,[["__scopeId","data-v-7a4969ca"]]),Tn={class:"card mb-4"},Ln={class:"card-body"},Nn={class:"row"},Bn={class:"col-md-3"},Wn=["placeholder"],Gn={class:"col-md-2"},Jn={value:""},Qn={value:"created"},Yn={value:"received"},Hn={value:"executing"},Kn={value:"partial_payment"},Xn={value:"full_payment"},Zn={value:"completed"},sa={value:"cancelled"},ta={class:"col-md-2"},ea={value:""},oa=["value"],na={class:"col-md-2"},aa=["placeholder"],la={class:"col-md-2"},ia={type:"submit",class:"btn btn-primary w-100"},ra={key:0,class:"row"},da={class:"card h-100 order-card"},ca={class:"card-header d-flex justify-content-between align-items-center"},ua={class:"mb-0"},ma={class:"text-muted"},va={class:"card-body"},ba={class:"mb-3"},_a={class:"text-primary"},pa={class:"text-muted"},ha={class:"mb-3"},ya={class:"d-flex align-items-center mb-1"},fa={class:"d-flex align-items-center mb-1"},$a={class:"d-flex align-items-center"},ga={class:"mb-3"},xa={class:"d-flex align-items-center mb-1"},wa={class:"text-muted"},ka={class:"d-flex align-items-center"},Ca={class:"text-muted"},Sa={class:"mb-3"},Ua={class:"pricing-breakdown"},Va={class:"d-flex justify-content-between mb-1"},Fa={key:0,class:"d-flex justify-content-between mb-1"},Da={class:"text-success"},ja={class:"text-success"},Ia={key:1,class:"d-flex justify-content-between mb-1"},Aa={class:"text-danger"},Oa={class:"text-danger"},Ma={class:"d-flex justify-content-between mb-1"},qa={class:"text-primary"},Ea={class:"d-flex justify-content-between mb-1"},Pa={class:"text-info"},za={class:"d-flex justify-content-between"},Ra={class:"text-warning"},Ta={key:0,class:"mb-3"},La={class:"d-flex align-items-center"},Na={class:"text-muted"},Ba={class:"card-footer"},Wa={class:"btn-group w-100",role:"group"},Ga=["onClick"],Ja=["onClick"],Qa=["onClick"],Ya=["href"],Ha=["onClick"],Ka={key:1,class:"text-center py-5"},Xa={class:"text-muted mt-3"},Za={class:"text-muted"},sl={key:2,class:"d-flex justify-content-center mt-4"},tl={__name:"OrdersList",props:{orders:Object,employees:Array,translations:Object},emits:["refresh"],setup(e,{emit:M}){const c=e,V=M,_=j(!1),a=j(!1),u=j(!1),d=j(null),v=K({search:"",status:"",assigned_employee_id:"",event_date:""}),w=()=>{R.get(route("decorations.dashboard"),{tab:"orders",...v},{preserveState:!0,replace:!0})},C=()=>{v.search="",v.status="",v.assigned_employee_id="",v.event_date="",w()},k=F=>new Date(F).toLocaleDateString("en-US"),I=(F,i)=>F&&F.length>i?F.substring(0,i)+"...":F,E=F=>({created:"secondary",received:"info",executing:"primary",partial_payment:"warning",full_payment:"success",completed:"success",cancelled:"danger"})[F]||"secondary",P=F=>({created:c.translations.created,received:c.translations.received,executing:c.translations.executing,partial_payment:c.translations.partial_payment,full_payment:c.translations.full_payment,completed:c.translations.completed,cancelled:c.translations.cancelled})[F]||F,A=F=>F.currency==="dollar"?c.translations.dollar:c.translations.dinar,n=F=>{R.get(route("decoration.orders.show",F.id))},l=F=>{d.value=F,_.value=!0},f=F=>{d.value=F,a.value=!0},z=F=>{d.value=F,u.value=!0},S=()=>{_.value=!1,V("refresh")},h=()=>{a.value=!1,V("refresh")},T=()=>{u.value=!1,V("refresh")};return(F,i)=>(r(),m("div",null,[s("div",Tn,[s("div",Ln,[s("form",{onSubmit:q(w,["prevent"])},[s("div",Nn,[s("div",Bn,[$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=y=>v.search=y),placeholder:e.translations.search+" ("+e.translations.customer_name+", "+e.translations.phone+")"},null,8,Wn),[[U,v.search]])]),s("div",Gn,[$(s("select",{class:"form-select","onUpdate:modelValue":i[1]||(i[1]=y=>v.status=y)},[s("option",Jn,t(e.translations.all_status),1),s("option",Qn,t(e.translations.created),1),s("option",Yn,t(e.translations.received),1),s("option",Hn,t(e.translations.executing),1),s("option",Kn,t(e.translations.partial_payment),1),s("option",Xn,t(e.translations.full_payment),1),s("option",Zn,t(e.translations.completed),1),s("option",sa,t(e.translations.cancelled),1)],512),[[L,v.status]])]),s("div",ta,[$(s("select",{class:"form-select","onUpdate:modelValue":i[2]||(i[2]=y=>v.assigned_employee_id=y)},[s("option",ea,t(e.translations.all_employees),1),(r(!0),m(B,null,W(e.employees,y=>(r(),m("option",{key:y.id,value:y.id},t(y.name),9,oa))),128))],512),[[L,v.assigned_employee_id]])]),s("div",na,[$(s("input",{type:"date",class:"form-control","onUpdate:modelValue":i[3]||(i[3]=y=>v.event_date=y),placeholder:e.translations.event_date},null,8,aa),[[U,v.event_date]])]),s("div",la,[s("button",ia,[i[7]||(i[7]=s("i",{class:"bi bi-search"},null,-1)),b(" "+t(e.translations.search),1)])]),s("div",{class:"col-md-1"},[s("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:C},i[8]||(i[8]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1)]))])])],32)])]),e.orders.data.length>0?(r(),m("div",ra,[(r(!0),m(B,null,W(e.orders.data,y=>{var Z,N;return r(),m("div",{class:"col-xl-4 col-lg-6 col-md-12 mb-4",key:y.id},[s("div",da,[s("div",ca,[s("div",null,[s("h6",ua,t(e.translations.order)+" #"+t(y.id),1),s("small",ma,t(k(y.created_at)),1)]),s("span",{class:D(["badge",`bg-${E(y.status)}`])},t(P(y.status)),3)]),s("div",va,[s("div",ba,[s("h6",_a,t((Z=y.decoration)==null?void 0:Z.name),1),s("small",pa,t((N=y.decoration)==null?void 0:N.type_name),1)]),s("div",ha,[s("div",ya,[i[9]||(i[9]=s("i",{class:"bi bi-person me-2"},null,-1)),s("strong",null,t(y.customer_name),1)]),s("div",fa,[i[10]||(i[10]=s("i",{class:"bi bi-telephone me-2"},null,-1)),s("span",null,t(y.customer_phone),1)]),s("div",$a,[i[11]||(i[11]=s("i",{class:"bi bi-calendar-event me-2"},null,-1)),s("span",null,t(k(y.event_date))+" "+t(y.event_time),1)])]),s("div",ga,[s("div",xa,[i[12]||(i[12]=s("i",{class:"bi bi-geo-alt me-2"},null,-1)),s("small",wa,t(I(y.event_address,30)),1)]),s("div",ka,[i[13]||(i[13]=s("i",{class:"bi bi-people me-2"},null,-1)),s("small",Ca,t(y.guest_count)+" "+t(e.translations.guests),1)])]),s("div",Sa,[s("div",Ua,[s("div",Va,[s("small",null,t(e.translations.base_price)+":",1),s("small",null,t(y.base_price)+" "+t(A(y)),1)]),y.additional_cost>0?(r(),m("div",Fa,[s("small",Da,t(e.translations.additional_cost)+":",1),s("small",ja,"+"+t(y.additional_cost)+" "+t(A(y)),1)])):x("",!0),y.discount>0?(r(),m("div",Ia,[s("small",Aa,t(e.translations.discount)+":",1),s("small",Oa,"-"+t(y.discount)+" "+t(A(y)),1)])):x("",!0),i[14]||(i[14]=s("hr",{class:"my-1"},null,-1)),s("div",Ma,[s("strong",null,t(e.translations.total_price)+":",1),s("strong",qa,t(y.total_price)+" "+t(A(y)),1)]),s("div",Ea,[s("span",null,t(e.translations.paid_amount)+":",1),s("span",Pa,t(y.paid_amount||0)+" "+t(A(y)),1)]),s("div",za,[s("span",null,t(e.translations.remaining_amount)+":",1),s("span",Ra,t((y.total_price-(y.paid_amount||0)).toFixed(2))+" "+t(A(y)),1)])])]),y.assigned_employee?(r(),m("div",Ta,[s("div",La,[i[15]||(i[15]=s("i",{class:"bi bi-person-badge me-2"},null,-1)),s("small",Na,t(e.translations.assigned_employee)+": "+t(y.assigned_employee.name),1)])])):x("",!0)]),s("div",Ba,[s("div",Wa,[s("button",{onClick:G=>n(y),class:"btn btn-outline-primary btn-sm"},[i[16]||(i[16]=s("i",{class:"bi bi-eye"},null,-1)),b(" "+t(e.translations.view),1)],8,Ga),s("button",{onClick:G=>l(y),class:"btn btn-outline-secondary btn-sm"},[i[17]||(i[17]=s("i",{class:"bi bi-pencil"},null,-1)),b(" "+t(e.translations.update_status),1)],8,Ja),s("button",{onClick:G=>z(y),class:"btn btn-outline-warning btn-sm"},[i[18]||(i[18]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.edit_pricing),1)],8,Qa),s("a",{href:F.route("decoration.orders.print",y.id),target:"_blank",class:"btn btn-outline-info btn-sm"},[i[19]||(i[19]=s("i",{class:"bi bi-printer"},null,-1)),b(" "+t(e.translations.print_invoice),1)],8,Ya),s("button",{onClick:G=>f(y),class:"btn btn-outline-success btn-sm"},[i[20]||(i[20]=s("i",{class:"bi bi-person-plus"},null,-1)),b(" "+t(e.translations.assign),1)],8,Ha)])])])])}),128))])):(r(),m("div",Ka,[i[21]||(i[21]=s("i",{class:"bi bi-calendar-x text-muted",style:{"font-size":"4rem"}},null,-1)),s("h4",Xa,t(e.translations.no_orders),1),s("p",Za,t(e.translations.no_orders_description),1)])),e.orders.data.length>0?(r(),m("div",sl,[X(ls,{links:e.orders.links},null,8,["links"])])):x("",!0),_.value?(r(),H(ks,{key:3,order:d.value,employees:e.employees,translations:e.translations,onClose:i[4]||(i[4]=y=>_.value=!1),onSuccess:S},null,8,["order","employees","translations"])):x("",!0),a.value?(r(),H(Rn,{key:4,order:d.value,employees:e.employees,translations:e.translations,onClose:i[5]||(i[5]=y=>a.value=!1),onSuccess:h},null,8,["order","employees","translations"])):x("",!0),u.value?(r(),H(Cs,{key:5,order:d.value,translations:e.translations,onClose:i[6]||(i[6]=y=>u.value=!1),onSuccess:T},null,8,["order","translations"])):x("",!0)]))}},el=Q(tl,[["__scopeId","data-v-2ff04920"]]),ol={class:"row mb-4"},nl={class:"col-xl-3 col-md-6 mb-4"},al={class:"card border-left-primary shadow h-100 py-2"},ll={class:"card-body"},il={class:"row no-gutters align-items-center"},rl={class:"col mr-2"},dl={class:"text-xs font-weight-bold text-primary text-uppercase mb-1"},cl={class:"h5 mb-0 font-weight-bold text-gray-800"},ul={class:"col-xl-3 col-md-6 mb-4"},ml={class:"card border-left-success shadow h-100 py-2"},vl={class:"card-body"},bl={class:"row no-gutters align-items-center"},_l={class:"col mr-2"},pl={class:"text-xs font-weight-bold text-success text-uppercase mb-1"},hl={class:"h5 mb-0 font-weight-bold text-gray-800"},yl={class:"col-xl-3 col-md-6 mb-4"},fl={class:"card border-left-info shadow h-100 py-2"},$l={class:"card-body"},gl={class:"row no-gutters align-items-center"},xl={class:"col mr-2"},wl={class:"text-xs font-weight-bold text-info text-uppercase mb-1"},kl={class:"h5 mb-0 font-weight-bold text-gray-800"},Cl={class:"col-xl-3 col-md-6 mb-4"},Sl={class:"card border-left-warning shadow h-100 py-2"},Ul={class:"card-body"},Vl={class:"row no-gutters align-items-center"},Fl={class:"col mr-2"},Dl={class:"text-xs font-weight-bold text-warning text-uppercase mb-1"},jl={class:"h5 mb-0 font-weight-bold text-gray-800"},Il={class:"row"},Al={class:"col-xl-6 col-lg-7"},Ol={class:"card shadow mb-4"},Ml={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},ql={class:"m-0 font-weight-bold text-primary"},El={class:"card-body"},Pl={class:"mt-4 text-center small"},zl={class:"mr-2"},Rl={class:"mr-2"},Tl={class:"mr-2"},Ll={class:"col-xl-6 col-lg-5"},Nl={class:"card shadow mb-4"},Bl={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},Wl={class:"m-0 font-weight-bold text-primary"},Gl={class:"card-body"},Jl={class:"d-flex align-items-center justify-content-between mb-3"},Ql={class:"d-flex align-items-center"},Yl={class:"ms-3"},Hl={class:"small text-gray-500"},Kl={class:"font-weight-bold"},Xl={class:"d-flex align-items-center justify-content-between mb-3"},Zl={class:"d-flex align-items-center"},si={class:"ms-3"},ti={class:"small text-gray-500"},ei={class:"font-weight-bold"},oi={class:"d-flex align-items-center justify-content-between"},ni={class:"d-flex align-items-center"},ai={class:"ms-3"},li={class:"small text-gray-500"},ii={class:"font-weight-bold"},ri={__name:"AnalyticsDashboard",props:{analytics:Object,translations:Object},setup(e){const M=e,c=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(V||0);return ts(()=>{console.log("Analytics loaded:",M.analytics)}),(V,_)=>(r(),m("div",null,[s("div",ol,[s("div",nl,[s("div",al,[s("div",ll,[s("div",il,[s("div",rl,[s("div",dl,t(e.translations.decorations),1),s("div",cl,t(e.analytics.total_decorations),1)]),_[0]||(_[0]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-palette fa-2x text-gray-300"})],-1))])])])]),s("div",ul,[s("div",ml,[s("div",vl,[s("div",bl,[s("div",_l,[s("div",pl,t(e.translations.total_orders),1),s("div",hl,t(e.analytics.total_orders),1)]),_[1]||(_[1]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-calendar-check fa-2x text-gray-300"})],-1))])])])]),s("div",yl,[s("div",fl,[s("div",$l,[s("div",gl,[s("div",xl,[s("div",wl,t(e.translations.total_revenue),1),s("div",kl,t(c(e.analytics.total_revenue)),1)]),_[2]||(_[2]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-currency-dollar fa-2x text-gray-300"})],-1))])])])]),s("div",Cl,[s("div",Sl,[s("div",Ul,[s("div",Vl,[s("div",Fl,[s("div",Dl,t(e.translations.monthly_orders),1),s("div",jl,t(e.analytics.monthly_orders),1)]),_[3]||(_[3]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-graph-up fa-2x text-gray-300"})],-1))])])])])]),s("div",Il,[s("div",Al,[s("div",Ol,[s("div",Ml,[s("h6",ql,t(e.translations.orders_by_status),1)]),s("div",El,[_[7]||(_[7]=s("div",{class:"chart-pie pt-4 pb-2"},[s("canvas",{id:"ordersStatusChart"})],-1)),s("div",Pl,[s("span",zl,[_[4]||(_[4]=s("i",{class:"fas fa-circle text-primary"},null,-1)),b(" "+t(e.translations.created),1)]),s("span",Rl,[_[5]||(_[5]=s("i",{class:"fas fa-circle text-success"},null,-1)),b(" "+t(e.translations.completed),1)]),s("span",Tl,[_[6]||(_[6]=s("i",{class:"fas fa-circle text-info"},null,-1)),b(" "+t(e.translations.executing),1)])])])])]),s("div",Ll,[s("div",Nl,[s("div",Bl,[s("h6",Wl,t(e.translations.recent_activity),1)]),s("div",Gl,[s("div",Jl,[s("div",Ql,[_[8]||(_[8]=s("div",{class:"icon-circle bg-primary"},[s("i",{class:"bi bi-plus-circle text-white"})],-1)),s("div",Yl,[s("div",Hl,t(e.translations.pending_orders),1),s("div",Kl,t(e.analytics.pending_orders),1)])])]),s("div",Xl,[s("div",Zl,[_[9]||(_[9]=s("div",{class:"icon-circle bg-success"},[s("i",{class:"bi bi-check-circle text-white"})],-1)),s("div",si,[s("div",ti,t(e.translations.completed_orders),1),s("div",ei,t(e.analytics.completed_orders),1)])])]),s("div",oi,[s("div",ni,[_[10]||(_[10]=s("div",{class:"icon-circle bg-info"},[s("i",{class:"bi bi-palette text-white"})],-1)),s("div",ai,[s("div",li,t(e.translations.active)+" "+t(e.translations.decorations),1),s("div",ii,t(e.analytics.active_decorations),1)])])])])])])])]))}},di=Q(ri,[["__scopeId","data-v-19add725"]]),ci={class:"decoration-form-container"},ui={class:"modal-header"},mi={class:"modal-title"},vi={class:"modal-body decoration-modal-body"},bi={class:"progress-indicator mb-4"},_i={class:"progress-steps"},pi={class:"step-label"},hi={class:"step-label"},yi={class:"step-label"},fi={class:"step-label"},$i={class:"form-step"},gi={class:"step-header"},xi={class:"step-title"},wi={class:"step-description"},ki={class:"row"},Ci={class:"col-md-6"},Si={class:"form-group"},Ui={class:"form-label required"},Vi=["placeholder"],Fi={key:0,class:"form-feedback"},Di={class:"form-group"},ji={class:"form-label"},Ii=["placeholder"],Ai={key:0,class:"form-feedback"},Oi={class:"col-md-6"},Mi={class:"form-group"},qi={class:"form-label required"},Ei={value:""},Pi=["value"],zi={key:0,class:"form-feedback"},Ri={class:"form-group"},Ti={class:"form-label"},Li={class:"form-check form-switch"},Ni={class:"form-check-label",for:"is_active"},Bi={class:"form-step"},Wi={class:"step-header"},Gi={class:"step-title"},Ji={class:"step-description"},Qi={class:"row"},Yi={class:"col-md-6"},Hi={class:"form-group"},Ki={class:"form-label required"},Xi={value:"dinar"},Zi={value:"dollar"},sr={key:0,class:"form-feedback"},tr={class:"form-group"},er={class:"form-label required"},or=["placeholder"],nr={key:0,class:"form-feedback"},ar={class:"col-md-6"},lr={class:"form-group"},ir={class:"form-label required"},rr=["placeholder"],dr={key:0,class:"form-feedback"},cr={class:"price-display"},ur={class:"price-card"},mr={class:"price-header"},vr={class:"price-value"},br={class:"row"},_r={class:"col-md-6"},pr={class:"form-group"},hr={class:"form-label required"},yr={class:"input-group"},fr=["placeholder"],$r={class:"input-group-text"},gr={key:0,class:"form-feedback"},xr={class:"col-md-6"},wr={class:"currency-converter"},kr={class:"form-label"},Cr={class:"converter-display"},Sr={class:"converted-item"},Ur={class:"currency-label"},Vr={class:"currency-value"},Fr={class:"converted-item"},Dr={class:"currency-label"},jr={class:"currency-value"},Ir={class:"form-step"},Ar={class:"step-header"},Or={class:"step-title"},Mr={class:"step-description"},qr={class:"row"},Er={class:"col-md-4"},Pr={class:"form-group"},zr={class:"form-label"},Rr={class:"input-group"},Tr=["placeholder"],Lr={class:"input-group-text"},Nr={class:"col-md-4"},Br={class:"form-group"},Wr={class:"form-label"},Gr={class:"input-group"},Jr=["placeholder"],Qr={class:"input-group-text"},Yr={class:"col-md-4"},Hr={class:"form-group"},Kr={class:"form-label"},Xr={class:"input-group"},Zr=["placeholder"],sd={class:"input-group-text"},td={class:"cost-summary"},ed={class:"summary-title"},od={class:"summary-items"},nd={class:"summary-item"},ad={class:"summary-item"},ld={class:"summary-item"},id={class:"summary-item total"},rd={class:"form-step"},dd={class:"step-header"},cd={class:"step-title"},ud={class:"step-description"},md={class:"row"},vd={class:"col-md-6"},bd={class:"form-group"},_d={class:"form-label"},pd={key:0,class:"upload-placeholder"},hd={key:1,class:"image-preview-container"},yd=["src"],fd={class:"col-md-6"},$d={class:"form-group"},gd={class:"form-label"},xd={key:0,class:"upload-placeholder"},wd={key:1,class:"images-grid"},kd=["src"],Cd=["onClick"],Sd={class:"row"},Ud={class:"col-12"},Vd={class:"form-group"},Fd={class:"form-label"},Dd={class:"video-upload-section"},jd={class:"row"},Id={class:"col-md-6"},Ad={key:0,class:"upload-placeholder"},Od={key:1,class:"video-preview-container"},Md=["src"],qd={class:"col-md-6"},Ed={class:"form-group"},Pd={class:"form-label"},zd=["placeholder"],Rd={class:"form-text text-muted"},Td={class:"media-summary"},Ld={class:"summary-title"},Nd={class:"summary-items"},Bd={class:"summary-item"},Wd={class:"summary-item"},Gd={class:"summary-item"},Jd={class:"modal-footer"},Qd=["disabled"],Yd=["disabled"],Hd={key:0,class:"spinner-border spinner-border-sm me-2"},Kd={__name:"CreateDecorationForm",props:{translations:Object,exchangeRate:{type:Number,default:1500},decorationTypes:{type:Array,default:()=>[]}},emits:["success","cancel"],setup(e,{emit:M}){const c=e,V=M,_=j(!1),a=j(1),u=j({}),d=j(null),v=j(null),w=j(null),C=j(null),k=j([]),I=j(null),E=j(null),P=j([]),A=j(null),n=K({name:"",description:"",type:"",currency:"dinar",base_price:"",base_price_dinar:"",base_price_dollar:"",duration_hours:"",team_size:"",is_active:!0,materials_cost:0,labor_cost:0,transportation_cost:0,video_url:""}),l=as(()=>a.value===1?n.name&&n.type:a.value===2?n.base_price&&n.duration_hours&&n.team_size:!0),f=()=>{a.value<4&&a.value++},z=()=>{a.value>1&&a.value--},S=g=>{u.value[g]&&delete u.value[g]},h=()=>{n.base_price&&T()},T=()=>{const g=parseFloat(n.base_price)||0;n.currency==="dinar"?(n.base_price_dinar=g,n.base_price_dollar=(g/c.exchangeRate).toFixed(2)):(n.base_price_dollar=g,n.base_price_dinar=(g*c.exchangeRate).toFixed(0))},F=()=>n.currency==="dinar"?c.translations.enter_price_dinar:c.translations.enter_price_dollar,i=()=>`${n.base_price||0} ${N()}`,y=()=>`${n.base_price_dinar||0} ${c.translations.dinar}`,Z=()=>`${n.base_price_dollar||0} ${c.translations.dollar}`,N=()=>n.currency==="dinar"?c.translations.dinar:c.translations.dollar,G=g=>`${(parseFloat(g)||0).toLocaleString()} ${N()}`,is=()=>{const g=parseFloat(n.materials_cost)||0,o=parseFloat(n.labor_cost)||0,p=parseFloat(n.transportation_cost)||0;return g+o+p},rs=()=>{var g;(g=d.value)==null||g.click()},ds=()=>{var g;(g=v.value)==null||g.click()},cs=()=>{var g;(g=w.value)==null||g.click()},us=g=>{const o=g.target.files[0];if(o){E.value=o;const p=new FileReader;p.onload=O=>{C.value=O.target.result},p.readAsDataURL(o)}},ms=g=>{const o=g.dataTransfer.files;if(o.length>0){const p=o[0];if(p.type.startsWith("image/")){E.value=p;const O=new FileReader;O.onload=J=>{C.value=J.target.result},O.readAsDataURL(p)}}},vs=()=>{C.value=null,E.value=null,d.value&&(d.value.value="")},bs=g=>{Array.from(g.target.files).forEach(p=>{if(p.type.startsWith("image/")&&k.value.length<10){P.value.push(p);const O=new FileReader;O.onload=J=>{k.value.push(J.target.result)},O.readAsDataURL(p)}})},_s=g=>{Array.from(g.dataTransfer.files).forEach(p=>{if(p.type.startsWith("image/")&&k.value.length<10){P.value.push(p);const O=new FileReader;O.onload=J=>{k.value.push(J.target.result)},O.readAsDataURL(p)}})},ps=g=>{k.value.splice(g,1),P.value.splice(g,1)},hs=g=>{const o=g.target.files[0];if(o){A.value=o;const p=new FileReader;p.onload=O=>{I.value=O.target.result},p.readAsDataURL(o)}},ys=g=>{const o=g.dataTransfer.files;if(o.length>0){const p=o[0];if(p.type.startsWith("video/")){A.value=p;const O=new FileReader;O.onload=J=>{I.value=J.target.result},O.readAsDataURL(p)}}},fs=()=>{I.value=null,A.value=null,w.value&&(w.value.value="")},es=()=>{_.value=!0,n.base_price&&(!n.base_price_dinar||!n.base_price_dollar)&&T();const g=new FormData;Object.keys(n).forEach(o=>{o!=="video_url"&&n[o]!==null&&n[o]!==void 0&&(typeof n[o]=="boolean"?g.append(o,n[o]?"1":"0"):o!=="base_price_dinar"&&o!=="base_price_dollar"&&g.append(o,n[o]))}),E.value&&g.append("main_image",E.value),P.value.forEach((o,p)=>{g.append(`images[${p}]`,o)}),A.value?g.append("video",A.value):n.video_url&&g.append("video_url",n.video_url),g.append("base_price",parseFloat(n.base_price)||0),g.append("materials_cost",parseFloat(n.materials_cost)||0),g.append("labor_cost",parseFloat(n.labor_cost)||0),g.append("transportation_cost",parseFloat(n.transportation_cost)||0),R.post(route("decorations.store"),g,{onSuccess:()=>{_.value=!1,V("success")},onError:o=>{_.value=!1,console.error("Validation errors:",o),o&&Object.keys(o).forEach(p=>{console.error(`${p}: ${o[p]}`)})}})};return(g,o)=>(r(),m("div",ci,[s("div",ui,[s("h4",mi,[o[21]||(o[21]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(e.translations.add_decoration),1)])]),s("div",vi,[s("div",bi,[s("div",_i,[s("div",{class:D(["step",{active:a.value>=1,completed:a.value>1}])},[o[22]||(o[22]=s("div",{class:"step-number"},"1",-1)),s("div",pi,t(e.translations.basic_information),1)],2),s("div",{class:D(["step",{active:a.value>=2,completed:a.value>2}])},[o[23]||(o[23]=s("div",{class:"step-number"},"2",-1)),s("div",hi,t(e.translations.pricing_details),1)],2),s("div",{class:D(["step",{active:a.value>=3,completed:a.value>3}])},[o[24]||(o[24]=s("div",{class:"step-number"},"3",-1)),s("div",yi,t(e.translations.additional_details),1)],2),s("div",{class:D(["step",{active:a.value>=4,completed:a.value>4}])},[o[25]||(o[25]=s("div",{class:"step-number"},"4",-1)),s("div",fi,t(e.translations.media_upload),1)],2)])]),s("form",{onSubmit:q(es,["prevent"]),class:"decoration-form"},[$(s("div",$i,[s("div",gi,[s("h5",xi,[o[26]||(o[26]=s("i",{class:"bi bi-info-circle text-primary"},null,-1)),b(" "+t(e.translations.basic_information),1)]),s("p",wi,t(e.translations.fill_basic_info),1)]),s("div",ki,[s("div",Ci,[s("div",Si,[s("label",Ui,[o[27]||(o[27]=s("i",{class:"bi bi-tag"},null,-1)),b(" "+t(e.translations.decoration_name),1)]),$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=p=>n.name=p),placeholder:e.translations.enter_decoration_name,required:"",onInput:o[1]||(o[1]=p=>S("name"))},null,40,Vi),[[U,n.name]]),u.value.name?(r(),m("div",Fi,t(u.value.name),1)):x("",!0)]),s("div",Di,[s("label",ji,[o[28]||(o[28]=s("i",{class:"bi bi-file-text"},null,-1)),b(" "+t(e.translations.decoration_description),1)]),$(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[2]||(o[2]=p=>n.description=p),placeholder:e.translations.enter_description,onInput:o[3]||(o[3]=p=>S("description"))},null,40,Ii),[[U,n.description]]),u.value.description?(r(),m("div",Ai,t(u.value.description),1)):x("",!0)])]),s("div",Oi,[s("div",Mi,[s("label",qi,[o[29]||(o[29]=s("i",{class:"bi bi-grid"},null,-1)),b(" "+t(e.translations.decoration_type),1)]),$(s("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=p=>n.type=p),required:"",onChange:o[5]||(o[5]=p=>S("type"))},[s("option",Ei,t(e.translations.select_type),1),(r(!0),m(B,null,W(e.decorationTypes,p=>(r(),m("option",{key:p.value,value:p.value},t(p.label_ar),9,Pi))),128))],544),[[L,n.type]]),u.value.type?(r(),m("div",zi,t(u.value.type),1)):x("",!0)]),s("div",Ri,[s("label",Ti,[o[30]||(o[30]=s("i",{class:"bi bi-toggle-on"},null,-1)),b(" "+t(e.translations.status),1)]),s("div",Li,[$(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=p=>n.is_active=p),id:"is_active"},null,512),[[ns,n.is_active]]),s("label",Ni,t(n.is_active?e.translations.active:e.translations.inactive),1)])])])])],512),[[Y,a.value===1]]),$(s("div",Bi,[s("div",Wi,[s("h5",Gi,[o[31]||(o[31]=s("i",{class:"bi bi-currency-dollar text-success"},null,-1)),b(" "+t(e.translations.pricing_details),1)]),s("p",Ji,t(e.translations.set_pricing_info),1)]),s("div",Qi,[s("div",Yi,[s("div",Hi,[s("label",Ki,[o[32]||(o[32]=s("i",{class:"bi bi-globe"},null,-1)),b(" "+t(e.translations.currency),1)]),$(s("select",{class:"form-select","onUpdate:modelValue":o[7]||(o[7]=p=>n.currency=p),required:"",onChange:h},[s("option",Xi,t(e.translations.dinar),1),s("option",Zi,t(e.translations.dollar),1)],544),[[L,n.currency]]),u.value.currency?(r(),m("div",sr,t(u.value.currency),1)):x("",!0)]),s("div",tr,[s("label",er,[o[33]||(o[33]=s("i",{class:"bi bi-clock"},null,-1)),b(" "+t(e.translations.duration_hours),1)]),$(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=p=>n.duration_hours=p),placeholder:e.translations.enter_duration,min:"1",max:"24",required:"",onInput:o[9]||(o[9]=p=>S("duration_hours"))},null,40,or),[[U,n.duration_hours]]),u.value.duration_hours?(r(),m("div",nr,t(u.value.duration_hours),1)):x("",!0)])]),s("div",ar,[s("div",lr,[s("label",ir,[o[34]||(o[34]=s("i",{class:"bi bi-people"},null,-1)),b(" "+t(e.translations.team_size),1)]),$(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=p=>n.team_size=p),placeholder:e.translations.enter_team_size,min:"1",max:"20",required:"",onInput:o[11]||(o[11]=p=>S("team_size"))},null,40,rr),[[U,n.team_size]]),u.value.team_size?(r(),m("div",dr,t(u.value.team_size),1)):x("",!0)]),s("div",cr,[s("div",ur,[s("div",mr,[o[35]||(o[35]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.current_price),1)]),s("div",vr,t(i()),1)])])])]),s("div",br,[s("div",_r,[s("div",pr,[s("label",hr,[o[36]||(o[36]=s("i",{class:"bi bi-currency-exchange"},null,-1)),b(" "+t(e.translations.base_price),1)]),s("div",yr,[$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=p=>n.base_price=p),placeholder:F(),min:"0",required:"",onInput:T},null,40,fr),[[U,n.base_price]]),s("span",$r,t(N()),1)]),u.value.base_price?(r(),m("div",gr,t(u.value.base_price),1)):x("",!0)])]),s("div",xr,[s("div",wr,[s("label",kr,[o[37]||(o[37]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.converted_price),1)]),s("div",Cr,[s("div",Sr,[s("span",Ur,t(e.translations.dinar)+":",1),s("span",Vr,t(y()),1)]),s("div",Fr,[s("span",Dr,t(e.translations.dollar)+":",1),s("span",jr,t(Z()),1)])])])])])],512),[[Y,a.value===2]]),$(s("div",Ir,[s("div",Ar,[s("h5",Or,[o[38]||(o[38]=s("i",{class:"bi bi-gear text-info"},null,-1)),b(" "+t(e.translations.additional_details),1)]),s("p",Mr,t(e.translations.set_additional_costs),1)]),s("div",qr,[s("div",Er,[s("div",Pr,[s("label",zr,[o[39]||(o[39]=s("i",{class:"bi bi-box"},null,-1)),b(" "+t(e.translations.materials_cost),1)]),s("div",Rr,[$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=p=>n.materials_cost=p),placeholder:e.translations.enter_materials_cost,min:"0"},null,8,Tr),[[U,n.materials_cost]]),s("span",Lr,t(N()),1)])])]),s("div",Nr,[s("div",Br,[s("label",Wr,[o[40]||(o[40]=s("i",{class:"bi bi-person-workspace"},null,-1)),b(" "+t(e.translations.labor_cost),1)]),s("div",Gr,[$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=p=>n.labor_cost=p),placeholder:e.translations.enter_labor_cost,min:"0"},null,8,Jr),[[U,n.labor_cost]]),s("span",Qr,t(N()),1)])])]),s("div",Yr,[s("div",Hr,[s("label",Kr,[o[41]||(o[41]=s("i",{class:"bi bi-truck"},null,-1)),b(" "+t(e.translations.transportation_cost),1)]),s("div",Xr,[$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=p=>n.transportation_cost=p),placeholder:e.translations.enter_transportation_cost,min:"0"},null,8,Zr),[[U,n.transportation_cost]]),s("span",sd,t(N()),1)])])])]),s("div",td,[s("h6",ed,[o[42]||(o[42]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.cost_summary),1)]),s("div",od,[s("div",nd,[s("span",null,t(e.translations.materials_cost)+":",1),s("span",null,t(G(n.materials_cost)),1)]),s("div",ad,[s("span",null,t(e.translations.labor_cost)+":",1),s("span",null,t(G(n.labor_cost)),1)]),s("div",ld,[s("span",null,t(e.translations.transportation_cost)+":",1),s("span",null,t(G(n.transportation_cost)),1)]),s("div",id,[s("span",null,t(e.translations.total_cost)+":",1),s("span",null,t(G(is())),1)])])])],512),[[Y,a.value===3]]),$(s("div",rd,[s("div",dd,[s("h5",cd,[o[43]||(o[43]=s("i",{class:"bi bi-camera text-warning"},null,-1)),b(" "+t(e.translations.media_upload),1)]),s("p",ud,t(e.translations.upload_images_videos),1)]),s("div",md,[s("div",vd,[s("div",bd,[s("label",_d,[o[44]||(o[44]=s("i",{class:"bi bi-image"},null,-1)),b(" "+t(e.translations.main_image),1)]),s("div",{class:"upload-area",onClick:rs,onDragover:o[16]||(o[16]=q(()=>{},["prevent"])),onDrop:q(ms,["prevent"])},[s("input",{ref_key:"mainImageInput",ref:d,type:"file",accept:"image/*",onChange:us,style:{display:"none"}},null,544),C.value?(r(),m("div",hd,[s("img",{src:C.value,alt:"Main Image Preview",class:"preview-image"},null,8,yd),s("button",{type:"button",onClick:q(vs,["stop"]),class:"remove-image-btn"},o[46]||(o[46]=[s("i",{class:"bi bi-x"},null,-1)]))])):(r(),m("div",pd,[o[45]||(o[45]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_image),1),s("small",null,t(e.translations.supported_formats),1)]))],32)])]),s("div",fd,[s("div",$d,[s("label",gd,[o[47]||(o[47]=s("i",{class:"bi bi-images"},null,-1)),b(" "+t(e.translations.additional_images),1)]),s("div",{class:"upload-area",onClick:ds,onDragover:o[17]||(o[17]=q(()=>{},["prevent"])),onDrop:q(_s,["prevent"])},[s("input",{ref_key:"additionalImagesInput",ref:v,type:"file",accept:"image/*",multiple:"",onChange:bs,style:{display:"none"}},null,544),k.value.length===0?(r(),m("div",xd,[o[48]||(o[48]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_multiple_images),1),s("small",null,t(e.translations.max_images_limit),1)])):(r(),m("div",wd,[(r(!0),m(B,null,W(k.value,(p,O)=>(r(),m("div",{key:O,class:"image-item"},[s("img",{src:p,alt:"Additional Image Preview",class:"preview-image"},null,8,kd),s("button",{type:"button",onClick:q(J=>ps(O),["stop"]),class:"remove-image-btn"},o[49]||(o[49]=[s("i",{class:"bi bi-x"},null,-1)]),8,Cd)]))),128))]))],32)])])]),s("div",Sd,[s("div",Ud,[s("div",Vd,[s("label",Fd,[o[50]||(o[50]=s("i",{class:"bi bi-play-circle"},null,-1)),b(" "+t(e.translations.video_upload),1)]),s("div",Dd,[s("div",jd,[s("div",Id,[s("div",{class:"upload-area",onClick:cs,onDragover:o[18]||(o[18]=q(()=>{},["prevent"])),onDrop:q(ys,["prevent"])},[s("input",{ref_key:"videoInput",ref:w,type:"file",accept:"video/*",onChange:hs,style:{display:"none"}},null,544),I.value?(r(),m("div",Od,[s("video",{src:I.value,controls:"",class:"preview-video"},null,8,Md),s("button",{type:"button",onClick:q(fs,["stop"]),class:"remove-video-btn"},o[52]||(o[52]=[s("i",{class:"bi bi-x"},null,-1)]))])):(r(),m("div",Ad,[o[51]||(o[51]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_video),1),s("small",null,t(e.translations.supported_video_formats),1)]))],32)]),s("div",qd,[s("div",Ed,[s("label",Pd,[o[53]||(o[53]=s("i",{class:"bi bi-link-45deg"},null,-1)),b(" "+t(e.translations.video_url_alternative),1)]),$(s("input",{type:"url",class:"form-control","onUpdate:modelValue":o[19]||(o[19]=p=>n.video_url=p),placeholder:e.translations.enter_video_url},null,8,zd),[[U,n.video_url]]),s("small",Rd,t(e.translations.or_enter_video_url),1)])])])])])])]),s("div",Td,[s("h6",Ld,[o[54]||(o[54]=s("i",{class:"bi bi-collection"},null,-1)),b(" "+t(e.translations.media_summary),1)]),s("div",Nd,[s("div",Bd,[s("span",null,t(e.translations.main_image)+":",1),s("span",null,t(C.value?e.translations.uploaded:e.translations.not_uploaded),1)]),s("div",Wd,[s("span",null,t(e.translations.additional_images)+":",1),s("span",null,t(k.value.length)+" "+t(e.translations.images),1)]),s("div",Gd,[s("span",null,t(e.translations.video)+":",1),s("span",null,t(I.value||n.video_url?e.translations.uploaded:e.translations.not_uploaded),1)])])])],512),[[Y,a.value===4]])],32)]),s("div",Jd,[s("button",{type:"button",class:"btn btn-outline-secondary",onClick:z,disabled:a.value===1},[o[55]||(o[55]=s("i",{class:"bi bi-arrow-left"},null,-1)),b(" "+t(e.translations.previous),1)],8,Qd),a.value<4?(r(),m("button",{key:0,type:"button",class:"btn btn-outline-primary",onClick:f},[b(t(e.translations.next)+" ",1),o[56]||(o[56]=s("i",{class:"bi bi-arrow-right"},null,-1))])):x("",!0),a.value===4?(r(),m("button",{key:1,type:"submit",class:"btn btn-success",disabled:_.value||!l.value,onClick:es},[_.value?(r(),m("span",Hd)):x("",!0),o[57]||(o[57]=s("i",{class:"bi bi-check-circle"},null,-1)),b(" "+t(e.translations.save),1)],8,Yd)):x("",!0),s("button",{type:"button",class:"btn btn-outline-danger",onClick:o[20]||(o[20]=p=>g.$emit("cancel"))},[o[58]||(o[58]=s("i",{class:"bi bi-x-circle"},null,-1)),b(" "+t(e.translations.cancel),1)])])]))}},Xd=Q(Kd,[["__scopeId","data-v-d464bf3f"]]),Zd={class:"d-flex justify-content-between align-items-center"},sc={class:"font-semibold text-xl text-gray-800 leading-tight"},tc={class:"d-flex gap-2"},ec={class:"py-12"},oc={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},nc={class:"card mb-4"},ac={class:"card-header"},lc={class:"nav nav-tabs card-header-tabs",role:"tablist"},ic={class:"nav-item",role:"presentation"},rc={class:"badge bg-primary ms-2"},dc={class:"nav-item",role:"presentation"},cc={class:"badge bg-success ms-2"},uc={class:"nav-item",role:"presentation"},mc={class:"tab-content"},vc={key:0,class:"modal-mask"},bc={class:"modal-wrapper"},_c={class:"modal-container"},pc={class:"modal-header"},hc={class:"modal-body"},yc={__name:"Dashboard",props:{decorations:Object,orders:Object,customers:Array,employees:Array,analytics:Object,translations:Object,exchangeRate:{type:Number,default:1500},decorationTypes:{type:Array,default:()=>[]},activeTabProp:{type:String,default:"decorations"}},setup(e){const M=$s(),c=e,V=j(c.activeTabProp),_=j(!1),a=as(()=>c.translations||{}),u=()=>{R.reload({only:["decorations","orders","analytics"]})},d=()=>{_.value=!1,u()},v=C=>M.props.auth_permissions&&M.props.auth_permissions.includes(C),w=C=>{V.value=C,R.get(route("decorations.dashboard"),{tab:C},{preserveState:!0,replace:!0})};return(C,k)=>(r(),H(ws,{translations:a.value},{header:ss(()=>[s("div",Zd,[s("h2",sc,t(a.value.decorations_dashboard),1),s("div",tc,[v("create decoration")?(r(),m("button",{key:0,class:"btn btn-primary",onClick:k[0]||(k[0]=I=>_.value=!0)},[k[8]||(k[8]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(a.value.create_decoration),1)])):x("",!0),v("read decoration")?(r(),H(gs(xs),{key:1,href:C.route("decorations.orders.simple"),class:"btn btn-success"},{default:ss(()=>k[9]||(k[9]=[s("i",{class:"bi bi-table"},null,-1),b(" 📊 عرض بسيط (Excel) ")])),_:1},8,["href"])):x("",!0),v("read decoration")?(r(),m("button",{key:2,class:"btn btn-info",onClick:k[1]||(k[1]=I=>w("orders"))},[k[10]||(k[10]=s("i",{class:"bi bi-calendar-check"},null,-1)),b(" "+t(a.value.decoration_orders),1)])):x("",!0)])])]),default:ss(()=>{var I,E,P,A;return[s("div",ec,[s("div",oc,[s("div",nc,[s("div",ac,[s("ul",lc,[s("li",ic,[s("button",{class:D(["nav-link",{active:V.value==="decorations"}]),onClick:k[2]||(k[2]=n=>w("decorations")),type:"button"},[k[11]||(k[11]=s("i",{class:"bi bi-palette"},null,-1)),b(" "+t(a.value.decorations)+" ",1),s("span",rc,t(((E=(I=e.decorations)==null?void 0:I.data)==null?void 0:E.length)||0),1)],2)]),s("li",dc,[s("button",{class:D(["nav-link",{active:V.value==="orders"}]),onClick:k[3]||(k[3]=n=>w("orders")),type:"button"},[k[12]||(k[12]=s("i",{class:"bi bi-calendar-check"},null,-1)),b(" "+t(a.value.decoration_orders)+" ",1),s("span",cc,t(((A=(P=e.orders)==null?void 0:P.data)==null?void 0:A.length)||0),1)],2)]),s("li",uc,[s("button",{class:D(["nav-link",{active:V.value==="analytics"}]),onClick:k[4]||(k[4]=n=>w("analytics")),type:"button"},[k[13]||(k[13]=s("i",{class:"bi bi-graph-up"},null,-1)),b(" "+t(a.value.statistics),1)],2)])])])]),s("div",mc,[$(s("div",{class:D(["tab-pane fade",{"show active":V.value==="decorations"}])},[X($n,{decorations:e.decorations,customers:e.customers,translations:a.value,onCreateDecoration:k[5]||(k[5]=n=>_.value=!0),onRefresh:u},null,8,["decorations","customers","translations"])],2),[[Y,V.value==="decorations"]]),$(s("div",{class:D(["tab-pane fade",{"show active":V.value==="orders"}])},[X(el,{orders:e.orders,employees:e.employees,translations:a.value,onRefresh:u},null,8,["orders","employees","translations"])],2),[[Y,V.value==="orders"]]),$(s("div",{class:D(["tab-pane fade",{"show active":V.value==="analytics"}])},[X(di,{analytics:e.analytics,translations:a.value},null,8,["analytics","translations"])],2),[[Y,V.value==="analytics"]])])])]),_.value?(r(),m("div",vc,[s("div",bc,[s("div",_c,[s("div",pc,[s("h3",null,t(a.value.create_decoration),1),s("button",{onClick:k[6]||(k[6]=n=>_.value=!1),class:"btn-close"})]),s("div",hc,[X(Xd,{translations:a.value,exchangeRate:e.exchangeRate,decorationTypes:e.decorationTypes,onSuccess:d,onCancel:k[7]||(k[7]=n=>_.value=!1)},null,8,["translations","exchangeRate","decorationTypes"])])])])])):x("",!0)]}),_:1},8,["translations"]))}},Cc=Q(yc,[["__scopeId","data-v-640a1ffa"]]);export{Cc as default};
