import{r as f,T as v,a as i,h,w,b as s,t as n,j as g,l as d,x as m,u as t,i as u,A as x,c,f as y,F as k,v as V,e as _,d as U}from"./app-3XmFid0x.js";import{_ as E}from"./AuthenticatedLayout-CB5i1jAM.js";import{_ as p}from"./InputError-BlSIuM29.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"section dashboard"},B={class:"row"},C={class:"col-lg-12"},M={class:"card"},S={class:"card-body"},T={class:"card-title"},R={class:"row mb-3"},j={for:"inputText",class:"col-sm-2 col-form-label"},A={class:"col-sm-10"},D=["placeholder"],F={class:"row mb-3"},P={for:"inputEmail",class:"col-sm-2 col-form-label"},$={class:"col-sm-10"},I=["placeholder"],L={class:"row mb-3"},O={for:"inputPassword",class:"col-sm-2 col-form-label"},q={class:"col-sm-10"},z=["placeholder"],G={class:"row mb-3"},H={for:"inputPassword",class:"col-sm-2 col-form-label"},J={class:"col-sm-10"},K={value:"",disabled:""},Q=["value"],W={class:"row mb-3"},X={class:"col-sm-10"},Y={class:"form-check form-switch mb-2"},Z={class:"input-group"},ss=["disabled"],es={class:"row mb-3"},os={for:"inputNumber",class:"col-sm-2 col-form-label"},ts={class:"col-sm-10"},ls=["value"],as={class:"text-center"},ns=["disabled"],rs={key:0,class:"bi bi-save"},is={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ps={__name:"Create",props:{roles:Object,translations:Array},setup(a){const r=f(!1),o=v({name:"",email:"",password:"",selectedRoles:"",avatar:null,commission_enabled:!1,commission_rate_percent:0}),b=()=>{r.value=!0,o.post(route("users.store"),{onSuccess:()=>{r.value=!1},onError:()=>{r.value=!1}})};return(ds,e)=>(i(),h(E,{translations:a.translations},{default:w(()=>[s("section",N,[s("div",B,[s("div",C,[s("div",M,[s("div",S,[s("h5",T,n(a.translations.add_new_user),1),s("form",{onSubmit:g(b,["prevent"]),class:"row g-3"},[s("div",R,[s("label",j,n(a.translations.name),1),s("div",A,[d(s("input",{type:"text",class:"form-control",placeholder:a.translations.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).name=l)},null,8,D),[[m,t(o).name]]),u(p,{message:t(o).errors.name},null,8,["message"])])]),s("div",F,[s("label",P,n(a.translations.email),1),s("div",$,[d(s("input",{type:"email",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=l=>t(o).email=l),placeholder:a.translations.email},null,8,I),[[m,t(o).email]]),u(p,{message:t(o).errors.email},null,8,["message"])])]),s("div",L,[s("label",O,n(a.translations.password),1),s("div",q,[d(s("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=l=>t(o).password=l),placeholder:a.translations.password},null,8,z),[[m,t(o).password]]),u(p,{message:t(o).errors.password},null,8,["message"])])]),s("div",G,[s("label",H,n(a.translations.roles),1),s("div",J,[d(s("select",{name:"roles[]",class:"form-control",multiple:"","onUpdate:modelValue":e[3]||(e[3]=l=>t(o).selectedRoles=l)},[s("option",K,n(a.translations.roles),1),(i(!0),c(k,null,y(a.roles,l=>(i(),c("option",{key:l,value:l},n(l),9,Q))),128))],512),[[x,t(o).selectedRoles]])])]),s("div",W,[e[10]||(e[10]=s("label",{class:"col-sm-2 col-form-label"},"عمولة الديكورات",-1)),s("div",X,[s("div",Y,[d(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=l=>t(o).commission_enabled=l),id:"commissionEnabled"},null,512),[[V,t(o).commission_enabled]]),e[7]||(e[7]=s("label",{class:"form-check-label",for:"commissionEnabled"},"تفعيل نسبة العمولة",-1))]),s("div",Z,[d(s("input",{type:"number",step:"0.01",min:"0",max:"100",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=l=>t(o).commission_rate_percent=l),disabled:!t(o).commission_enabled,placeholder:"% نسبة العمولة (مثال: 5)"},null,8,ss),[[m,t(o).commission_rate_percent]]),e[8]||(e[8]=s("span",{class:"input-group-text"},"%",-1))]),e[9]||(e[9]=s("small",{class:"text-muted"},"تحسب العمولة من سعر المبيع النهائي للديكور.",-1))])]),s("div",es,[s("label",os,n(a.translations.avatar),1),s("div",ts,[s("input",{type:"file",onInput:e[6]||(e[6]=l=>t(o).avatar=l.target.files[0])},null,32),t(o).progress?(i(),c("progress",{key:0,value:t(o).progress.percentage,max:"100"},n(t(o).progress.percentage)+"% ",9,ls)):_("",!0)])]),s("div",as,[s("button",{type:"submit",class:"btn btn-primary",disabled:r.value},[U(n(a.translations.save)+"   ",1),r.value?_("",!0):(i(),c("i",rs)),r.value?(i(),c("span",is)):_("",!0)],8,ns)])],32)])])])])])]),_:1},8,["translations"]))}};export{ps as default};
