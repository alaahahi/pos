import{r as m,x as os,k as is,C as as,a as u,c as ns,w as V,b as s,i as A,d as i,n as I,j as b,l as r,H as F,y as v,A as L,v as rs,t as d,e as c,F as M,g as R,f as h,h as ds}from"./app-rrtI315f.js";import{_ as us}from"./AuthenticatedLayout-CiFcEoWJ.js";import{_ as cs}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ps={class:"pagetitle"},ms={class:"breadcrumb"},vs={class:"breadcrumb-item"},bs={class:"section"},_s={class:"row"},fs={class:"col-lg-12"},gs={class:"card decoration-create-card"},ys={class:"card-body decoration-create-body"},ks={class:"progress-indicator mb-4"},hs={class:"progress-steps"},ws={class:"form-step"},Cs={class:"row"},xs={class:"col-md-6"},Is={class:"form-group"},Fs={class:"form-group"},Us={class:"col-md-6"},Vs={class:"form-group"},Ds={class:"form-group"},$s={class:"form-check form-switch"},Ps={class:"form-check-label",for:"is_active"},qs={class:"form-step"},As={class:"row"},Ls={class:"col-md-6"},Ms={class:"form-group"},Rs={class:"form-group"},Ts={class:"col-md-6"},Ss={class:"form-group"},Ys={class:"price-display"},Es={class:"price-card"},zs={class:"price-value"},Bs={class:"row"},Ns={class:"col-md-6"},js={class:"form-group"},Ws={class:"input-group"},Gs=["placeholder"],Os={class:"input-group-text"},Hs={class:"col-md-6"},Js={class:"currency-converter"},Ks={class:"converter-display"},Qs={class:"converted-item"},Xs={class:"currency-value"},Zs={class:"converted-item"},se={class:"currency-value"},ee={class:"form-step"},te={class:"row"},le={class:"col-md-4"},oe={class:"form-group"},ie={class:"input-group"},ae={class:"input-group-text"},ne={class:"col-md-4"},re={class:"form-group"},de={class:"input-group"},ue={class:"input-group-text"},ce={class:"col-md-4"},pe={class:"form-group"},me={class:"input-group"},ve={class:"input-group-text"},be={class:"cost-summary"},_e={class:"summary-items"},fe={class:"summary-item"},ge={class:"summary-item"},ye={class:"summary-item"},ke={class:"summary-item total"},he={class:"form-step"},we={class:"row"},Ce={class:"col-md-6"},xe={class:"form-group"},Ie={key:0,class:"upload-placeholder"},Fe={key:1,class:"image-preview-container"},Ue=["src"],Ve={class:"col-md-6"},De={class:"form-group"},$e={key:0,class:"upload-placeholder"},Pe={key:1,class:"images-grid"},qe=["src"],Ae=["onClick"],Le={class:"row"},Me={class:"col-12"},Re={class:"form-group"},Te={class:"youtube-links-section"},Se={class:"input-group"},Ye=["onUpdate:modelValue","placeholder"],Ee=["onClick"],ze={class:"media-summary"},Be={class:"summary-items"},Ne={class:"summary-item"},je={class:"summary-item"},We={class:"summary-item"},Ge={class:"card-footer"},Oe={class:"d-flex justify-content-between"},He=["disabled"],Je={class:"d-flex gap-2"},Ke=["disabled"],Qe={key:0,class:"spinner-border spinner-border-sm me-2"},Xe={__name:"Create",props:{translations:Object},setup(T){const w=m(!1),n=m(1),C=m(null),D=m(null);m(null);const _=m(null),f=m([]);m(null);const k=m(null),g=m([]);m(null);const t=os({name:"",type:"",description:"",base_price:"",currency:"dinar",duration_hours:"",team_size:"",is_featured:!1,is_active:!0,youtube_links:[""],materials_cost:"",labor_cost:"",transportation_cost:""}),$=m(1500),S=is(()=>t.name&&t.type&&t.base_price&&t.duration_hours&&t.team_size),Y=()=>{n.value<4&&n.value++},E=()=>{n.value>1&&n.value--},z=()=>{t.base_price=""},B=()=>{},y=()=>t.currency==="dinar"?"د.ع":"$",N=()=>t.currency==="dinar"?"أدخل السعر بالدينار":"أدخل السعر بالدولار",j=()=>t.base_price?`${parseFloat(t.base_price).toFixed(2)} ${y()}`:"0.00",W=()=>{if(!t.base_price)return"0.00 د.ع";const l=t.currency==="dinar"?t.base_price:t.base_price*$.value;return`${parseFloat(l).toFixed(2)} د.ع`},G=()=>{if(!t.base_price)return"0.00 $";const l=t.currency==="dollar"?t.base_price:t.base_price/$.value;return`${parseFloat(l).toFixed(2)} $`},x=l=>l?`${parseFloat(l).toFixed(2)} ${y()}`:"0.00",O=()=>{const l=parseFloat(t.materials_cost)||0,e=parseFloat(t.labor_cost)||0,a=parseFloat(t.transportation_cost)||0;return l+e+a},H=()=>{var l;(l=C.value)==null||l.click()},J=()=>{var l;(l=D.value)==null||l.click()},K=l=>{const e=l.target.files[0];if(e){k.value=e;const a=new FileReader;a.onload=o=>{_.value=o.target.result},a.readAsDataURL(e)}},Q=l=>{const e=l.dataTransfer.files[0];if(e&&e.type.startsWith("image/")){k.value=e;const a=new FileReader;a.onload=o=>{_.value=o.target.result},a.readAsDataURL(e)}},X=()=>{_.value=null,k.value=null,C.value&&(C.value.value="")},Z=l=>{Array.from(l.target.files).forEach(a=>{if(a.type.startsWith("image/")&&g.value.length<10){g.value.push(a);const o=new FileReader;o.onload=p=>{f.value.push(p.target.result)},o.readAsDataURL(a)}})},ss=l=>{Array.from(l.dataTransfer.files).forEach(a=>{if(a.type.startsWith("image/")&&g.value.length<10){g.value.push(a);const o=new FileReader;o.onload=p=>{f.value.push(p.target.result)},o.readAsDataURL(a)}})},es=l=>{f.value.splice(l,1),g.value.splice(l,1)},ts=()=>{t.youtube_links.length<3&&t.youtube_links.push("")},ls=l=>{t.youtube_links.length>1&&t.youtube_links.splice(l,1)},P=()=>t.youtube_links.filter(l=>l&&l.trim()!=="").length,q=()=>{w.value=!0;const l=new FormData;Object.keys(t).forEach(e=>{t[e]!==null&&t[e]!==""&&t[e]!==void 0&&(typeof t[e]=="boolean"?l.append(e,t[e]?"1":"0"):l.append(e,t[e]))}),k.value&&l.append("main_image",k.value),g.value.forEach((e,a)=>{l.append(`images[${a}]`,e)}),t.youtube_links.forEach((e,a)=>{e&&e.trim()!==""&&l.append(`youtube_links[${a}]`,e)}),ds.post(route("decorations.store"),l,{onFinish:()=>{w.value=!1}})};return(l,e)=>{const a=as("Link");return u(),ns(us,{translations:T.translations},{default:V(()=>[s("div",ps,[e[15]||(e[15]=s("h1",null,"إضافة ديكور جديد",-1)),s("nav",null,[s("ol",ms,[s("li",vs,[A(a,{href:l.route("decorations.index")},{default:V(()=>e[13]||(e[13]=[i("الديكورات")])),_:1},8,["href"])]),e[14]||(e[14]=s("li",{class:"breadcrumb-item active"},"إضافة جديد",-1))])])]),s("section",bs,[s("div",_s,[s("div",fs,[s("div",gs,[s("div",ys,[s("div",ks,[s("div",hs,[s("div",{class:I(["step",{active:n.value>=1,completed:n.value>1}])},e[16]||(e[16]=[s("div",{class:"step-number"},"1",-1),s("div",{class:"step-label"},"المعلومات الأساسية",-1)]),2),s("div",{class:I(["step",{active:n.value>=2,completed:n.value>2}])},e[17]||(e[17]=[s("div",{class:"step-number"},"2",-1),s("div",{class:"step-label"},"تفاصيل التسعير",-1)]),2),s("div",{class:I(["step",{active:n.value>=3,completed:n.value>3}])},e[18]||(e[18]=[s("div",{class:"step-number"},"3",-1),s("div",{class:"step-label"},"التفاصيل الإضافية",-1)]),2),s("div",{class:I(["step",{active:n.value>=4,completed:n.value>4}])},e[19]||(e[19]=[s("div",{class:"step-number"},"4",-1),s("div",{class:"step-label"},"رفع الوسائط",-1)]),2)])]),s("form",{onSubmit:b(q,["prevent"])},[r(s("div",ws,[e[25]||(e[25]=s("div",{class:"step-header"},[s("h5",{class:"step-title"},[s("i",{class:"bi bi-info-circle text-primary"}),i(" المعلومات الأساسية ")]),s("p",{class:"step-description"},"املأ المعلومات الأساسية للديكور")],-1)),s("div",Cs,[s("div",xs,[s("div",Is,[e[20]||(e[20]=s("label",{class:"form-label required"},[s("i",{class:"bi bi-tag"}),i(" اسم الديكور ")],-1)),r(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>t.name=o),placeholder:"أدخل اسم الديكور",required:""},null,512),[[v,t.name]])]),s("div",Fs,[e[21]||(e[21]=s("label",{class:"form-label"},[s("i",{class:"bi bi-file-text"}),i(" وصف الديكور ")],-1)),r(s("textarea",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>t.description=o),placeholder:"أدخل وصف الديكور",rows:"4"},null,512),[[v,t.description]])])]),s("div",Us,[s("div",Vs,[e[23]||(e[23]=s("label",{class:"form-label required"},[s("i",{class:"bi bi-grid"}),i(" نوع الديكور ")],-1)),r(s("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=o=>t.type=o),required:""},e[22]||(e[22]=[s("option",{value:""},"اختر النوع",-1),s("option",{value:"birthday"},"عيد ميلاد",-1),s("option",{value:"gender_reveal"},"تحديد جنس المولود",-1),s("option",{value:"baby_shower"},"حفلة الولادة",-1),s("option",{value:"wedding"},"زفاف",-1),s("option",{value:"graduation"},"تخرج",-1),s("option",{value:"corporate"},"شركات",-1),s("option",{value:"religious"},"ديني",-1)]),512),[[L,t.type]])]),s("div",Ds,[e[24]||(e[24]=s("label",{class:"form-label"},[s("i",{class:"bi bi-toggle-on"}),i(" الحالة ")],-1)),s("div",$s,[r(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=o=>t.is_active=o),id:"is_active"},null,512),[[rs,t.is_active]]),s("label",Ps,d(t.is_active?"نشط":"غير نشط"),1)])])])])],512),[[F,n.value===1]]),r(s("div",qs,[e[35]||(e[35]=s("div",{class:"step-header"},[s("h5",{class:"step-title"},[s("i",{class:"bi bi-currency-dollar text-success"}),i(" تفاصيل التسعير ")]),s("p",{class:"step-description"},"حدد معلومات التسعير والتفاصيل")],-1)),s("div",As,[s("div",Ls,[s("div",Ms,[e[27]||(e[27]=s("label",{class:"form-label required"},[s("i",{class:"bi bi-globe"}),i(" العملة ")],-1)),r(s("select",{class:"form-select","onUpdate:modelValue":e[4]||(e[4]=o=>t.currency=o),required:"",onChange:z},e[26]||(e[26]=[s("option",{value:"dinar"},"دينار",-1),s("option",{value:"dollar"},"دولار",-1)]),544),[[L,t.currency]])]),s("div",Rs,[e[28]||(e[28]=s("label",{class:"form-label required"},[s("i",{class:"bi bi-clock"}),i(" مدة التنفيذ (ساعات) ")],-1)),r(s("input",{type:"number",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=o=>t.duration_hours=o),placeholder:"أدخل مدة التنفيذ",min:"1",max:"24",required:""},null,512),[[v,t.duration_hours]])])]),s("div",Ts,[s("div",Ss,[e[29]||(e[29]=s("label",{class:"form-label required"},[s("i",{class:"bi bi-people"}),i(" حجم الفريق ")],-1)),r(s("input",{type:"number",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=o=>t.team_size=o),placeholder:"أدخل حجم الفريق",min:"1",max:"20",required:""},null,512),[[v,t.team_size]])]),s("div",Ys,[s("div",Es,[e[30]||(e[30]=s("div",{class:"price-header"},[s("i",{class:"bi bi-calculator"}),i(" السعر الحالي ")],-1)),s("div",zs,d(j()),1)])])])]),s("div",Bs,[s("div",Ns,[s("div",js,[e[31]||(e[31]=s("label",{class:"form-label required"},[s("i",{class:"bi bi-currency-exchange"}),i(" السعر الأساسي ")],-1)),s("div",Ws,[r(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=o=>t.base_price=o),placeholder:N(),min:"0",required:"",onInput:B},null,40,Gs),[[v,t.base_price]]),s("span",Os,d(y()),1)])])]),s("div",Hs,[s("div",Js,[e[34]||(e[34]=s("label",{class:"form-label"},[s("i",{class:"bi bi-calculator"}),i(" السعر المحول ")],-1)),s("div",Ks,[s("div",Qs,[e[32]||(e[32]=s("span",{class:"currency-label"},"دينار:",-1)),s("span",Xs,d(W()),1)]),s("div",Zs,[e[33]||(e[33]=s("span",{class:"currency-label"},"دولار:",-1)),s("span",se,d(G()),1)])])])])])],512),[[F,n.value===2]]),r(s("div",ee,[e[44]||(e[44]=s("div",{class:"step-header"},[s("h5",{class:"step-title"},[s("i",{class:"bi bi-gear text-info"}),i(" التفاصيل الإضافية ")]),s("p",{class:"step-description"},"حدد التكاليف الإضافية")],-1)),s("div",te,[s("div",le,[s("div",oe,[e[36]||(e[36]=s("label",{class:"form-label"},[s("i",{class:"bi bi-box"}),i(" تكلفة المواد ")],-1)),s("div",ie,[r(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=o=>t.materials_cost=o),placeholder:"أدخل تكلفة المواد",min:"0"},null,512),[[v,t.materials_cost]]),s("span",ae,d(y()),1)])])]),s("div",ne,[s("div",re,[e[37]||(e[37]=s("label",{class:"form-label"},[s("i",{class:"bi bi-person-workspace"}),i(" تكلفة العمالة ")],-1)),s("div",de,[r(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=o=>t.labor_cost=o),placeholder:"أدخل تكلفة العمالة",min:"0"},null,512),[[v,t.labor_cost]]),s("span",ue,d(y()),1)])])]),s("div",ce,[s("div",pe,[e[38]||(e[38]=s("label",{class:"form-label"},[s("i",{class:"bi bi-truck"}),i(" تكلفة النقل ")],-1)),s("div",me,[r(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=o=>t.transportation_cost=o),placeholder:"أدخل تكلفة النقل",min:"0"},null,512),[[v,t.transportation_cost]]),s("span",ve,d(y()),1)])])])]),s("div",be,[e[43]||(e[43]=s("h6",{class:"summary-title"},[s("i",{class:"bi bi-calculator"}),i(" ملخص التكاليف ")],-1)),s("div",_e,[s("div",fe,[e[39]||(e[39]=s("span",null,"تكلفة المواد:",-1)),s("span",null,d(x(t.materials_cost)),1)]),s("div",ge,[e[40]||(e[40]=s("span",null,"تكلفة العمالة:",-1)),s("span",null,d(x(t.labor_cost)),1)]),s("div",ye,[e[41]||(e[41]=s("span",null,"تكلفة النقل:",-1)),s("span",null,d(x(t.transportation_cost)),1)]),s("div",ke,[e[42]||(e[42]=s("span",null,"التكلفة الإجمالية:",-1)),s("span",null,d(x(O())),1)])])])],512),[[F,n.value===3]]),r(s("div",he,[e[59]||(e[59]=s("div",{class:"step-header"},[s("h5",{class:"step-title"},[s("i",{class:"bi bi-camera text-warning"}),i(" رفع الوسائط ")]),s("p",{class:"step-description"},"ارفع الصور والفيديوهات للديكور")],-1)),s("div",we,[s("div",Ce,[s("div",xe,[e[47]||(e[47]=s("label",{class:"form-label"},[s("i",{class:"bi bi-image"}),i(" الصورة الرئيسية ")],-1)),s("div",{class:"upload-area",onClick:H,onDragover:e[11]||(e[11]=b(()=>{},["prevent"])),onDrop:b(Q,["prevent"])},[s("input",{ref_key:"mainImageInput",ref:C,type:"file",accept:"image/*",onChange:K,style:{display:"none"}},null,544),_.value?(u(),c("div",Fe,[s("img",{src:_.value,alt:"Main Image Preview",class:"preview-image"},null,8,Ue),s("button",{type:"button",onClick:b(X,["stop"]),class:"remove-image-btn"},e[46]||(e[46]=[s("i",{class:"bi bi-x"},null,-1)]))])):(u(),c("div",Ie,e[45]||(e[45]=[s("i",{class:"bi bi-cloud-upload"},null,-1),s("p",null,"انقر أو اسحب الصورة هنا",-1),s("small",null,"الصيغ المدعومة: JPG, PNG, GIF, WebP",-1)])))],32)])]),s("div",Ve,[s("div",De,[e[50]||(e[50]=s("label",{class:"form-label"},[s("i",{class:"bi bi-images"}),i(" صور إضافية ")],-1)),s("div",{class:"upload-area",onClick:J,onDragover:e[12]||(e[12]=b(()=>{},["prevent"])),onDrop:b(ss,["prevent"])},[s("input",{ref_key:"additionalImagesInput",ref:D,type:"file",accept:"image/*",multiple:"",onChange:Z,style:{display:"none"}},null,544),f.value.length===0?(u(),c("div",$e,e[48]||(e[48]=[s("i",{class:"bi bi-cloud-upload"},null,-1),s("p",null,"انقر أو اسحب الصور هنا",-1),s("small",null,"الحد الأقصى: 10 صور",-1)]))):(u(),c("div",Pe,[(u(!0),c(M,null,R(f.value,(o,p)=>(u(),c("div",{key:p,class:"image-item"},[s("img",{src:o,alt:"Additional Image Preview",class:"preview-image"},null,8,qe),s("button",{type:"button",onClick:b(U=>es(p),["stop"]),class:"remove-image-btn"},e[49]||(e[49]=[s("i",{class:"bi bi-x"},null,-1)]),8,Ae)]))),128))]))],32)])])]),s("div",Le,[s("div",Me,[s("div",Re,[e[54]||(e[54]=s("label",{class:"form-label"},[s("i",{class:"bi bi-youtube"}),i(" روابط YouTube ")],-1)),s("div",Te,[(u(!0),c(M,null,R(t.youtube_links,(o,p)=>(u(),c("div",{key:p,class:"youtube-link-item"},[s("div",Se,[r(s("input",{type:"url","onUpdate:modelValue":U=>t.youtube_links[p]=U,class:"form-input",placeholder:`رابط YouTube ${p+1}`},null,8,Ye),[[v,t.youtube_links[p]]]),t.youtube_links.length>1?(u(),c("button",{key:0,type:"button",onClick:U=>ls(p),class:"remove-link-btn"},e[51]||(e[51]=[s("i",{class:"bi bi-x"},null,-1)]),8,Ee)):h("",!0)])]))),128)),t.youtube_links.length<3?(u(),c("button",{key:0,type:"button",onClick:ts,class:"add-link-btn"},e[52]||(e[52]=[s("i",{class:"bi bi-plus"},null,-1),i(" إضافة رابط YouTube ")]))):h("",!0),e[53]||(e[53]=s("small",{class:"form-help"},"يمكنك إضافة حتى 3 روابط YouTube",-1))])])])]),s("div",ze,[e[58]||(e[58]=s("h6",{class:"summary-title"},[s("i",{class:"bi bi-collection"}),i(" ملخص الوسائط ")],-1)),s("div",Be,[s("div",Ne,[e[55]||(e[55]=s("span",null,"الصورة الرئيسية:",-1)),s("span",null,d(_.value?"تم الرفع":"لم يتم الرفع"),1)]),s("div",je,[e[56]||(e[56]=s("span",null,"صور إضافية:",-1)),s("span",null,d(f.value.length)+" صور",1)]),s("div",We,[e[57]||(e[57]=s("span",null,"فيديو:",-1)),s("span",null,d(P()>0?`${P()} رابط`:"لم يتم الإضافة"),1)])])])],512),[[F,n.value===4]])],32)])]),s("div",Ge,[s("div",Oe,[s("button",{type:"button",class:"btn btn-outline-secondary",onClick:E,disabled:n.value===1},e[60]||(e[60]=[s("i",{class:"bi bi-arrow-left"},null,-1),i(" السابق ")]),8,He),s("div",Je,[n.value<4?(u(),c("button",{key:0,type:"button",class:"btn btn-outline-primary",onClick:Y},e[61]||(e[61]=[i(" التالي "),s("i",{class:"bi bi-arrow-right"},null,-1)]))):h("",!0),n.value===4?(u(),c("button",{key:1,type:"submit",class:"btn btn-success",disabled:w.value||!S.value,onClick:q},[w.value?(u(),c("span",Qe)):h("",!0),e[62]||(e[62]=s("i",{class:"bi bi-check-circle"},null,-1)),e[63]||(e[63]=i(" حفظ "))],8,Ke)):h("",!0),A(a,{href:l.route("decorations.index"),class:"btn btn-outline-danger"},{default:V(()=>e[64]||(e[64]=[s("i",{class:"bi bi-x-circle"},null,-1),i(" إلغاء ")])),_:1},8,["href"])])])])])])])]),_:1},8,["translations"])}}},tt=cs(Xe,[["__scopeId","data-v-82709f7f"]]);export{tt as default};
