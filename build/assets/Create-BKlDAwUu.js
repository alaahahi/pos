import{s as Mt,r as m,T as Bt,y as Pt,k as nt,B as Q,E as T,K as z,o as It,S as Vt,a as r,h as Ft,w as St,b as s,d as c,t as l,I as w,l as A,x as U,u as a,U as at,n as S,c as d,F as L,f as O,e as p,i as R,j as Et}from"./app-hyZiV4Sx.js";import{_ as Dt}from"./AuthenticatedLayout-BeBCZfZC.js";import{_ as Tt}from"./InputError-wktRe11A.js";import{C as At}from"./vue-select-CSfDDZJ5.js";import{d as Ut,M as Lt}from"./debounce-DKrqvpud.js";import{S as it}from"./sweetalert2.esm.all-DwEdJQJv.js";import{_ as Ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Nt={class:"pos-header"},jt={class:"d-flex justify-content-between align-items-center"},Kt={class:"pos-title"},Qt={class:"pos-actions"},zt={class:"pos-container"},Rt={class:"pos-products-panel"},Gt={class:"pos-search-section"},Ht={class:"search-input-group"},Jt=["placeholder"],Wt={class:"barcode-section"},Xt=["placeholder"],Yt={class:"pos-filters"},Zt={key:0,class:"pos-categories"},ts=["onClick"],ss={class:"pos-products-grid"},es=["onClick"],os={class:"product-image"},ls=["src","alt"],ns={key:0,class:"product-stock-badge"},as={class:"product-info"},is={class:"product-name"},rs={class:"product-model"},ds={class:"product-price"},us={class:"product-stock"},cs={key:1,class:"text-center p-4"},bs={key:2,class:"no-products"},ms={class:"pos-cart-panel"},vs={class:"pos-customer-section"},ps={class:"form-label text-center w-100"},fs={class:"pos-cart-section"},hs={class:"cart-header"},ys={class:"text-center w-100"},_s={key:0,class:"cart-count"},gs={class:"cart-items"},ks={class:"cart-item-info"},Cs={class:"item-name"},ws={class:"item-model"},qs={class:"cart-item-controls"},xs={class:"quantity-controls"},$s=["onClick","disabled"],Ms=["onUpdate:modelValue","onInput"],Bs=["onClick"],Ps={class:"price-controls"},Is=["onUpdate:modelValue"],Vs={class:"item-total"},Fs=["onClick"],Ss={key:0,class:"empty-cart"},Es={key:0,class:"pos-summary-section"},Ds={class:"summary-row"},Ts={class:"summary-row"},As={class:"summary-row total-row"},Us={class:"total-amount"},Ls={key:1,class:"pos-actions-section"},Os=["disabled"],Ns={key:0,class:"bi bi-credit-card"},js={key:1,class:"spinner-border spinner-border-sm"},Ks={class:"daily-sales-stats"},Qs={class:"stats-grid"},zs={class:"stat-card stat-orders"},Rs={class:"stat-content"},Gs={class:"stat-value"},Hs={class:"stat-card stat-sales"},Js={class:"stat-content"},Ws={class:"stat-value"},Xs={class:"stat-card stat-paid"},Ys={class:"stat-content"},Zs={class:"stat-value"},te={class:"stat-card stat-due"},se={class:"stat-content"},ee={class:"stat-value"},oe={key:0,class:"keyboard-shortcuts"},le={class:"modal-header"},ne={class:"modal-body"},ae={class:"cash-summary mb-4"},ie={class:"row"},re={class:"col-md-4"},de={class:"cash-stat-card"},ue={class:"stat-info"},ce={class:"stat-value"},be={class:"col-md-4"},me={class:"cash-stat-card"},ve={class:"stat-info"},pe={class:"stat-value"},fe={class:"col-md-4"},he={class:"cash-stat-card"},ye={class:"stat-info"},_e={class:"stat-value"},ge={class:"cash-products"},ke={key:0,class:"empty-cash"},Ce={key:1,class:"cash-products-list"},we={class:"product-info"},qe={class:"product-name"},xe={class:"text-muted"},$e={class:"product-actions"},Me=["onClick"],Be={class:"modal-footer"},Pe=["disabled"],Ie=["disabled"],Ve={__name:"Create",props:{products:Array,customers:Array,defaultCustomer:Object,translations:Object,defaultCurrency:String,categories:Array,todaySales:Object},setup(u){var st,et;let f=Mt(),P=m(!1),y=m(""),_=m(""),q=m(!1),G=m(!1),I=m(null),g=m("featured"),N=m(!1),v=m(!1),x=m({totalProducts:0,totalValue:0,products:[]}),$=m({orders_count:0,total_sales:0,total_paid:0,total_due:0});const H=m(null),V=m(null),b=u,M=m(((st=b.defaultCustomer)==null?void 0:st.id)||null),B=Bt({customer_id:((et=b.defaultCustomer)==null?void 0:et.id)||null,total_amount:0}),i=Pt([]),k=m(b.products.filter(o=>o.is_featured)),C=m(new Map),j=nt(()=>i.reduce((o,t)=>o+t.quantity*t.price,0)),rt=nt(()=>i.reduce((o,t)=>o+t.quantity,0));Q(j,o=>{B.total_amount=o}),Q(M,o=>{B.customer_id=o}),Q(i,()=>{mt()},{deep:!0});const K=o=>{if(o.quantity<=0){f.warning("المنتج غير متوفر في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0});return}const t=i.find(e=>e.product_id===o.id);t?t.quantity<o.quantity?t.quantity+=1:f.warning("لا توجد كمية كافية في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0}):i.push({product_id:o.id,quantity:1,price:o.price})},dt=o=>{i.splice(o,1)},ut=o=>{const t=i.findIndex(e=>e.product_id===o);t!==-1&&(i.splice(t,1),f.success("تم حذف المنتج من الكاش",{timeout:2e3,position:"bottom-right",rtl:!0}))},ct=()=>{i.length!==0&&it.fire({title:"تأكيد الحذف",text:"هل أنت متأكد من حذف جميع المنتجات من الكاش؟",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"نعم، احذف الكل",cancelButtonText:"إلغاء"}).then(o=>{o.isConfirmed&&(E(),f.success("تم حذف جميع المنتجات من الكاش",{timeout:2e3,position:"bottom-right",rtl:!0}))})},bt=()=>{it.fire({title:"إفراغ ذاكرة التخزين المؤقت",text:"هل تريد إفراغ ذاكرة المنتجات المخزنة؟ (مفيد بعد تعديل المنتجات)",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#6c757d",confirmButtonText:"نعم، إفراغ الكاش",cancelButtonText:"إلغاء"}).then(o=>{o.isConfirmed&&(C.value.clear(),f.success("تم إفراغ ذاكرة المنتجات المؤقتة",{timeout:2e3,position:"bottom-right",rtl:!0}))})},mt=()=>{x.value={totalProducts:i.reduce((o,t)=>o+t.quantity,0),totalValue:i.reduce((o,t)=>o+t.quantity*t.price,0),products:[...i]}},J=(o,t="IQD")=>Math.round(parseFloat(o||0))+" "+t,vt=o=>{const t=i[o];let e=b.products.find(n=>n.id===t.product_id);if(!e){for(const n of C.value.values())if(n.id===t.product_id){e=n;break}}e&&t.quantity<e.quantity?t.quantity+=1:f.warning("لا توجد كمية كافية في المخزون",{timeout:3e3,position:"bottom-right",rtl:!0})},pt=o=>{const t=i[o];t.quantity>1&&(t.quantity-=1)},E=()=>{i.splice(0)},W=()=>{E(),M.value=null,B.customer_id=null,_.value="",y.value="",g.value="featured",I.value=null,k.value=b.products.filter(o=>o.is_featured)},X=()=>{if(console.log("Search query:",_.value),console.log("Available products:",b.products.length),!_.value.trim()){F(g.value);return}const o=_.value.toLowerCase();let t=[];g.value==="featured"?t=b.products.filter(n=>n.is_featured):g.value==="best_selling"?t=b.products.filter(n=>n.is_best_selling):t=[...b.products],console.log("Base products after filter:",t.length);const e=t.filter(n=>{const h=n.name&&n.name.toLowerCase().includes(o),ot=n.model&&n.model.toLowerCase().includes(o),lt=n.barcode&&n.barcode.toLowerCase().includes(o);return console.log(`Product: ${n.name}, Name match: ${h}, Model match: ${ot}, Barcode match: ${lt}`),h||ot||lt});console.log("Search results:",e.length),k.value=e},ft=()=>{k.value.length===1&&(K(k.value[0]),_.value="",F(g.value))},ht=o=>{I.value=o},yt=()=>{I.value=null,F(g.value)},F=o=>{g.value=o,o==="featured"?k.value=b.products.filter(t=>t.is_featured):o==="best_selling"&&(k.value=b.products.filter(t=>t.is_best_selling))},Y=o=>{let t=b.products.find(e=>e.id===o);if(!t){for(const e of C.value.values())if(e.id===o){t=e;break}}return t?t.name:""},_t=o=>{let t=b.products.find(e=>e.id===o);if(!t){for(const e of C.value.values())if(e.id===o){t=e;break}}return t?t.model:""},gt=o=>{o.target.src="/dashboard-assets/img/product-placeholder.svg"},kt=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},Ct=()=>{f.info("تم تعليق الطلب",{timeout:3e3,position:"bottom-right",rtl:!0})},wt=()=>{window.print()},Z=()=>{q.value=!0},qt=async()=>{try{const o=await T.get("/api/today-sales");o.data&&($.value=o.data)}catch(o){console.error("Error fetching daily sales:",o)}},xt=async o=>{P.value=!0;const t={total_amount:B.total_amount,total_paid:o.amountDollar??0,customer_id:B.customer_id,date:o.date,notes:o.notes,discount_amount:o.discount_amount??0,discount_rate:o.discount_rate??0,items:i.map(e=>({product_id:e.product_id,quantity:e.quantity,price:e.price}))};try{const e=await T.post("/api/createOrder",t);if(e.status===200||e.status===201){let{id:n,order_id:h}=e.data;f.success("تم حفظ الفاتورة بنجاح",{timeout:3e3,position:"bottom-right",rtl:!0}),o.printInvoice&&window.open(`/api/getIndexAccountsSelas?print=2&transactions_id=${n}&order_id=${h}`,"_blank"),await qt(),E(),_.value="",y.value="",k.value=[...b.products]}}catch{f.error("خطأ أثناء حفظ الفاتورة",{timeout:5e3,position:"bottom-right",rtl:!0})}finally{P.value=!1,q.value=!1}},D=Ut(async()=>{if(!y.value)return;const o=y.value.trim();let t=b.products.find(e=>e.barcode===o);if(!t&&C.value.has(o)&&(t=C.value.get(o)),!t)try{const e=await T.get(`/api/products/${o}`);e.data&&e.data.id&&(t=e.data,C.value.set(o,t))}catch(e){e.response&&e.response.status===404?f.warning("المنتج غير موجود",{timeout:3e3,position:"bottom-right",rtl:!0}):f.error("خطأ في البحث عن المنتج",{timeout:3e3,position:"bottom-right",rtl:!0}),y.value="",z(()=>{var n;(n=V.value)==null||n.focus()});return}t&&(K(t),y.value="",z(()=>{var e;(e=V.value)==null||e.focus()}))},500),$t=async o=>{try{const t=await T.get(`/api/check-stock/${o.product_id}`);o.quantity>t.data.available_quantity&&(f.warning(`الكمية المتوفرة فقط: ${t.data.available_quantity}`,{timeout:3e3,position:"bottom-right",rtl:!0}),o.quantity=t.data.available_quantity)}catch(t){console.error("خطأ عند التحقق من المخزون:",t)}},tt=o=>{var t,e;o.key==="F1"&&(o.preventDefault(),(t=H.value)==null||t.focus()),o.key==="F2"&&(o.preventDefault(),(e=V.value)==null||e.focus()),o.key==="F9"&&i.length>0&&M.value&&(o.preventDefault(),Z()),o.key==="Escape"&&(o.preventDefault(),W()),o.key==="F12"&&(o.preventDefault(),N.value=!N.value)};return It(()=>{document.addEventListener("keydown",tt),b.todaySales&&($.value=b.todaySales),z(()=>{var o;(o=V.value)==null||o.focus()})}),Vt(()=>{document.removeEventListener("keydown",tt)}),(o,t)=>(r(),Ft(Dt,{translations:u.translations},{default:St(()=>[s("div",Nt,[s("div",jt,[s("h2",Kt,[t[13]||(t[13]=s("i",{class:"bi bi-shop"},null,-1)),c(" "+l(u.translations.invoice),1)]),s("div",Qt,[s("button",{onClick:t[0]||(t[0]=e=>w(v)?v.value=!0:v=!0),class:"btn btn-outline-info"},t[14]||(t[14]=[s("i",{class:"bi bi-cash-coin"},null,-1),c(" إدارة الكاش ")])),s("button",{onClick:W,class:"btn btn-outline-danger"},t[15]||(t[15]=[s("i",{class:"bi bi-trash"},null,-1),c(" مسح الكل ")])),s("button",{onClick:kt,class:"btn btn-outline-primary"},t[16]||(t[16]=[s("i",{class:"bi bi-fullscreen"},null,-1),c(" ملء الشاشة ")]))])])]),s("div",zt,[s("div",Rt,[s("div",Gt,[s("div",Ht,[A(s("input",{ref_key:"searchInput",ref:H,"onUpdate:modelValue":t[1]||(t[1]=e=>w(_)?_.value=e:_=e),type:"text",class:"form-control pos-search-input",placeholder:u.translations.search_by_name_or_barcode,onInput:X,onKeyup:at(ft,["enter"])},null,40,Jt),[[U,a(_)]]),s("button",{class:"btn btn-primary search-btn",onClick:X},t[17]||(t[17]=[s("i",{class:"bi bi-search"},null,-1)]))]),s("div",Wt,[A(s("input",{ref_key:"barcodeInput",ref:V,"onUpdate:modelValue":t[2]||(t[2]=e=>w(y)?y.value=e:y=e),type:"text",class:"form-control barcode-input",placeholder:u.translations.barcode,onKeyup:[t[3]||(t[3]=(...e)=>a(D)&&a(D)(...e)),t[4]||(t[4]=at((...e)=>a(D)&&a(D)(...e),["enter"]))]},null,40,Xt),[[U,a(y)]]),t[18]||(t[18]=s("i",{class:"bi bi-upc-scan barcode-icon"},null,-1))])]),s("div",Yt,[s("button",{onClick:t[5]||(t[5]=e=>F("featured")),class:S(["btn","filter-btn",{active:a(g)==="featured"}])},t[19]||(t[19]=[s("i",{class:"bi bi-star-fill"},null,-1),c(" المميزة ")]),2),s("button",{onClick:t[6]||(t[6]=e=>F("best_selling")),class:S(["btn","filter-btn",{active:a(g)==="best_selling"}])},t[20]||(t[20]=[s("i",{class:"bi bi-trophy-fill"},null,-1),c(" الأكثر مبيعاً ")]),2)]),u.categories&&u.categories.length?(r(),d("div",Zt,[(r(!0),d(L,null,O(u.categories,e=>(r(),d("button",{key:e.id,onClick:n=>ht(e.id),class:S(["btn","category-btn",{active:a(I)===e.id}])},l(e.name),11,ts))),128)),s("button",{onClick:yt,class:S(["btn","category-btn",{active:a(I)===null}])}," الكل ",2)])):p("",!0),s("div",ss,[(r(!0),d(L,null,O(k.value,e=>(r(),d("div",{key:e.id,onClick:n=>K(e),class:S(["product-card",{"out-of-stock":e.quantity<=0}])},[s("div",os,[s("img",{src:e.image_url||"/dashboard-assets/img/product-placeholder.svg",alt:e.name,onError:gt},null,40,ls),e.quantity<=5?(r(),d("div",ns,l(e.quantity),1)):p("",!0)]),s("div",as,[s("h6",is,l(e.name),1),s("p",rs,l(e.model),1),s("div",ds,l(u.defaultCurrency)+" "+l(Math.round(e.price)),1),s("div",us," المخزون: "+l(e.quantity),1)])],10,es))),128))]),a(G)?(r(),d("div",cs,t[21]||(t[21]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"جاري التحميل...")],-1)]))):p("",!0),!a(G)&&k.value.length===0?(r(),d("div",bs,t[22]||(t[22]=[s("i",{class:"bi bi-box-seam"},null,-1),s("p",null,"لا توجد منتجات",-1)]))):p("",!0)]),s("div",ms,[s("div",vs,[s("label",ps,l(u.translations.client),1),R(a(At),{modelValue:M.value,"onUpdate:modelValue":t[7]||(t[7]=e=>M.value=e),options:u.customers,label:"name",reduce:e=>e.id,placeholder:u.translations.select_customer,class:"customer-select"},null,8,["modelValue","options","reduce","placeholder"]),R(Tt,{message:a(B).errors.customer_id},null,8,["message"])]),s("div",fs,[s("div",hs,[s("h5",ys,[t[23]||(t[23]=s("i",{class:"bi bi-cart3"},null,-1)),t[24]||(t[24]=c(" عربة التسوق ")),i.length?(r(),d("span",_s,l(i.length),1)):p("",!0)]),i.length?(r(),d("button",{key:0,onClick:E,class:"btn btn-sm btn-outline-danger"},t[25]||(t[25]=[s("i",{class:"bi bi-trash"},null,-1)]))):p("",!0)]),s("div",gs,[(r(!0),d(L,null,O(i,(e,n)=>(r(),d("div",{key:n,class:"cart-item"},[s("div",ks,[s("h6",Cs,l(Y(e.product_id)),1),s("p",ws,l(_t(e.product_id)),1)]),s("div",qs,[s("div",xs,[s("button",{onClick:h=>pt(n),class:"btn btn-sm btn-outline-secondary",disabled:e.quantity<=1},t[26]||(t[26]=[s("i",{class:"bi bi-dash"},null,-1)]),8,$s),A(s("input",{"onUpdate:modelValue":h=>e.quantity=h,type:"number",min:"1",class:"form-control quantity-input",onInput:h=>$t(e)},null,40,Ms),[[U,e.quantity,void 0,{number:!0}]]),s("button",{onClick:h=>vt(n),class:"btn btn-sm btn-outline-secondary"},t[27]||(t[27]=[s("i",{class:"bi bi-plus"},null,-1)]),8,Bs)]),s("div",Ps,[A(s("input",{"onUpdate:modelValue":h=>e.price=h,type:"number",min:"0",step:"1",class:"form-control price-input",style:{"min-width":"92px"}},null,8,Is),[[U,e.price,void 0,{number:!0}]])]),s("div",Vs,l(u.defaultCurrency)+" "+l(Math.round(e.quantity*e.price)),1),s("button",{onClick:h=>dt(n),class:"btn btn-sm btn-danger remove-btn"},t[28]||(t[28]=[s("i",{class:"bi bi-x"},null,-1)]),8,Fs)])]))),128))]),i.length===0?(r(),d("div",Ss,t[29]||(t[29]=[s("i",{class:"bi bi-cart-x"},null,-1),s("p",{class:"text-center"},"عربة التسوق فارغة",-1),s("small",{class:"text-center"},"اضغط على المنتجات لإضافتها",-1)]))):p("",!0)]),i.length>0?(r(),d("div",Es,[s("div",Ds,[t[30]||(t[30]=s("span",null,"عدد الأصناف:",-1)),s("span",null,l(i.length),1)]),s("div",Ts,[t[31]||(t[31]=s("span",null,"إجمالي الكمية:",-1)),s("span",null,l(rt.value),1)]),s("div",As,[t[32]||(t[32]=s("span",null,"الإجمالي:",-1)),s("span",Us,l(u.defaultCurrency)+" "+l(Math.round(j.value)),1)])])):p("",!0),i.length>0&&M.value?(r(),d("div",Ls,[s("button",{onClick:Z,class:"btn btn-success btn-lg checkout-btn",disabled:a(P)},[a(P)?p("",!0):(r(),d("i",Ns)),a(P)?(r(),d("span",js)):p("",!0),c(" "+l(u.translations.continue),1)],8,Os),s("div",{class:"quick-actions"},[s("button",{onClick:Ct,class:"btn btn-outline-warning"},t[33]||(t[33]=[s("i",{class:"bi bi-pause-circle"},null,-1),c(" تعليق ")])),s("button",{onClick:wt,class:"btn btn-outline-info"},t[34]||(t[34]=[s("i",{class:"bi bi-printer"},null,-1),c(" طباعة ")]))])])):p("",!0)])]),s("div",Ks,[s("div",Qs,[s("div",zs,[t[36]||(t[36]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-receipt"})],-1)),s("div",Rs,[t[35]||(t[35]=s("h6",null,"عدد الفواتير",-1)),s("span",Gs,l(a($).orders_count),1)])]),s("div",Hs,[t[38]||(t[38]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-cash-stack"})],-1)),s("div",Js,[t[37]||(t[37]=s("h6",null,"إجمالي المبيعات",-1)),s("span",Ws,l(u.defaultCurrency)+" "+l(Math.round(a($).total_sales)),1)])]),s("div",Xs,[t[40]||(t[40]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-check-circle"})],-1)),s("div",Ys,[t[39]||(t[39]=s("h6",null,"المدفوع",-1)),s("span",Zs,l(u.defaultCurrency)+" "+l(Math.round(a($).total_paid)),1)])]),s("div",te,[t[42]||(t[42]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-exclamation-circle"})],-1)),s("div",se,[t[41]||(t[41]=s("h6",null,"المتبقي",-1)),s("span",ee,l(u.defaultCurrency)+" "+l(Math.round(a($).total_due)),1)])])])]),R(Lt,{translations:u.translations,show:a(q),total:j.value,defaultCurrency:u.defaultCurrency,onClose:t[8]||(t[8]=e=>w(q)?q.value=!1:q=!1),onConfirm:xt},null,8,["translations","show","total","defaultCurrency"]),a(N)?(r(),d("div",oe,t[43]||(t[43]=[s("div",{class:"shortcuts-content"},[s("h6",null,"اختصارات لوحة المفاتيح"),s("div",{class:"shortcut-item"},[s("kbd",null,"F1"),c(" - البحث ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"F2"),c(" - الباركود ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"F9"),c(" - الدفع ")]),s("div",{class:"shortcut-item"},[s("kbd",null,"Esc"),c(" - مسح الكل ")])],-1)]))):p("",!0),a(v)?(r(),d("div",{key:1,class:"modal-overlay",onClick:t[12]||(t[12]=e=>w(v)?v.value=!1:v=!1)},[s("div",{class:"modal-content cash-modal",onClick:t[11]||(t[11]=Et(()=>{},["stop"]))},[s("div",le,[t[45]||(t[45]=s("h5",{class:"modal-title"},[s("i",{class:"bi bi-cash-coin"}),c(" إدارة الكاش ")],-1)),s("button",{type:"button",class:"btn-close",onClick:t[9]||(t[9]=e=>w(v)?v.value=!1:v=!1)},t[44]||(t[44]=[s("i",{class:"bi bi-x"},null,-1)]))]),s("div",ne,[s("div",ae,[s("div",ie,[s("div",re,[s("div",de,[t[47]||(t[47]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-box-seam"})],-1)),s("div",ue,[t[46]||(t[46]=s("h6",null,"إجمالي المنتجات",-1)),s("span",ce,l(a(x).totalProducts),1)])])]),s("div",be,[s("div",me,[t[49]||(t[49]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-currency-dollar"})],-1)),s("div",ve,[t[48]||(t[48]=s("h6",null,"إجمالي القيمة",-1)),s("span",pe,l(J(a(x).totalValue)),1)])])]),s("div",fe,[s("div",he,[t[51]||(t[51]=s("div",{class:"stat-icon"},[s("i",{class:"bi bi-database"})],-1)),s("div",ye,[t[50]||(t[50]=s("h6",null,"ذاكرة المنتجات",-1)),s("span",_e,l(C.value.size),1)])])])])]),s("div",ge,[t[54]||(t[54]=s("h6",{class:"mb-3"},[s("i",{class:"bi bi-list-ul"}),c(" المنتجات في الكاش ")],-1)),a(x).products.length===0?(r(),d("div",ke,t[52]||(t[52]=[s("i",{class:"bi bi-inbox"},null,-1),s("p",null,"لا توجد منتجات في الكاش",-1)]))):(r(),d("div",Ce,[(r(!0),d(L,null,O(a(x).products,e=>(r(),d("div",{key:e.product_id,class:"cash-product-item"},[s("div",we,[s("h6",qe,l(Y(e.product_id)),1),s("small",xe,"الكمية: "+l(e.quantity)+" × "+l(J(e.price)),1)]),s("div",$e,[s("button",{class:"btn btn-sm btn-outline-danger",onClick:n=>ut(e.product_id),title:"حذف المنتج"},t[53]||(t[53]=[s("i",{class:"bi bi-trash"},null,-1)]),8,Me)])]))),128))]))])]),s("div",Be,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[10]||(t[10]=e=>w(v)?v.value=!1:v=!1)}," إغلاق "),s("button",{type:"button",class:"btn btn-warning",onClick:bt,disabled:C.value.size===0},t[55]||(t[55]=[s("i",{class:"bi bi-database-dash"},null,-1),c(" إفراغ ذاكرة المنتجات ")]),8,Pe),s("button",{type:"button",class:"btn btn-danger",onClick:ct,disabled:a(x).products.length===0},t[56]||(t[56]=[s("i",{class:"bi bi-trash"},null,-1),c(" مسح الكاش بالكامل ")]),8,Ie)])])])):p("",!0)]),_:1},8,["translations"]))}},Le=Ot(Ve,[["__scopeId","data-v-d4df237e"]]);export{Le as default};
