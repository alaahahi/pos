import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as n,c as l,b as e,e as d,Q as Z,o as q,K as ue,i as f,w as y,t as r,n as b,u as w,p as k,g as X,s as le,r as x,k as S,M as Q,d as T,y as oe,D as z,j as ce,F as Y,f as te,q as ve}from"./app-BK41XzZo.js";const pe={data(){return{darkMode:!1}},created(){this.darkMode=localStorage.getItem("darkMode")==="true",this.darkMode&&document.documentElement.classList.add("dark")},methods:{toggleDarkMode(){this.darkMode=!this.darkMode,this.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",this.darkMode)}},computed:{iconClass(){return this.darkMode?"fas fa-sun":"fas fa-moon"}}},fe={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ge={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function me(h,c,o,g,v,s){return n(),l("button",{onClick:c[0]||(c[0]=(...t)=>s.toggleDarkMode&&s.toggleDarkMode(...t)),class:"px-2 py-1 rounded-full focus:outline-none dark:text-gray-400"},[v.darkMode?d("",!0):(n(),l("svg",fe,c[1]||(c[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"},null,-1)]))),v.darkMode?(n(),l("svg",ge,c[2]||(c[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"},null,-1)]))):d("",!0)])}const be=N(pe,[["render",me]]),he={id:"sidebar",class:"sidebar bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"},we={class:"sidebar-nav",id:"sidebar-nav"},ye={class:"nav-item"},ke={key:0,class:"nav-item"},$e={key:1,class:"nav-item"},_e={key:2,class:"nav-item"},xe={key:3,class:"nav-item"},Ce={key:4,class:"nav-item"},Le={id:"decorations-nav",class:"nav-content collapse","data-bs-parent":"#sidebar-nav"},We={key:0},Me={key:1},Se={key:5,class:"nav-item"},Ie={key:6,class:"nav-item"},Oe={key:7,class:"nav-item"},Ee={key:8,class:"nav-item"},je={class:"nav-item"},Te={id:"components-nav",class:"nav-content collapse","data-bs-parent":"#sidebar-nav"},Ue={key:9,class:"nav-item"},Ae={class:"nav-item"},ze={key:10,class:"nav-item"},Be={key:11,class:"nav-item"},Ne={key:12,class:"nav-item"},De={name:"Sidebar"},Ve=Object.assign(De,{props:{message:String,translations:Object},setup(h){const c=Z(),o=s=>c.props.auth_permissions.includes(s),g=()=>{window.innerWidth<1200&&document.body.classList.remove("toggle-sidebar")},v=s=>{s&&typeof X<"u"&&X.prefetch&&X.prefetch(s)};return q(()=>{ue(()=>{const s=c.url.value;if(s.startsWith("/decorations")||s.startsWith("/decoration-orders")||s.startsWith("/decoration-payments")||s.startsWith("/decoration-monthly-accounting")){const u=document.getElementById("decorations-nav");u&&(u.classList.add("show"),u.classList.remove("collapse"))}document.querySelectorAll("#sidebar .nav-link, #sidebar a[href]").forEach(u=>{u.addEventListener("click",g);const i=u.getAttribute("href");i&&i.startsWith("/")&&!i.startsWith("/logout")&&u.addEventListener("mouseenter",()=>{v(i)},{once:!0})})})}),(s,t)=>(n(),l("aside",he,[e("ul",we,[e("li",ye,[f(w(k),{class:b(["nav-link",{collapsed:s.$page.url!=="/dashboard"}]),href:s.route("dashboard")},{default:y(()=>[t[0]||(t[0]=e("i",{class:"bi bi-grid"},null,-1)),e("span",null,r(h.translations.dashboard),1)]),_:1},8,["href","class"])]),o("read order")?(n(),l("li",ke,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/orders")}]),href:s.route("orders.index")},{default:y(()=>[t[1]||(t[1]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,r(h.translations.orders),1)]),_:1},8,["href","class"])])):d("",!0),o("read product")?(n(),l("li",$e,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/products")}]),href:s.route("products.index")},{default:y(()=>[t[2]||(t[2]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,r(h.translations.products),1)]),_:1},8,["href","class"])])):d("",!0),o("read product")?(n(),l("li",_e,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/barcode")}]),href:s.route("barcode.index")},{default:y(()=>[t[3]||(t[3]=e("i",{class:"bi bi-qr-code"},null,-1)),e("span",null,r(h.translations.barcode_generation),1)]),_:1},8,["href","class"])])):d("",!0),o("read category")?(n(),l("li",xe,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/categories")}]),href:s.route("categories.index")},{default:y(()=>t[4]||(t[4]=[e("i",{class:"bi bi-tags"},null,-1),e("span",null,"Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª",-1)])),_:1},8,["href","class"])])):d("",!0),o("read decoration")?(n(),l("li",Ce,[e("a",{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/decorations")&&!s.$page.url.startsWith("/decoration-orders")&&!s.$page.url.startsWith("/decoration-payments")&&!s.$page.url.startsWith("/decoration-monthly-accounting")}]),"data-bs-target":"#decorations-nav","data-bs-toggle":"collapse",href:"#"},[t[5]||(t[5]=e("i",{class:"bi bi-palette"},null,-1)),e("span",null,r(h.translations.decorations),1),t[6]||(t[6]=e("i",{class:"bi bi-chevron-down ms-auto"},null,-1))],2),e("ul",Le,[e("li",null,[f(w(k),{href:s.route("decorations.dashboard"),class:b({collapsed:!s.$page.url.startsWith("/decorations-dashboard")})},{default:y(()=>[t[7]||(t[7]=e("i",{class:"bi bi-circle"},null,-1)),e("span",null,r(h.translations.decorations_dashboard),1)]),_:1},8,["href","class"])]),e("li",null,[f(w(k),{href:s.route("decorations.orders"),class:b({collapsed:!s.$page.url.startsWith("/decorations-orders")})},{default:y(()=>[t[8]||(t[8]=e("i",{class:"bi bi-circle"},null,-1)),e("span",null,r(h.translations.decoration_orders),1)]),_:1},8,["href","class"])]),o("read payment")?(n(),l("li",We,[f(w(k),{href:s.route("decoration.payments"),class:b({collapsed:!s.$page.url.startsWith("/decoration-payments")})},{default:y(()=>t[9]||(t[9]=[e("i",{class:"bi bi-circle"},null,-1),e("span",null,"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª",-1)])),_:1},8,["href","class"])])):d("",!0),o("read monthly_accounting")?(n(),l("li",Me,[f(w(k),{href:s.route("decoration.monthly.accounting"),class:b({collapsed:!s.$page.url.startsWith("/decoration-monthly-accounting")})},{default:y(()=>t[10]||(t[10]=[e("i",{class:"bi bi-circle"},null,-1),e("span",null,"Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©",-1)])),_:1},8,["href","class"])])):d("",!0)])])):d("",!0),o("read boxes")?(n(),l("li",Se,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/boxes")}]),href:s.route("boxes.index")},{default:y(()=>[t[11]||(t[11]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,r(h.translations.boxes),1)]),_:1},8,["href","class"])])):d("",!0),o("read supplier")?(n(),l("li",Ie,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/customers")}]),href:s.route("customers.index")},{default:y(()=>[t[12]||(t[12]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,r(h.translations.customers),1)]),_:1},8,["href","class"])])):d("",!0),o("read supplier")?(n(),l("li",Oe,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/suppliers")}]),href:s.route("suppliers.index")},{default:y(()=>[t[13]||(t[13]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,r(h.translations.suppliers),1)]),_:1},8,["href","class"])])):d("",!0),o("read users")?(n(),l("li",Ee,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/users")}]),href:s.route("users.index")},{default:y(()=>[t[14]||(t[14]=e("i",{class:"bi bi-people"},null,-1)),e("span",null,r(h.translations.users),1)]),_:1},8,["href","class"])])):d("",!0),e("li",je,[e("a",{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/roles")&&!s.$page.url.startsWith("/permissions")}]),"data-bs-target":"#components-nav","data-bs-toggle":"collapse",href:"#"},[t[15]||(t[15]=e("i",{class:"bi bi-lock"},null,-1)),e("span",null,r(h.translations.roles_control),1),t[16]||(t[16]=e("i",{class:"bi bi-chevron-down ms-auto"},null,-1))],2),e("ul",Te,[e("li",null,[f(w(k),{href:s.route("roles.index"),class:b({collapsed:!s.$page.url.startsWith("/roles")})},{default:y(()=>[t[17]||(t[17]=e("i",{class:"bi bi-circle"},null,-1)),e("span",null,r(h.translations.roles),1)]),_:1},8,["href","class"])]),e("li",null,[f(w(k),{href:s.route("permissions.index"),class:b({collapsed:!s.$page.url.startsWith("/permissions")})},{default:y(()=>[t[18]||(t[18]=e("i",{class:"bi bi-circle"},null,-1)),e("span",null,r(h.translations.permissions),1)]),_:1},8,["href","class"])])])]),o("read logs")?(n(),l("li",Ue,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/logs")}]),href:s.route("logs")},{default:y(()=>[t[19]||(t[19]=e("i",{class:"bi bi-database"},null,-1)),e("span",null,r(h.translations.logs),1)]),_:1},8,["href","class"])])):d("",!0),e("li",Ae,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/admin/migrations")}]),href:s.route("admin.migrations")},{default:y(()=>t[20]||(t[20]=[e("i",{class:"bi bi-gear"},null,-1),e("span",null,"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙŠØ´Ù†Ø§Øª",-1)])),_:1},8,["href","class"])]),o("read system_config")?(n(),l("li",ze,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/system-config")}]),href:s.route("system-config.index")},{default:y(()=>[t[21]||(t[21]=e("i",{class:"bi bi-gear-fill"},null,-1)),e("span",null,r(h.translations.system_settings),1)]),_:1},8,["href","class"])])):d("",!0),o("read reports")?(n(),l("li",Be,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/reports")}]),href:s.route("reports.index")},{default:y(()=>t[22]||(t[22]=[e("i",{class:"bi bi-graph-up"},null,-1),e("span",null,"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",-1)])),_:1},8,["href","class"])])):d("",!0),o("read expenses")?(n(),l("li",Ne,[f(w(k),{class:b(["nav-link",{collapsed:!s.$page.url.startsWith("/expenses")}]),href:s.route("expenses.index")},{default:y(()=>t[23]||(t[23]=[e("i",{class:"bi bi-receipt"},null,-1),e("span",null,"Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ",-1)])),_:1},8,["href","class"])])):d("",!0)])]))}}),ie=N(Ve,[["__scopeId","data-v-6f7135cf"]]),qe={class:"container"},Pe={class:"status-content"},Fe={class:"status-icon"},He={key:0,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Qe={key:1,class:"status-emoji"},Re={class:"status-message"},Ge={class:"message-text"},Ke={key:0,class:"pending-badge"},Je={key:0,class:"progress-info"},Xe={class:"status-actions"},Ye=["disabled"],Ze={key:0},es={key:1},ss={key:0,class:"progress-bar"},ts={__name:"SyncStatusBar",setup(h){const c=le(),o=x(!1),g=x(navigator.onLine),v=x(!1),s=x(0),t=x(0),u=x(0),i=x(!1),C=x(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),_=S(()=>g.value&&s.value>0&&!v.value),p=S(()=>u.value===0?0:Math.round(t.value/u.value*100)),A=S(()=>v.value?"syncing":g.value?s.value>0?"pending":"online":"offline"),I=S(()=>g.value?s.value>0?"â³":"âœ…":"ðŸ“´"),G=S(()=>v.value?`Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©... ${p.value}%`:g.value?s.value>0?`${s.value} Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©`:"ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ø­Ø¯Ù‘Ø«":"ØºÙŠØ± Ù…ØªØµÙ„ - ÙˆØ¶Ø¹ Offline Ù…ÙØ¹Ù‘Ù„"),O=async()=>{try{if(!g.value){o.value=!0;return}try{const L=await z.get("/api/sync-monitor/metadata");if(L.data.success){const W=L.data.queue_stats||{};s.value=W.pending||0,(s.value>0||!g.value)&&!i.value?o.value=!0:s.value===0&&g.value&&(o.value=!1)}}catch(L){console.error("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:",L),o.value=!1}}catch(L){console.error("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:",L)}},j=async()=>{var L,W,F;if(_.value){v.value=!0,t.value=0,u.value=s.value;try{const E=await z.post("/api/sync-monitor/smart-sync",{limit:100});if(!E.data||!E.data.success)throw new Error(((L=E.data)==null?void 0:L.message)||"ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©");const U=E.data.job_id;c.info("ðŸ”„ ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©...");const m=setInterval(async()=>{try{const a=await z.get("/api/sync-monitor/sync-status",{params:{job_id:U}});if(a.data&&a.data.success){const $=a.data.status;if($.synced!==void 0&&(t.value=$.synced||0),$.total_processed!==void 0&&(u.value=$.total_processed||s.value),$.status==="completed"){clearInterval(m),v.value=!1;const M=$.synced||0,V=$.failed||0;await O(),V===0&&s.value===0?(c.success(`âœ… ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© ${M} Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!`),o.value=!1):M>0?c.warning(`âš ï¸ ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© ${M} Ø¹Ù…Ù„ÙŠØ©ØŒ ÙØ´Ù„ ${V}ØŒ Ù…ØªØ¨Ù‚ÙŠ ${s.value}`):c.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©")}if($.status==="failed"){clearInterval(m),v.value=!1;const M=$.error||"ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©";c.error("âŒ "+M),await O()}}else a.data&&a.data.status==="not_found"&&(clearInterval(m),v.value=!1,await O(),s.value===0&&(c.success("âœ… ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­!"),o.value=!1))}catch(a){console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:",a)}},1e3);setTimeout(()=>{clearInterval(m),v.value&&(v.value=!1,c.warning("â±ï¸ Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©. Ù‚Ø¯ ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù„Ø§ ØªØ²Ø§Ù„ Ø¬Ø§Ø±ÙŠØ© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©."),O())},6e5)}catch(E){console.error("ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:",E);const U=((F=(W=E.response)==null?void 0:W.data)==null?void 0:F.message)||E.message||"ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©";U.includes("MySQL ØºÙŠØ± Ù…ØªØ§Ø­")||U.includes("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„")?c.error("âŒ MySQL ØºÙŠØ± Ù…ØªØ§Ø­ - Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±."):c.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©: "+U),t.value=0,u.value=s.value}finally{v.value=!1,await O()}}},B=()=>{i.value=!0,o.value=!1,setTimeout(()=>{i.value=!1,O()},6e4)},D=()=>{g.value=!0,i.value=!1,O(),setTimeout(()=>{s.value>0&&j()},2e3)},P=()=>{g.value=!1,o.value=!0},K=()=>{var L;if(window.switchToLocal)window.switchToLocal();else{const W=((L=window.connectionInfo)==null?void 0:L.local_url)||"http://127.0.0.1:8000/";window.location.href=W}},J=()=>{var L;if(window.switchToOnline)window.switchToOnline();else{const W=((L=window.connectionInfo)==null?void 0:L.online_url)||"https://system.intellijapp.com/dashboard";window.location.href=W}};return q(()=>{O(),window.addEventListener("online",D),window.addEventListener("offline",P);const L=setInterval(O,5e3);Q(()=>{window.removeEventListener("online",D),window.removeEventListener("offline",P),clearInterval(L)})}),(L,W)=>o.value?(n(),l("div",{key:0,class:b(["sync-status-bar",A.value])},[e("div",qe,[e("div",Pe,[e("div",Fe,[v.value?(n(),l("svg",He,W[0]||(W[0]=[e("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)]))):(n(),l("span",Qe,r(I.value),1))]),e("div",Re,[e("span",Ge,r(G.value),1),s.value>0?(n(),l("span",Ke,r(s.value),1)):d("",!0)]),v.value&&p.value>0?(n(),l("div",Je,r(t.value)+" / "+r(u.value),1)):d("",!0),e("div",Xe,[C.value?(n(),l("button",{key:0,onClick:J,class:"btn-switch",title:"Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±"}," ðŸŒ Online ")):d("",!0),C.value?d("",!0):(n(),l("button",{key:1,onClick:K,class:"btn-switch",title:"Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù„ÙˆÙƒÙ„"}," ðŸ’» Local ")),_.value?(n(),l("button",{key:2,onClick:j,class:"btn-sync",disabled:v.value,title:"Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ© - Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ù† sync_queue Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±"},[v.value?(n(),l("span",es,"â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...")):(n(),l("span",Ze,"ðŸ”„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©"))],8,Ye)):d("",!0),f(w(k),{href:L.route("sync-monitor.index"),class:"btn-details"},{default:y(()=>W[1]||(W[1]=[T(" ðŸ“Š Ø§Ù„ØªÙØ§ØµÙŠÙ„ ")])),_:1},8,["href"]),e("button",{onClick:B,class:"btn-close"}," âœ• ")])]),v.value?(n(),l("div",ss,[e("div",{class:"progress-fill",style:oe({width:p.value+"%"})},null,4)])):d("",!0)])],2)):d("",!0)}},as=N(ts,[["__scopeId","data-v-6b373022"]]),ns={class:"wifi-icon-header"},ls=["title"],os={key:0,class:"badge bg-warning badge-number position-absolute top-0 start-100 translate-middle"},is={class:"dropdown-item-text"},rs={class:"d-flex justify-content-between align-items-center mb-2"},ds={class:"d-flex justify-content-between align-items-center mb-2"},us={class:"badge bg-warning"},cs={key:0,class:"d-flex justify-content-between align-items-center mb-2"},vs={key:1,class:"d-flex justify-content-between align-items-center"},ps={class:"badge bg-info"},fs=["disabled"],gs={key:0},ms={key:1},bs={__name:"WiFiIconHeader",props:{pendingCount:{type:Number,default:0}},setup(h){const c=h,o=le(),g=x(!1),v=x(navigator.onLine),s=x(!0),t=x(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),u=x(!1),i=x(!1),C=x(!1),_=x(null),p=x(null),A=x("--:--"),I=S(()=>v.value&&s.value),G=S(()=>I.value?c.pendingCount>0?`${c.pendingCount} Ù…Ù„Ù Ù…Ø¹Ù„Ù‚`:"Ù…ØªØµÙ„ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ù…ØªØ²Ø§Ù…Ù†Ø©":"ØºÙŠØ± Ù…ØªØµÙ„"),O=()=>{g.value=!g.value},j=()=>{g.value=!1},B=async(m=!1)=>{var a;try{const $=await z.get("/api/sync-monitor/check-health",{timeout:5e3,withCredentials:!0});return s.value=((a=$.data)==null?void 0:a.success)!==!1,m&&(s.value?o.success("âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ù…ØªØ§Ø­"):o.warning("âš ï¸ Ø§Ù„Ø³ÙŠØ±ÙØ± ØºÙŠØ± Ù…ØªØ§Ø­")),s.value}catch{return s.value=!1,m&&o.error("âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±"),!1}},D=async()=>{var m,a;if(t.value)try{const $=await z.get("/api/sync-monitor/auto-sync-status",{timeout:3e3,withCredentials:!0});if((m=$.data)!=null&&m.success&&((a=$.data)!=null&&a.status)){const M=$.data.status;i.value=M.enabled,C.value=M.is_running,_.value=M.next_sync_in,p.value=M.last_sync_at}}catch{i.value=!1}},P=m=>{if(m==null)return"--:--";if(m<=0)return"â±ï¸ Ø§Ù„Ø¢Ù†";const a=Math.floor(m/60),$=m%60;return`${a.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`},K=()=>{_.value!==null&&_.value>0?(_.value--,A.value=P(_.value)):_.value===0?A.value="â±ï¸ Ø§Ù„Ø¢Ù†":A.value="--:--"},J=async()=>{await B(!0),j()},L=()=>{var a;const m=((a=window.connectionInfo)==null?void 0:a.local_url)||"http://127.0.0.1:8000/";o.info("ðŸ”„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Local...",{timeout:2e3}),j(),setTimeout(()=>{window.location.href=m},500)},W=()=>{var a;const m=((a=window.connectionInfo)==null?void 0:a.online_url)||"https://system.intellijapp.com/";o.info("ðŸ”„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Online...",{timeout:2e3}),j(),setTimeout(()=>{window.location.href=m},500)},F=async()=>{var m,a,$;if(!I.value||!t.value){o.warning("ØºÙŠØ± Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª");return}if(!u.value){u.value=!0;try{const M=await z.post("/api/sync-monitor/auto-sync",{},{timeout:3e4,withCredentials:!0});if((m=M.data)!=null&&m.success){const V=(($=(a=M.data)==null?void 0:a.data)==null?void 0:$.push)||{},ee=V.synced||0,se=V.failed||0;ee>0?(o.success(`âœ… ØªÙ… Ù…Ø²Ø§Ù…Ù†Ø© ${ee} Ø³Ø¬Ù„`),setTimeout(()=>{window.location.reload()},1e3)):se>0?o.warning(`âš ï¸ ÙØ´Ù„ ${se} Ø³Ø¬Ù„`):o.info("â„¹ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØºÙŠÙŠØ±Ø§Øª Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©")}else o.error("âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©")}catch(M){console.error("Quick sync error:",M),o.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©")}finally{u.value=!1,j()}}},E=async()=>{v.value=!0,await B(!1)},U=()=>{v.value=!1,s.value=!1};return q(()=>{window.addEventListener("online",E),window.addEventListener("offline",U),B(!1),t.value&&D();const m=setInterval(()=>{v.value&&B(!1)},3e4),a=setInterval(()=>{t.value&&D()},1e4),$=setInterval(()=>{t.value&&i.value&&K()},1e3);Q(()=>{window.removeEventListener("online",E),window.removeEventListener("offline",U),clearInterval(m),clearInterval(a),clearInterval($)})}),(m,a)=>(n(),l("div",ns,[e("button",{onClick:O,class:"nav-link nav-icon position-relative",title:G.value},[e("i",{class:b(["bi",I.value?"bi-wifi":"bi-wifi-off",I.value?"text-success":"text-danger"])},null,2),h.pendingCount>0?(n(),l("span",os,r(h.pendingCount>99?"99+":h.pendingCount),1)):d("",!0)],8,ls),g.value?(n(),l("div",{key:0,class:"wifi-dropdown-menu dropdown-menu-end",onClick:a[0]||(a[0]=ce(()=>{},["stop"]))},[e("div",{class:"dropdown-header"},[a[1]||(a[1]=e("span",{class:"fw-bold"},"âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©",-1)),e("button",{onClick:j,class:"btn-close btn-sm"})]),a[12]||(a[12]=e("div",{class:"dropdown-divider"},null,-1)),e("div",is,[e("div",rs,[a[2]||(a[2]=e("small",{class:"text-muted"},"Ø§Ù„Ø­Ø§Ù„Ø©:",-1)),e("span",{class:b(["badge",I.value?"bg-success":"bg-danger"])},r(I.value?"ðŸŸ¢ Ù…ØªØµÙ„":"ðŸ”´ ØºÙŠØ± Ù…ØªØµÙ„"),3)]),e("div",ds,[a[3]||(a[3]=e("small",{class:"text-muted"},"Ù…Ù„ÙØ§Øª Ù…Ø¹Ù„Ù‚Ø©:",-1)),e("span",us,r(h.pendingCount),1)]),t.value?(n(),l("div",cs,[a[4]||(a[4]=e("small",{class:"text-muted"},"Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©:",-1)),e("span",{class:b(["badge",i.value?"bg-success":"bg-secondary"])},[e("i",{class:b(["bi",i.value?"bi-check-circle":"bi-x-circle","me-1"])},null,2),T(" "+r(i.value?"ØªØ¹Ù…Ù„":"Ù…ØªÙˆÙ‚ÙØ©"),1)],2)])):d("",!0),t.value&&i.value?(n(),l("div",vs,[a[6]||(a[6]=e("small",{class:"text-muted"},"Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©:",-1)),e("span",ps,[a[5]||(a[5]=e("i",{class:"bi bi-clock me-1"},null,-1)),T(" "+r(A.value),1)])])):d("",!0)]),a[13]||(a[13]=e("div",{class:"dropdown-divider"},null,-1)),t.value&&I.value?(n(),l("button",{key:0,onClick:F,class:"dropdown-item",disabled:u.value},[a[7]||(a[7]=e("i",{class:"bi bi-lightning-charge-fill text-warning me-2"},null,-1)),u.value?(n(),l("span",ms,"â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...")):(n(),l("span",gs,"Ù…Ø²Ø§Ù…Ù†Ø© Ø³Ø±ÙŠØ¹Ø©"))],8,fs)):d("",!0),e("button",{onClick:J,class:"dropdown-item"},a[8]||(a[8]=[e("i",{class:"bi bi-arrow-clockwise text-primary me-2"},null,-1),T(" ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ ")])),a[14]||(a[14]=e("div",{class:"dropdown-divider"},null,-1)),t.value?(n(),l("button",{key:1,onClick:W,class:"dropdown-item"},a[9]||(a[9]=[e("i",{class:"bi bi-cloud-fill text-info me-2"},null,-1),T(" Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Online ")]))):d("",!0),t.value?d("",!0):(n(),l("button",{key:2,onClick:L,class:"dropdown-item"},a[10]||(a[10]=[e("i",{class:"bi bi-laptop-fill text-success me-2"},null,-1),T(" Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Local ")]))),a[15]||(a[15]=e("div",{class:"dropdown-divider"},null,-1)),f(w(k),{href:m.route("sync-monitor.index"),class:"dropdown-item",onClick:j},{default:y(()=>a[11]||(a[11]=[e("i",{class:"bi bi-gear-fill text-secondary me-2"},null,-1),T(" ØµÙØ­Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ")])),_:1},8,["href"])])):d("",!0),g.value?(n(),l("div",{key:1,class:"menu-overlay-header",onClick:j})):d("",!0)]))}},re=N(bs,[["__scopeId","data-v-f784f8d9"]]),hs={class:"nav-item dropdown"},ws={class:"nav-link nav-icon position-relative active-users-icon",href:"#","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†"},ys={class:"active-users-wrapper"},ks={class:"active-users-avatars"},$s=["title"],_s={class:"user-initials"},xs={key:0,class:"user-avatar-circle empty-state",title:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù†Ø´Ø·ÙŠÙ†"},Cs={key:0,class:"badge bg-success badge-number position-absolute top-0 start-100 translate-middle",style:{"font-size":"0.65rem",padding:"0.25em 0.4em"}},Ls={class:"dropdown-menu dropdown-menu-end dropdown-menu-arrow",style:{"min-width":"250px"}},Ws={key:0,class:"px-3 py-2 text-muted text-center"},Ms={class:"d-flex align-items-center"},Ss=["src"],Is={class:"flex-grow-1"},Os={class:"fw-semibold",style:{"font-size":"0.9rem"}},Es={class:"text-muted"},js={key:1},Ts={__name:"ActiveUsers",setup(h){const c=x([]),o=x(0);let g=null;const v=async()=>{try{const u=await z.get("/api/active-users");c.value=u.data.active_users||[],o.value=u.data.count||0}catch(u){console.error("Error fetching active users:",u)}},s=u=>{if(!u)return"??";const i=u.trim().split(" ");return i.length>=2?(i[0][0]+i[1][0]).toUpperCase():u.substring(0,2).toUpperCase()},t=u=>{if(!u)return"#6c757d";const i=["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6","#1abc9c","#e67e22","#34495e","#16a085","#c0392b","#2980b9","#27ae60","#d35400","#8e44ad","#2c3e50"];let C=0;for(let p=0;p<u.length;p++)C=u.charCodeAt(p)+((C<<5)-C);const _=Math.abs(C)%i.length;return i[_]};return q(()=>{v(),g=setInterval(v,3e4)}),Q(()=>{g&&clearInterval(g)}),(u,i)=>(n(),l("li",hs,[e("a",ws,[e("div",ys,[e("div",ks,[(n(!0),l(Y,null,te(c.value.slice(0,3),(C,_)=>(n(),l("div",{key:C.id,class:"user-avatar-circle",style:oe({backgroundColor:t(C.name),zIndex:10-_,marginLeft:_>0?"-8px":"0"}),title:C.name},[e("span",_s,r(s(C.name)),1),i[0]||(i[0]=e("span",{class:"user-status-indicator"},null,-1))],12,$s))),128)),c.value.length===0?(n(),l("div",xs,i[1]||(i[1]=[e("i",{class:"bi bi-people"},null,-1)]))):d("",!0)])]),o.value>3?(n(),l("span",Cs," +"+r(o.value-3),1)):d("",!0)]),e("ul",Ls,[i[5]||(i[5]=e("li",{class:"dropdown-header"},[e("h6",null,"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†"),e("span",{class:"text-muted",style:{"font-size":"0.85rem"}},"Ø¢Ø®Ø± 3 Ø¯Ù‚Ø§Ø¦Ù‚")],-1)),i[6]||(i[6]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),c.value.length===0?(n(),l("li",Ws,i[2]||(i[2]=[e("small",null,"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù†Ø´Ø·ÙŠÙ†",-1)]))):d("",!0),(n(!0),l(Y,null,te(c.value,C=>(n(),l("li",{key:C.id,class:"px-3 py-2"},[e("div",Ms,[e("img",{src:C.avatar_url||"/dashboard-assets/img/profile-img.jpg",alt:"",class:"rounded-circle me-2",style:{width:"32px",height:"32px","object-fit":"cover"}},null,8,Ss),e("div",Is,[e("div",Os,r(C.name),1),e("small",Es,r(C.last_activity_at),1)]),i[3]||(i[3]=e("span",{class:"badge bg-success rounded-pill",style:{width:"8px",height:"8px",padding:"0"}},null,-1))])]))),128)),c.value.length>0?(n(),l("li",js,i[4]||(i[4]=[e("hr",{class:"dropdown-divider"},null,-1)]))):d("",!0),i[7]||(i[7]=e("li",{class:"px-3 py-2"},[e("small",{class:"text-muted"},[e("i",{class:"bi bi-arrow-clockwise"}),T(" ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ")])],-1))])]))}},de=N(Ts,[["__scopeId","data-v-ddb55599"]]),Us={id:"header",class:"header fixed-top d-flex align-items-center justify-content-between bg-gray-100 dark:bg-gray-800"},As={class:"d-flex align-items-center"},zs=["src"],Bs={class:"d-none d-lg-block dark:text-white"},Ns={class:"header-nav ms-auto text-gray-600 dark:text-gray-400"},Ds={class:"d-flex align-items-center text-gray-600 dark:text-gray-400"},Vs={class:"nav-item dropdown text-gray-600 dark:text-gray-400 me-2"},qs={value:"",selected:""},Ps={class:"nav-item text-gray-600 dark:text-gray-400 me-2"},Fs={class:"nav-item text-gray-600 dark:text-gray-400 me-2"},Hs={class:"nav-item dropdown text-gray-600 dark:text-gray-400 me-2"},Qs={key:0,class:"badge bg-primary badge-number position-absolute top-0 start-100 translate-middle"},Rs={class:"nav-item dropdown text-gray-600 dark:text-gray-400 me-2"},Gs={class:"nav-item dropdown pe-3 text-gray-600 dark:text-gray-400"},Ks={class:"nav-link nav-profile d-flex align-items-center pe-0",href:"#","data-bs-toggle":"dropdown"},Js=["src"],Xs={class:"d-none d-md-block dropdown-toggle ps-2 dark:text-white"},Ys={class:"dropdown-menu dropdown-menu-end dropdown-menu-arrow profile text-gray-600 dark:text-gray-400"},Zs={class:"dropdown-header"},et={class:"dark:text-white"},st={class:"dark:text-white"},tt=["href"],at={id:"main",class:"main bg-gray-100 dark:bg-gray-800"},nt={key:0,class:"alert alert-success bg-success text-light border-0 alert-dismissible fade show",role:"alert"},R=Z(),ae=S(()=>R.props.flash.success),H=S(()=>R.props.auth),ne=S(()=>Math.min(R.props.auth.notificationCount,9)),lt=S(()=>R.props.syncPendingCount||0),ot={components:{Sidebar:ie,SyncStatusBar:as,WiFiIconHeader:re,ActiveUsers:de},data(){return{parentMessage:"Hello from Parent"}}},it=Object.assign(ot,{__name:"AuthenticatedLayout",props:{translations:Object},setup(h){const c=Z();x(!1);const o=x(!1),g=S(()=>window.translations||{}),v=S(()=>c.props.company_name||"WEDOO EVENTS"),s=S(()=>c.props.company_logo||"dashboard-assets/img/WEDOO  LOGO PNG.webp"),t=()=>{o.value=!o.value,o.value?document.body.classList.add("toggle-sidebar"):document.body.classList.remove("toggle-sidebar")},u=()=>{o.value=!1,document.body.classList.remove("toggle-sidebar")},i=()=>{window.innerWidth>=1200&&(o.value=!1,document.body.classList.remove("toggle-sidebar"))};q(()=>{window.addEventListener("resize",i),window.innerWidth<1200&&(document.body.classList.remove("toggle-sidebar"),o.value=!1)}),Q(()=>{window.removeEventListener("resize",i)});const C=_=>{const p=_.target.value,I=`${window.location.origin}/lang/change?lang=${p}`;window.location.href=I};return(_,p)=>(n(),l(Y,null,[e("header",Us,[e("div",As,[e("button",{onClick:t,class:"mobile-menu-toggle d-lg-none btn btn-link p-0 text-gray-600 dark:text-gray-400 me-3",type:"button","aria-label":"Toggle sidebar"},p[0]||(p[0]=[e("i",{class:"bi bi-list fs-3"},null,-1)])),f(w(k),{class:"logo d-flex align-items-center",href:_.route("dashboard")},{default:y(()=>[e("img",{src:`/${s.value}`,alt:""},null,8,zs),e("span",Bs,r(v.value),1)]),_:1},8,["href"])]),e("nav",Ns,[e("ul",Ds,[e("li",Vs,[e("select",{class:"form-control changeLang",onChange:C,style:{"min-width":"120px"}},[e("option",qs,r(g.value.language||"Ø§Ù„Ù„ØºØ©")+" ðŸŒ ",1),p[1]||(p[1]=e("option",{value:"en"}," English",-1)),p[2]||(p[2]=e("option",{value:"ar"},"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",-1))],32)]),e("li",Ps,[f(be)]),e("li",Fs,[f(de)]),e("li",Hs,[f(w(k),{class:"nav-link nav-icon position-relative",href:_.route("notification.index")},{default:y(()=>[p[3]||(p[3]=e("i",{class:"bi bi-bell"},null,-1)),ne.value>0?(n(),l("span",Qs,r(ne.value),1)):d("",!0)]),_:1},8,["href"])]),e("li",Rs,[f(re,{pendingCount:lt.value},null,8,["pendingCount"])]),e("li",Gs,[e("a",Ks,[e("img",{src:H.value.avatar_url||"/dashboard-assets/img/profile-img.jpg",alt:"Profile",class:"rounded-circle",style:{width:"32px",height:"32px","object-fit":"cover"}},null,8,Js),e("span",Xs,r(H.value.name),1)]),e("ul",Ys,[e("li",Zs,[e("h6",et,r(H.value.name),1),e("span",st,r(H.value.email),1)]),p[6]||(p[6]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),e("li",null,[e("a",{class:"dropdown-item d-flex align-items-center dark:text-white",href:_.route("profile.edit")},[p[4]||(p[4]=e("i",{class:"bi bi-person"},null,-1)),e("span",null,r(g.value.my_profile||"Ø­Ø³Ø§Ø¨ÙŠ Ø§Ù„Ø´Ø®ØµÙŠ"),1)],8,tt)]),p[7]||(p[7]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),e("li",null,[f(w(k),{href:_.route("logout"),method:"post",as:"button",class:"dropdown-item d-flex align-items-center"},{default:y(()=>[p[5]||(p[5]=e("i",{class:"bi bi-box-arrow-right"},null,-1)),e("span",null,r(g.value.log_out||"ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬"),1)]),_:1},8,["href"])])])])])])]),o.value?(n(),l("div",{key:0,onClick:u,class:"sidebar-overlay d-lg-none"})):d("",!0),f(ie,{translations:g.value,permissions:w(c).props.Permissions},null,8,["translations","permissions"]),e("main",at,[ae.value?(n(),l("div",nt,[T(r(ae.value)+" ",1),p[8]||(p[8]=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))])):d("",!0),e("main",null,[ve(_.$slots,"default",{},void 0,!0)])])],64))}}),ut=N(it,[["__scopeId","data-v-b1b80d02"]]);export{ut as A};
