import{Q as F,m as $,o as r,c as y,w as f,b as t,t as s,a as k,d as m,u as v,k as g,e as q,i as x,x as w,g as d,f as i,s as N,F as D,G as b}from"./app-CupeuroJ.js";import{_ as U}from"./AuthenticatedLayout-BoGgqcxh.js";import{_ as A}from"./Pagination-DJkEPubk.js";import{S as u}from"./sweetalert2.esm.all-DwEdJQJv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"pagetitle dark:text-white"},P={class:"dark:text-white"},j={class:"breadcrumb"},G={class:"breadcrumb-item"},L={class:"breadcrumb-item active dark:text-white"},O={class:"section dashboard"},Q={class:"card"},z={class:"card-body"},H={class:"row filter_form"},I={class:"col-md-3"},J=["placeholder"],K={class:"col-md-3"},R=["placeholder"],W={class:"col-md-3"},X={type:"submit",class:"btn btn-primary"},Y={class:"col-md-3"},Z={class:"table-responsive"},tt={class:"table text-center"},et={scope:"col"},st={scope:"col"},ot={scope:"col"},nt={scope:"col"},rt={scope:"col"},at={scope:"col"},lt={scope:"col"},it={key:0,scope:"col"},ct={key:1,scope:"col"},dt={key:2,scope:"col"},ut={scope:"row"},ht={class:"inline-flex items-center me-5 cursor-pointer"},ft=["checked","onChange"],mt={key:0},bt=["href"],pt={key:1},_t=["onClick"],yt={key:2},Bt={__name:"index",props:{products:Object,translations:Array},setup(o){const l=o,B=F(),h=$({name:"",model:""}),C=()=>{b.get(route("products.index"),h,{preserveState:!0,preserveScroll:!0})},c=a=>B.props.auth_permissions.includes(a),S=a=>{u.fire({title:l.translations.are_your_sure,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#7066e0",confirmButtonText:l.translations.yes,cancelButtonText:l.translations.cancel}).then(e=>{e.isConfirmed&&b.post(`/products/${a}/activate`,{onSuccess:()=>{u.fire("Updated !","product stuaus item has been updated.","success")},onError:()=>{u.fire("Error!","There was an issue updating product status.","error")}})})},T=a=>{u.fire({title:l.translations.are_you_sure,text:l.translations.you_will_not_be_able_to_revert_this,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:l.translations.yes,cancelButtonText:l.translations.cancel}).then(e=>{e.isConfirmed&&b.delete("products/"+a,{onSuccess:()=>{u.fire({title:l.translations.data_deleted_successfully,icon:"success"})},onError:()=>{u.fire("Error!","There was an issue deleting the product.","error")}})})};return(a,e)=>(r(),y(U,{translations:o.translations},{default:f(()=>{var p,_;return[t("div",M,[t("h1",P,s(o.translations.products),1),t("nav",null,[t("ol",j,[t("li",G,[k(v(g),{class:"nav-link dark:text-white",href:a.route("dashboard")},{default:f(()=>[m(s(o.translations.home),1)]),_:1},8,["href"])]),t("li",L,s(o.translations.products),1)])])]),t("section",O,[t("div",Q,[e[9]||(e[9]=t("div",{class:"card-header"},[t("div",{class:"d-flex"})],-1)),t("div",z,[t("form",{onSubmit:q(C,["prevent"])},[t("div",H,[t("div",I,[x(t("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":e[0]||(e[0]=n=>h.name=n),placeholder:o.translations.name},null,8,J),[[w,h.name]])]),t("div",K,[x(t("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":e[1]||(e[1]=n=>h.model=n),placeholder:o.translations.model},null,8,R),[[w,h.model]])]),t("div",W,[t("button",X,[m(s(o.translations.search)+"   ",1),e[2]||(e[2]=t("i",{class:"bi bi-search"},null,-1))])]),t("div",Y,[c("create products")?(r(),y(v(g),{key:0,class:"btn btn-primary",href:a.route("products.create")},{default:f(()=>[m(s(o.translations.create)+"   ",1),e[3]||(e[3]=t("i",{class:"bi bi-plus-circle"},null,-1))]),_:1},8,["href"])):d("",!0)])])],32),t("div",Z,[t("table",tt,[t("thead",null,[t("tr",null,[e[4]||(e[4]=t("th",{scope:"col"},"#",-1)),t("th",et,s(o.translations.name),1),t("th",st,s(o.translations.barcode),1),t("th",ot,s(o.translations.model),1),t("th",nt,s(o.translations.quantity),1),t("th",rt,s(o.translations.price),1),t("th",at,s(o.translations.created_at),1),t("th",lt,s(o.translations.statusProdact),1),c("update products")?(r(),i("th",it,s(o.translations.edit),1)):d("",!0),c("delete products")?(r(),i("th",ct,s(o.translations.delete),1)):d("",!0),c("update products")?(r(),i("th",dt,s(o.translations.add_quantity),1)):d("",!0)])]),t("tbody",null,[(r(!0),i(D,null,N((p=o.products)==null?void 0:p.data,(n,V)=>(r(),i("tr",{key:n.id},[t("th",ut,s(V+1),1),t("td",null,s(n.name),1),t("td",null,s(n.barcode),1),t("td",null,s(n.model),1),t("td",null,s(n.quantity),1),t("td",null,s(n.price),1),t("td",null,s(n.created),1),t("td",null,[t("div",null,[t("label",ht,[t("input",{type:"checkbox",class:"sr-only peer",checked:n.is_active==1,onChange:E=>S(n.id)},null,40,ft),e[5]||(e[5]=t("div",{class:"relative w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"},null,-1))])])]),c("update products")?(r(),i("td",mt,[t("a",{class:"btn btn-primary",href:a.route("products.edit",{product:n.id})},e[6]||(e[6]=[t("i",{class:"bi bi-pencil-square"},null,-1)]),8,bt)])):d("",!0),c("delete products")?(r(),i("td",pt,[t("button",{type:"button",class:"btn btn-danger",onClick:E=>T(n.id)},e[7]||(e[7]=[t("i",{class:"bi bi-trash"},null,-1)]),8,_t)])):d("",!0),c("update products")?(r(),i("td",yt,e[8]||(e[8]=[t("button",{class:"btn btn-success"},[t("i",{class:"bi bi-currency-dollar"})],-1)]))):d("",!0)]))),128))])])])])]),k(A,{links:(_=o.products)==null?void 0:_.links},null,8,["links"])])]}),_:1},8,["translations"]))}};export{Bt as default};
