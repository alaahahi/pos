import{s as j,r as x,a as r,c as M,w as $,e as v,b as e,q as V,l as b,y as g,u as D,f as p,D as R,E as k,n as E,z as X,G as le,t as h,H as ie,C as re,i as y,F as B,g as U,Q as de,x as ue,d as _,j as me,I as C,h as N}from"./app-rrtI315f.js";import{_ as ce}from"./AuthenticatedLayout-CiFcEoWJ.js";import{_ as ve}from"./Pagination-CO4ga6T5.js";import{S as fe}from"./sweetalert2.esm.all-DwEdJQJv.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const he={key:0,class:"modal-mask"},pe={class:"modal-wrapper max-h-[80vh]"},be={class:"modal-container"},ge={class:"modal-header"},ye={class:"modal-body"},xe={class:"my-4 mx-5"},$e={key:0,class:"text-danger"},we={class:"my-4 mx-5"},_e={class:"my-4 mx-5"},De={class:"modal-footer my-2"},ke={class:"d-flex w-100"},Me={class:"px-4 flex-fill"},Ce={class:"px-4 flex-fill"},Se={__name:"ModalConvertDollarDinar",props:{show:Boolean,boxes:Array},setup(n){j();const t=x({user:{percentage:0},amount:0,exchangeRate:1}),l=()=>{t.value={user:{percentage:0},amount:0}};function m(){d(),t.value.amountResultDinar=Math.floor(t.value.amountDollar*(t.value.exchangeRate/100))}let u=x(!1);function d(){const a=t.value.exchangeRate;/^\d{6}$/.test(a)?u.value=!1:u.value=!0}return(a,s)=>(r(),M(R,{name:"modal"},{default:$(()=>[n.show?(r(),v("div",he,[e("div",pe,[e("div",be,[e("div",ge,[V(a.$slots,"header")]),e("div",ye,[e("div",null,[e("div",xe,[s[7]||(s[7]=e("label",{for:"amountDinar",class:"form-label float-end"},"سعر الصرف 100",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[0]||(s[0]=c=>m()),"onUpdate:modelValue":s[1]||(s[1]=c=>t.value.exchangeRate=c)},null,544),[[g,t.value.exchangeRate]]),D(u)?(r(),v("div",$e," مطلوب رقم من 6 خانة فقط ")):p("",!0)]),e("div",we,[s[8]||(s[8]=e("label",{for:"amountDollar",class:"form-label float-end"}," المبلغ بالدولار (المبلغ المسحوب من الصندوق بالدولار) ",-1)),b(e("input",{id:"amountDollar",type:"number",class:"form-control",onInput:s[2]||(s[2]=c=>m()),"onUpdate:modelValue":s[3]||(s[3]=c=>t.value.amountDollar=c)},null,544),[[g,t.value.amountDollar]])]),e("div",_e,[s[9]||(s[9]=e("label",{for:"amountDinar",class:"form-label float-end"}," المبلغ بالدينار العراقي (المبلغ المضاف للصندوق بالدينار) ",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=c=>t.value.amountResultDinar=c)},null,512),[[g,t.value.amountResultDinar]])])])]),e("div",De,[e("div",ke,[e("div",Me,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:s[5]||(s[5]=c=>{a.$emit("close")})}," تراجع ")]),e("div",Ce,[e("button",{class:"btn btn-danger w-100 text-center",onClick:s[6]||(s[6]=c=>{a.$emit("a",t.value),l()})}," نعم ")])])])])])])):p("",!0)]),_:3}))}},Le={key:0,class:"modal-mask"},Ae={class:"modal-wrapper max-h-[80vh]"},Be={class:"modal-container"},Ue={class:"modal-header"},Ve={class:"modal-body"},Re={class:"my-4 mx-5"},ze={key:0,class:"text-danger"},Ie={class:"my-4 mx-5"},Te={class:"my-4 mx-5"},Fe={class:"modal-footer my-2"},Ne={class:"row w-100"},je={class:"col-6 px-4"},Ee={class:"col-6 px-4"},He={__name:"ModalConvertDinarDollar",props:{show:Boolean,boxes:Array},setup(n){j();const t=x({user:{percentage:0},amount:0,exchangeRate:1}),l=()=>{t.value={user:{percentage:0},amount:0}};let m=x(!1);function u(){const a=t.value.exchangeRate;/^\d{6}$/.test(a)?m.value=!1:m.value=!0}function d(){u(),t.value.amountResultDollar=Math.floor(t.value.amountDinar/(t.value.exchangeRate/100))}return(a,s)=>(r(),M(R,{name:"modal"},{default:$(()=>[n.show?(r(),v("div",Le,[e("div",Ae,[e("div",Be,[e("div",Ue,[V(a.$slots,"header")]),e("div",Ve,[e("div",null,[e("div",Re,[s[7]||(s[7]=e("label",{for:"amountDinar",class:"form-label float-end"},"سعر الصرف 100$",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[0]||(s[0]=c=>d()),"onUpdate:modelValue":s[1]||(s[1]=c=>t.value.exchangeRate=c)},null,544),[[g,t.value.exchangeRate]]),D(m)?(r(),v("div",ze," مطلوب رقم من 6 خانة فقط ")):p("",!0)]),e("div",Ie,[s[8]||(s[8]=e("label",{for:"amountDinar",class:"form-label float-end"}," المبلغ بالدينار العراقي (المبلغ المسحوب من الصندوق بالدينار العراقي) ",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[2]||(s[2]=c=>d()),"onUpdate:modelValue":s[3]||(s[3]=c=>t.value.amountDinar=c)},null,544),[[g,t.value.amountDinar]])]),e("div",Te,[s[9]||(s[9]=e("label",{for:"amountDollar",class:"form-label float-end"}," المبلغ بالدولار (المبلغ المضاف للصندوق بالدولار) ",-1)),b(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=c=>t.value.amountResultDollar=c)},null,512),[[g,t.value.amountResultDollar]])])])]),e("div",Fe,[e("div",Ne,[e("div",je,[e("button",{class:"btn btn-secondary w-100 py-2 text-center",onClick:s[5]||(s[5]=c=>{a.$emit("close")})}," تراجع ")]),e("div",Ee,[e("button",{class:"btn btn-danger w-100 py-2 text-center",onClick:s[6]||(s[6]=c=>{a.$emit("a",t.value),l()})}," نعم ")])])])])])])):p("",!0)]),_:3}))}},Ye={key:0,class:"modal-mask"},Oe={class:"modal-wrapper max-h-[80vh]"},Xe={class:"modal-container"},Ze={class:"modal-header"},Pe={class:"modal-body"},Qe={class:"row g-3"},qe={class:"col-lg-6"},Ge={class:"col-lg-6"},Je={class:"col-lg-6"},Ke={class:"col-lg-6"},We={class:"modal-footer"},et={class:"d-flex w-100"},tt={class:"px-2 flex-fill"},ot={class:"px-2 flex-fill"},st=["disabled"],at={__name:"ModalAddToBox",props:{show:Boolean,data:Array,accounts:Array},setup(n){const t=x({date:l(),amountDollar:0,amountDinar:0,amountNote:""});function l(){const d=new Date,a=d.getFullYear(),s=String(d.getMonth()+1).padStart(2,"0"),c=String(d.getDate()).padStart(2,"0");return`${a}-${s}-${c}`}const m=()=>{t.value={date:l()}},u=d=>{k.post("/api/add-to-box",d).then(a=>{}).catch(a=>{$emit("close")})};return(d,a)=>(r(),M(R,{name:"modal"},{default:$(()=>[n.show?(r(),v("div",Ye,[e("div",Oe,[e("div",Xe,[e("div",Ze,[V(d.$slots,"header")]),e("div",Pe,[e("div",Qe,[e("div",qe,[a[6]||(a[6]=e("label",{for:"amountDollar",class:"form-label"},"المبلغ بالدولار",-1)),b(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>t.value.amountDollar=s)},null,512),[[g,t.value.amountDollar]])]),e("div",Ge,[a[7]||(a[7]=e("label",{for:"amountDinar",class:"form-label"},"المبلغ بالدينار",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=s=>t.value.amountDinar=s)},null,512),[[g,t.value.amountDinar]])]),e("div",Je,[a[8]||(a[8]=e("label",{for:"note",class:"form-label"},"ملاحظة",-1)),b(e("input",{id:"note",type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=s=>t.value.amountNote=s)},null,512),[[g,t.value.amountNote]])]),e("div",Ke,[a[9]||(a[9]=e("label",{for:"date",class:"form-label"},"التاريخ",-1)),b(e("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=s=>t.value.date=s)},null,512),[[g,t.value.date]])])])]),e("div",We,[e("div",et,[e("div",tt,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:a[4]||(a[4]=s=>{d.$emit("close")})}," تراجع ")]),e("div",ot,[e("button",{class:"btn btn-danger w-100 text-center",onClick:a[5]||(a[5]=s=>{u(t.value),d.$emit("a"),m()}),disabled:!t.value.amountDollar&&!t.value.amountDinar}," نعم ",8,st)])])])])])])):p("",!0)]),_:3}))}},nt={key:0,class:"modal-mask"},lt={class:"modal-wrapper max-h-[80vh]"},it={class:"modal-container"},rt={class:"modal-header"},dt={class:"modal-body"},ut={class:"row g-3"},mt={class:"col-lg-6"},ct={class:"col-lg-6"},vt={class:"col-lg-6"},ft={class:"col-lg-6"},ht={class:"modal-footer"},pt={class:"d-flex w-100"},bt={class:"px-2 flex-fill"},gt={class:"px-2 flex-fill"},yt=["disabled"],xt={__name:"ModalDropFromBox",props:{show:Boolean,data:Array,accounts:Array},setup(n){const t=x({date:l(),amountDollar:0,amountDinar:0,amountNote:""});function l(){const d=new Date,a=d.getFullYear(),s=String(d.getMonth()+1).padStart(2,"0"),c=String(d.getDate()).padStart(2,"0");return`${a}-${s}-${c}`}const m=()=>{t.value={date:l()}},u=d=>{k.post("/api/drop-from-box",d).then(a=>{}).catch(a=>{$emit("close")})};return(d,a)=>(r(),M(R,{name:"modal"},{default:$(()=>[n.show?(r(),v("div",nt,[e("div",lt,[e("div",it,[e("div",rt,[V(d.$slots,"header")]),e("div",dt,[e("div",ut,[e("div",mt,[a[6]||(a[6]=e("label",{for:"amountDollar",class:"form-label"},"المبلغ بالدولار",-1)),b(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>t.value.amountDollar=s)},null,512),[[g,t.value.amountDollar]])]),e("div",ct,[a[7]||(a[7]=e("label",{for:"amountDinar",class:"form-label"},"المبلغ بالدينار",-1)),b(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=s=>t.value.amountDinar=s)},null,512),[[g,t.value.amountDinar]])]),e("div",vt,[a[8]||(a[8]=e("label",{for:"note",class:"form-label"},"ملاحظة",-1)),b(e("input",{id:"note",type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=s=>t.value.amountNote=s)},null,512),[[g,t.value.amountNote]])]),e("div",ft,[a[9]||(a[9]=e("label",{for:"date",class:"form-label"},"التاريخ",-1)),b(e("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=s=>t.value.date=s)},null,512),[[g,t.value.date]])])])]),e("div",ht,[e("div",pt,[e("div",bt,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:a[4]||(a[4]=s=>{d.$emit("close")})}," تراجع ")]),e("div",gt,[e("button",{class:"btn btn-danger w-100 text-center",onClick:a[5]||(a[5]=s=>{u(t.value),d.$emit("a"),m()}),disabled:!t.value.amountDollar&&!t.value.amountDinar}," نعم ",8,yt)])])])])])])):p("",!0)]),_:3}))}},$t={},wt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function _t(n,t){return r(),v("svg",wt,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"},null,-1)]))}const Z=z($t,[["render",_t]]),Dt={},kt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Mt(n,t){return r(),v("svg",kt,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"},null,-1)]))}const Ct=z(Dt,[["render",Mt]]),St={},Lt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function At(n,t){return r(),v("svg",Lt,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)]))}const Bt=z(St,[["render",At]]),Ut={name:"line-scale",props:{color:{type:String,default:"#CCC"},size:{type:String,default:"40px"},duration:{type:String,default:"0.6s"}}},Vt=["width","height"],Rt=["fill"],zt=["dur"],It=["dur"],Tt=["fill"],Ft=["dur"],Nt=["dur"],jt=["fill"],Et=["dur"],Ht=["dur"];function Yt(n,t,l,m,u,d){return r(),v("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:l.size,height:l.size,viewBox:"0 0 24 30",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},[e("rect",{x:"0",y:"13",width:"4",height:"5",fill:l.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:l.duration,repeatCount:"indefinite"},null,8,zt),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:l.duration,repeatCount:"indefinite"},null,8,It)],8,Rt),e("rect",{x:"10",y:"13",width:"4",height:"5",fill:l.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:l.duration,repeatCount:"indefinite"},null,8,Ft),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:l.duration,repeatCount:"indefinite"},null,8,Nt)],8,Tt),e("rect",{x:"20",y:"13",width:"4",height:"5",fill:l.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:l.duration,repeatCount:"indefinite"},null,8,Et),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:l.duration,repeatCount:"indefinite"},null,8,Ht)],8,jt)],8,Vt)}const Ot=z(Ut,[["render",Yt]]),Xt={LineScale:Ot},Zt={name:"vue-element-loading",props:{active:Boolean,spinner:{type:String,default:"spinner"},text:{type:String,default:""},textStyle:{type:Object,default:function(){return{}}},color:{type:String,default:"#000"},isFullScreen:{type:Boolean,default:!1},backgroundColor:{type:String,default:"rgba(255, 255, 255, .9)"},size:{type:String,default:"40"},duration:{type:String,default:"0.6"},delay:{type:[String,Number],default:0}},data(){return{isActive:this.active||!1,isActiveDelay:!1}},mounted(){if(this.$refs.velmld.parentNode.classList.add("velmld-parent"),this.delay){const n=+this.delay*1e3;this.delayActive(n)}},methods:{delayActive(n){this.isActiveDelay=!0,setTimeout(()=>{this.isActiveDelay=!1},n)}},watch:{active(n){this.isActive=n,n&&this.$refs.velmld.parentNode.classList.add("velmld-parent")}},components:Xt},Pt={class:"velmld-spinner"};function Qt(n,t,l,m,u,d){return r(),M(R,{name:"fade"},{default:$(()=>[b(e("div",{class:E([{"velmld-full-screen":l.isFullScreen},"velmld-overlay"]),style:X({backgroundColor:l.backgroundColor}),ref:"velmld"},[e("div",Pt,[V(n.$slots,"default",{},()=>[(r(),M(le(l.spinner),{color:l.color,size:`${l.size}px`,duration:`${l.duration}s`},null,8,["color","size","duration"]))],!0),l.text.length?(r(),v("div",{key:0,style:X({color:l.color,...l.textStyle})},h(l.text),5)):p("",!0)])],6),[[ie,u.isActive||u.isActiveDelay]])]),_:3})}const qt=z(Zt,[["render",Qt],["__scopeId","data-v-82159762"]]),Gt={props:{server:{type:String,default:"/api/upload"},isInvalid:{type:Boolean,default:!1},media:{type:Array,default:[]},location:{type:String,default:""},max:{type:Number,default:null},maxFilesize:{type:Number,default:4},warnings:{type:Boolean,default:!0},headers:{type:Object,default:null}},mounted(){this.init()},data(){return{addedMedia:[],savedMedia:[],removedMedia:[],config:{headers:null},isLoading:!0}},methods:{init(){this.savedMedia=this.media,this.config.headers=this.headers,this.savedMedia.forEach((n,t)=>{this.savedMedia[t].url||(this.savedMedia[t].url=this.location+"/"+n.name)}),setTimeout(()=>this.isLoading=!1,1e3),this.$emit("init",this.allMedia)},async fileChange(n){this.isLoading=!0;let t=n.target.files;for(var l=0;l<t.length;l++)if(!this.max||this.allMedia.length<this.max)if(t[l].size<=this.maxFilesize*1e6){let m=new FormData,u=URL.createObjectURL(t[l]);m.set("image",t[l]);const{data:d}=await k.post(this.server,m,this.config);let a={url:u,name:d.name,size:t[l].size,type:t[l].type};this.addedMedia.push(a),this.$emit("change",this.allMedia),this.$emit("add",a,this.addedMedia)}else{this.$emit("maxFilesize",t[l].size),this.warnings&&alert(`The file you are trying to upload is too big. 
Maximum Filesize: `+this.maxFilesize+"MB");break}else{this.$emit("max"),this.warnings&&alert(`You have reached the maximum number of files that you can upload. 
Maximum Files: `+this.max);break}n.target.value=null,this.isLoading=!1},removeAddedMedia(n){let t=this.addedMedia[n];this.addedMedia.splice(n,1),this.$emit("change",this.allMedia),this.$emit("remove",t,this.removedMedia)},removeSavedMedia(n){let t=this.savedMedia[n];this.removedMedia.push(t),this.savedMedia.splice(n,1),this.$emit("change",this.allMedia),this.$emit("remove",t,this.removedMedia)}},computed:{allMedia(){return[...this.savedMedia,...this.addedMedia]}},emits:["init","change","add","remove","max","maxFilesize"],components:{Loader:qt}},Jt={class:"mu-elements-wraper"},Kt={class:"mu-plusbox-container"},Wt={class:"mu-plusbox"},eo=["src"],to=["onClick"],oo=["src"],so=["onClick"],ao=["value"],no=["value"],lo={key:0,class:"mu-mt-1"};function io(n,t,l,m,u,d){const a=re("Loader");return r(),v("div",null,[e("div",{class:E(["mu-container",l.isInvalid?"mu-red-border":""])},[y(a,{color:"#0275d8",active:u.isLoading,spinner:"line-scale","background-color":"rgba(255, 255, 255, .4)"},null,8,["active"]),e("div",Jt,[e("div",Kt,[e("label",Wt,[t[1]||(t[1]=e("svg",{class:"mu-plus-icon",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11s11-4.925 11-11S18.075 1 12 1zm1 15a1 1 0 1 1-2 0v-3H8a1 1 0 1 1 0-2h3V8a1 1 0 1 1 2 0v3h3a1 1 0 1 1 0 2h-3v3z",fill:"currentColor"})])],-1)),e("input",{onChange:t[0]||(t[0]=(...s)=>d.fileChange&&d.fileChange(...s)),type:"file",accept:"image/*",multiple:"",hidden:""},null,32)])]),(r(!0),v(B,null,U(u.savedMedia,(s,c)=>(r(),v("div",{key:c,class:"mu-image-container"},[e("img",{src:l.location+"/"+s.name,alt:"",class:"mu-images-preview"},null,8,eo),e("button",{onClick:w=>d.removeSavedMedia(c),class:"mu-close-btn",type:"button"},t[2]||(t[2]=[e("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[e("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)]),8,to)]))),128)),(r(!0),v(B,null,U(u.addedMedia,(s,c)=>(r(),v("div",{key:c,class:"mu-image-container"},[e("img",{src:s.url,alt:"",class:"mu-images-preview"},null,8,oo),e("button",{onClick:w=>d.removeAddedMedia(c),class:"mu-close-btn",type:"button"},t[3]||(t[3]=[e("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[e("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)]),8,so)]))),128))])],2),e("div",null,[(r(!0),v(B,null,U(u.addedMedia,(s,c)=>(r(),v("div",{key:c,class:"mu-mt-1"},[e("input",{type:"text",name:"added_media[]",value:s.name,hidden:""},null,8,ao)]))),128)),(r(!0),v(B,null,U(u.removedMedia,(s,c)=>(r(),v("div",{key:c,class:"mu-mt-1"},[e("input",{type:"text",name:"removed_media[]",value:s.name,hidden:""},null,8,no)]))),128)),d.allMedia.length?(r(),v("div",lo,t[4]||(t[4]=[e("input",{type:"text",name:"media",value:"1",hidden:""},null,-1)]))):p("",!0)])])}const ro=z(Gt,[["render",io],["__scopeId","data-v-01f6b32e"]]),uo={key:0,class:"modal-mask"},mo={class:"modal-wrapper max-h-[80vh]"},co={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},vo={class:"modal-header"},fo={class:"dark:text-gray-300 py-4 text-center"},ho={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},po={class:"mb-4"},bo={class:"mt-3"},go={key:0,class:"text-danger"},yo={class:"modal-footer my-2"},xo={class:"flex flex-row w-100"},$o={class:"basis-1/2 px-4 w-100"},wo={class:"basis-1/2 px-4"},_o={__name:"ModalUploader",props:{show:Boolean,formData:Object,client:Array},setup(n){const t=j();function l(m){k.get("/api/TransactionsImageDel?name="+m.name).then(u=>{t.success("تم  حذف الصورة بنجاح",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(u=>{console.error(u)})}return(m,u)=>(r(),M(R,{name:"modal"},{default:$(()=>{var d,a,s;return[n.show?(r(),v("div",uo,[e("div",mo,[e("div",co,[e("div",vo,[V(m.$slots,"header")]),e("h2",fo,h(n.formData.description),1),e("div",ho,[e("div",po,[u[2]||(u[2]=e("label",{class:"form-label w-100 dark:text-gray-300"},"الصور",-1)),e("div",bo,[y(D(ro),{server:"/api/TransactionsUpload?transactionsId="+n.formData.id,"is-invalid":!!((d=m.errors)!=null&&d.media),onChange:m.changeMedia,onInitMedia:m.media,location:"/public/uploadsResized",media:n.formData.transactions_images,onAdd:m.addMedia,onRemove:l},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(a=m.errors)!=null&&a.media?(r(),v("p",go,h((s=m.errors)==null?void 0:s.media[0]),1)):p("",!0)])]),e("div",yo,[e("div",xo,[e("div",$o,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded text-center",onClick:u[0]||(u[0]=c=>{m.$emit("close")})},"تراجع")]),e("div",wo,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6 text-center",onClick:u[1]||(u[1]=c=>{m.$emit("a",n.formData)})},"نعم")])])])])])])):p("",!0)]}),_:3}))}},Do={class:"pagetitle dark:text-white"},ko={class:"dark:text-white"},Mo={class:"section dashboard"},Co={class:"card"},So={class:"card-header"},Lo={class:"row"},Ao={class:"col-md-2"},Bo={class:"col-md-2"},Uo={class:"col-md-2"},Vo={class:"col-md-2"},Ro={class:"col-md-2"},zo={class:"btn btn-info w-100 text-white"},Io={class:"text-bolde"},To={class:"col-md-2"},Fo={class:"btn btn-info w-100 text-white"},No={class:"text-bold"},jo={class:"card-body"},Eo={class:"row filter_form"},Ho={class:"col-md-2"},Yo=["placeholder"],Oo={class:"col-md-2"},Xo=["placeholder"],Zo={class:"col-md-2"},Po=["placeholder"],Qo={class:"col-md-2"},qo=["placeholder"],Go={class:"col-md-2"},Jo={type:"submit",class:"btn btn-primary"},Ko={class:"table-responsive"},Wo={class:"table text-center"},es={scope:"col"},ts={key:0,scope:"col"},os={key:0},ss={key:0},as={key:0},ns=["onClick"],ls=["onClick"],is=["href"],rs=["href"],ds=["href"],us=["src"],ps={__name:"index",props:{boxes:Object,transactions:Array,translations:Array,mainBox:Object},setup(n){let t=x(!1),l=x(!1),m=x(!1),u=x(!1),d=x(!1),a=x(0);const s=n,c=de(),w=ue({name:"",model:"",start_date:H(),end_date:H()});function P(){l.value=!0}function Q(){t.value=!0}function q(){m.value=!0}function G(){u.value=!0}function J(){I()}function I(){k.get("api/boxes/transactions").then(f=>{N.reload({only:["transactions","mainBox"]})}).catch(f=>{console.log(f)})}function K(f){k.post("/api/convertDollarDinar",f).then(o=>{I(),l.value=!1}).catch(o=>{errors.value=o.response.data.errors})}function W(f){k.post("/api/convertDinarDollar",f).then(o=>{I(),t.value=!1}).catch(o=>{errors.value=o.response.data.errors})}const ee=()=>{N.get(route("boxes.index"),w,{preserveState:!0,preserveScroll:!0})},S=f=>c.props.auth_permissions.includes(f);function T(f){return typeof f!="number"&&(f=parseFloat(f)||0),f.toLocaleString()}const te=(f,o)=>{fe.fire({title:s.translations.are_you_sure+s.translations.delete+" "+s.translations.amount+" "+o,text:s.translations.you_will_not_be_able_to_revert_this,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:s.translations.yes,cancelButtonText:s.translations.cancel}).then(L=>{L.isConfirmed&&k.post("api/delTransactions/?id="+f).then(A=>{N.reload({only:["transactions","mainBox"]})}).catch(A=>{N.reload({only:["transactions","mainBox"]})})})};function H(){const f=new Date,o=f.getFullYear(),L=String(f.getMonth()+1).padStart(2,"0"),A=String(f.getDate()).padStart(2,"0");return`${o}-${L}-${A}`}const oe=f=>{const o={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(f).toLocaleDateString("en-US",o)};function se(f){a.value=f,d.value=!0}return(f,o)=>(r(),M(ce,{translations:n.translations},{default:$(()=>{var L,A,Y;return[e("div",Do,[e("h1",ko,h(n.translations.boxes),1)]),e("section",Mo,[e("div",Co,[e("div",So,[e("div",Lo,[e("div",Ao,[S("create order")?(r(),v("button",{key:0,class:"btn btn-success",onClick:o[0]||(o[0]=i=>q())},[_(h(n.translations.add_to_box)+"   ",1),o[18]||(o[18]=e("i",{class:"bi bi-plus-circle"},null,-1))])):p("",!0)]),e("div",Bo,[S("create order")?(r(),v("button",{key:0,class:"btn btn-danger",onClick:o[1]||(o[1]=i=>G())},[_(h(n.translations.drop_from_box)+"   ",1),o[19]||(o[19]=e("i",{class:"bi bi-stop-circle-fill"},null,-1))])):p("",!0)]),e("div",Uo,[S("create order")?(r(),v("button",{key:0,class:"btn btn-warning",onClick:o[2]||(o[2]=i=>Q())},[_(h(n.translations.convert_dinar_dollar)+"   ",1),o[20]||(o[20]=e("i",{class:"bi bi-arrow-left-right"},null,-1))])):p("",!0)]),e("div",Vo,[S("create order")?(r(),v("button",{key:0,class:"btn btn-warning",onClick:o[3]||(o[3]=i=>P())},[_(h(n.translations.convert_dollar_dinar)+"   ",1),o[21]||(o[21]=e("i",{class:"bi bi-arrow-left-right"},null,-1))])):p("",!0)]),e("div",Ro,[e("button",zo,[o[22]||(o[22]=_(" الرصيد بالدولار : ")),e("span",Io,h(T(((L=n.mainBox)==null?void 0:L.balance_usd)??0)),1),o[23]||(o[23]=_()),o[24]||(o[24]=e("i",{class:"bi bi-currency-dollar"},null,-1))])]),e("div",To,[e("button",Fo,[o[25]||(o[25]=_(" الرصيد بالدينار : ")),e("span",No,h(T(((A=n.mainBox)==null?void 0:A.balance)??0)),1),o[26]||(o[26]=_()),o[27]||(o[27]=e("span",{class:"text-white"},"IQD",-1))])])])]),e("div",jo,[e("form",{onSubmit:me(ee,["prevent"])},[e("div",Eo,[e("div",Ho,[b(e("input",{type:"date",class:"form-control search_box","onUpdate:modelValue":o[4]||(o[4]=i=>w.start_date=i),placeholder:n.translations.start_date},null,8,Yo),[[g,w.start_date]])]),e("div",Oo,[b(e("input",{type:"date",class:"form-control search_box","onUpdate:modelValue":o[5]||(o[5]=i=>w.end_date=i),placeholder:n.translations.end_date},null,8,Xo),[[g,w.end_date]])]),e("div",Zo,[b(e("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":o[6]||(o[6]=i=>w.name=i),placeholder:n.translations.name},null,8,Po),[[g,w.name]])]),e("div",Qo,[b(e("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":o[7]||(o[7]=i=>w.note=i),placeholder:n.translations.note},null,8,qo),[[g,w.note]])]),e("div",Go,[e("button",Jo,[_(h(n.translations.search)+"   ",1),o[28]||(o[28]=e("i",{class:"bi bi-search"},null,-1))])])])],32),e("div",Ko,[e("table",Wo,[e("thead",null,[e("tr",null,[o[29]||(o[29]=e("th",{scope:"col"},"#",-1)),o[30]||(o[30]=e("th",{scope:"col"},"الحساب",-1)),o[31]||(o[31]=e("th",{scope:"col"},"سحب",-1)),o[32]||(o[32]=e("th",{scope:"col"},"اضافة",-1)),o[33]||(o[33]=e("th",{scope:"col"},"البيان",-1)),e("th",es,h(n.translations.created_at),1),S("delete order")?(r(),v("th",ts,h(n.translations.delete),1)):p("",!0),o[34]||(o[34]=e("th",{scope:"col"},"مرفق",-1)),o[35]||(o[35]=e("th",{scope:"col"},"طباعة",-1)),o[36]||(o[36]=e("th",{scope:"col"},"عرض",-1))])]),e("tbody",null,[(r(!0),v(B,null,U(n.transactions.data,(i,ae)=>{var O;return r(),v("tr",{key:i.id,class:E({"bg-red-100 dark:bg-red-900":i.type=="outUser"||i.type=="out","bg-green-100 dark:bg-green-900":i.type=="inUser"||i.type=="in"})},[e("th",null,h(ae+1),1),e("td",null,h((O=i.morphed)==null?void 0:O.name),1),e("td",null,[i.type=="outUser"||i.type=="out"?(r(),v("span",os,h(T(i.amount))+" "+h(i.currency),1)):p("",!0)]),e("td",null,[i.type=="inUser"||i.type=="in"?(r(),v("span",ss,h(T(i.amount))+" "+h(i.currency),1)):p("",!0)]),e("td",null,h(i.description),1),e("td",null,h(oe(i.created_at)),1),S("delete order")?(r(),v("td",as,[e("button",{class:"px-1 py-1 text-white bg-rose-500 rounded-md focus:outline-none",onClick:F=>te(i.id,i.amount)},[y(Bt)],8,ns)])):p("",!0),e("td",null,[e("button",{class:"px-1 mx-2 py-1 text-white bg-purple-600 rounded-md focus:outline-none",onClick:F=>se(i)},[y(Ct)],8,ls)]),e("td",null,[i.type==="out"||i.type==="outUser"||i.type==="debt"?(r(),v("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${n.mainBox.id}&print=2&transactions_id=${i.id}`,tabIndex:"1",class:"px-1 py-1 text-white bg-green-500 rounded"},[y(Z,{class:"inline-flex"})],8,is)):p("",!0),i.type==="in"||i.type==="inUser"?(r(),v("a",{key:1,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${n.mainBox.id}&print=3&transactions_id=${i.id}`,tabIndex:"1",class:"px-1 py-1 text-white bg-green-500 rounded"},[y(Z,{class:"inline-flex"})],8,rs)):p("",!0)]),e("td",null,[(r(!0),v(B,null,U(i.transactions_images,(F,ne)=>(r(),v("a",{key:ne,href:f.getDownloadUrl(F.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:f.getImageUrl(F.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,us)],8,ds))),128))])],2)}),128))])])])])]),y(ve,{links:(Y=n.transactions)==null?void 0:Y.links},null,8,["links"])]),y(_o,{show:!!D(d),formData:D(a),onA:o[8]||(o[8]=i=>J(i)),onClose:o[9]||(o[9]=i=>C(d)?d.value=!1:d=!1)},{header:$(()=>o[37]||(o[37]=[e("h2",{class:"mb-5 dark:text-white w-100 text-center"}," تحميل ملفات ",-1)])),_:1},8,["show","formData"]),y(Se,{show:!!D(l),boxes:n.boxes,onA:o[10]||(o[10]=i=>K(i)),onClose:o[11]||(o[11]=i=>C(l)?l.value=!1:l=!1)},{header:$(()=>o[38]||(o[38]=[e("h3",{class:"text-center w-100"},"تحويل من الدولار الى دينار",-1)])),_:1},8,["show","boxes"]),y(He,{show:!!D(t),boxes:n.boxes,onA:o[12]||(o[12]=i=>W(i)),onClose:o[13]||(o[13]=i=>C(t)?t.value=!1:t=!1)},{header:$(()=>o[39]||(o[39]=[e("h3",{class:"text-center w-100"},"تحويل من الدينار الى دولار",-1)])),_:1},8,["show","boxes"]),y(at,{show:!!D(m),data:f.users,accounts:f.accounts,onA:o[14]||(o[14]=i=>{I(),C(m)?m.value=!1:m=!1}),onClose:o[15]||(o[15]=i=>C(m)?m.value=!1:m=!1)},{header:$(()=>o[40]||(o[40]=[e("h3",{class:"text-center w-100"},"وصل قبض - اضافة للصندوق",-1)])),_:1},8,["show","data","accounts"]),y(xt,{show:!!D(u),boxes:n.boxes,onA:o[16]||(o[16]=i=>{I(),C(u)?u.value=!1:u=!1}),onClose:o[17]||(o[17]=i=>C(u)?u.value=!1:u=!1)},{header:$(()=>o[41]||(o[41]=[e("h2",{class:"text-center w-100 dark:text-white text-black"},"وصل سحب - سحب من الصندوق",-1)])),_:1},8,["show","boxes"])]}),_:1},8,["translations"]))}};export{ps as default};
