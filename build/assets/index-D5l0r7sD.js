import{Q as E,z as F,a as o,h as m,w as b,b as e,j as $,l as _,x as y,A,t as a,d as p,u as g,p as x,e as u,c as i,f as k,F as w,i as D,g as v}from"./app-uajXcrcW.js";import{_ as N}from"./AuthenticatedLayout-C12govuI.js";import{_ as U}from"./Pagination-DxGIeLWS.js";import{S as h}from"./sweetalert2.esm.all-DwEdJQJv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"section dashboard"},j={class:"card"},q={class:"card-body"},z={class:"row filter_form"},L={class:"col-md-2"},O=["placeholder"],P={class:"col-md-2"},Q=["placeholder"],Y={class:"col-md-2"},G={value:"",selected:"",disabled:""},H={value:1},I={value:0},J={class:"col-md-2"},K={type:"submit",class:"btn btn-primary"},R={class:"col-md-2"},W={class:"col-md-2"},X={class:"table-responsive"},Z={class:"table text-center"},ee={scope:"col"},te={scope:"col"},se={scope:"col"},ae={scope:"col"},ne={scope:"col"},oe={scope:"col"},re={key:0,scope:"col"},le={key:1,scope:"col"},ie={class:"text-center"},ce={scope:"row"},de=["src"],ue={class:"inline-flex items-center me-5 cursor-pointer"},he=["checked","onChange"],fe={key:0},me=["href"],be={key:1},_e=["onClick"],ke={__name:"index",props:{users:Object,translations:Array},setup(s){const l=s,B=E(),c=F({name:"",email:"",is_active:""}),C=()=>{v.get(route("users.index"),c,{preserveState:!0,preserveScroll:!0})},d=r=>B.props.auth_permissions.includes(r),S=r=>{h.fire({title:l.translations.are_your_sure,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#7066e0",confirmButtonText:l.translations.yes,cancelButtonText:l.translations.cancel}).then(t=>{t.isConfirmed&&v.post(`/users/${r}/activate`,{onSuccess:()=>{h.fire("Updated !","user stuaus item has been updated.","success")},onError:()=>{h.fire("Error!","There was an issue updating user status.","error")}})})},T=r=>{h.fire({title:l.translations.are_your_sure,text:l.translations.You_will_not_be_able_to_revert_this,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:l.translations.yes,cancelButtonText:l.translations.cancel}).then(t=>{t.isConfirmed&&v.delete("users/"+r,{onSuccess:()=>{h.fire({title:l.translations.data_deleted_successfully,icon:"success"})},onError:()=>{h.fire("Error!","There was an issue deleting the item.","error")}})})};return(r,t)=>(o(),m(N,{translations:s.translations},{default:b(()=>[e("section",M,[e("div",j,[t[10]||(t[10]=e("div",{class:"card-header"},[e("div",{class:"d-flex"})],-1)),e("div",q,[e("form",{onSubmit:$(C,["prevent"])},[e("div",z,[e("div",L,[_(e("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":t[0]||(t[0]=n=>c.name=n),placeholder:s.translations.name},null,8,O),[[y,c.name]])]),e("div",P,[_(e("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":t[1]||(t[1]=n=>c.email=n),placeholder:s.translations.email},null,8,Q),[[y,c.email]])]),e("div",Y,[_(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=n=>c.is_active=n)},[e("option",G,a(s.translations.status),1),e("option",H,a(s.translations.active),1),e("option",I,a(s.translations.not_active),1)],512),[[A,c.is_active]])]),e("div",J,[e("button",K,[p(a(s.translations.search)+"   ",1),t[3]||(t[3]=e("i",{class:"bi bi-search"},null,-1))])]),e("div",R,[d("read users")?(o(),m(g(x),{key:0,class:"btn btn-success",href:r.route("export.users")},{default:b(()=>[p(a(s.translations.export)+"   ",1),t[4]||(t[4]=e("i",{class:"bi bi-filetype-xls"},null,-1))]),_:1},8,["href"])):u("",!0)]),e("div",W,[d("create users")?(o(),m(g(x),{key:0,class:"btn btn-primary",href:r.route("users.create")},{default:b(()=>[p(a(s.translations.create)+"   ",1),t[5]||(t[5]=e("i",{class:"bi bi-plus-circle"},null,-1))]),_:1},8,["href"])):u("",!0)])])],32),e("div",X,[e("table",Z,[e("thead",null,[e("tr",null,[t[6]||(t[6]=e("th",{scope:"col"},"#",-1)),e("th",ee,a(s.translations.name),1),e("th",te,a(s.translations.avatar),1),e("th",se,a(s.translations.role),1),e("th",ae,a(s.translations.email),1),e("th",ne,a(s.translations.created_at),1),e("th",oe,a(s.translations.status),1),d("update users")?(o(),i("th",re,a(s.translations.edit),1)):u("",!0),d("delete users")?(o(),i("th",le,a(s.translations.delete),1)):u("",!0)])]),e("tbody",ie,[(o(!0),i(w,null,k(s.users.data,(n,V)=>(o(),i("tr",{key:n.id},[e("th",ce,a(V+1),1),e("td",null,a(n.name),1),e("td",null,[e("img",{src:n.avatar,alt:"Avatar",class:"avatar",width:"45px"},null,8,de)]),e("td",null,[(o(!0),i(w,null,k(n.roles,f=>(o(),i("span",{key:f.id,class:"badge bg-secondary"},a(f.name),1))),128))]),e("td",null,a(n.email),1),e("td",null,a(n.created_at),1),e("td",null,[e("div",null,[e("label",ue,[e("input",{type:"checkbox",class:"sr-only peer",checked:n.is_active==1,onChange:f=>S(n.id)},null,40,he),t[7]||(t[7]=e("div",{class:"relative w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"},null,-1))])])]),d("update users")?(o(),i("td",fe,[e("a",{class:"btn btn-primary",href:r.route("users.edit",{user:n.id})},t[8]||(t[8]=[e("i",{class:"bi bi-pencil-square"},null,-1)]),8,me)])):u("",!0),d("delete users")?(o(),i("td",be,[e("button",{type:"button",class:"btn btn-danger",onClick:f=>T(n.id)},t[9]||(t[9]=[e("i",{class:"bi bi-trash"},null,-1)]),8,_e)])):u("",!0)]))),128))])])])])]),D(U,{links:s.users.links},null,8,["links"])])]),_:1},8,["translations"]))}};export{ke as default};
