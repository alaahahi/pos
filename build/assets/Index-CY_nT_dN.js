import{r as U,B as H,a as i,h as F,w as b,b as t,t as l,d as M,i as T,u as f,p as h,l as v,A as N,c as d,f as p,F as _,x as y,e as A,n as I,g as B}from"./app-C6KvZLDy.js";import{A as E}from"./AuthenticatedLayout-sjG1984q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"section dashboard"},P={class:"row mb-4"},Q={class:"col-xl-3 col-md-6"},$={class:"card info-card revenue-card"},q={class:"card-body"},G={class:"d-flex align-items-center"},J={class:"ps-3"},K={class:"col-xl-3 col-md-6"},R={class:"card info-card sales-card"},W={class:"card-body"},X={class:"d-flex align-items-center"},Y={class:"ps-3"},Z={class:"col-xl-3 col-md-6"},tt={class:"card info-card customers-card"},st={class:"card-body"},et={class:"d-flex align-items-center"},lt={class:"ps-3"},ot={class:"col-xl-3 col-md-6"},at={class:"card info-card revenue-card"},it={class:"card-body"},nt={class:"d-flex align-items-center"},dt={class:"ps-3"},rt={class:"card"},ct={class:"card-header"},ut={class:"d-flex justify-content-between align-items-center"},mt={class:"card-body"},vt={class:"row mb-3"},bt={class:"col-md-3"},ft=["value"],ht={class:"col-md-3"},pt={class:"col-md-3"},_t={class:"col-md-3"},yt={class:"table-responsive"},gt={class:"table table-striped"},xt={scope:"row"},jt={key:0,class:"text-muted small"},wt={class:"badge bg-primary"},Ct={class:"text-danger fw-bold"},Vt={class:"d-flex gap-1"},kt=["onClick"],Lt={class:"d-flex justify-content-center mt-3"},Dt={class:"pagination"},Ft=["innerHTML"],St={__name:"Index",props:{expenses:Object,categories:Object,statistics:Object,filters:Object,translations:Object},setup(o){var g,x,j,w;const c=o,a=U({category:((g=c.filters)==null?void 0:g.category)||"",start_date:((x=c.filters)==null?void 0:x.start_date)||"",end_date:((j=c.filters)==null?void 0:j.end_date)||"",search:((w=c.filters)==null?void 0:w.search)||""}),r=()=>{B.get(route("expenses.index"),a.value,{preserveState:!0,replace:!0})},u=(n,s="IQD")=>parseFloat(n||0).toFixed(2)+" "+s,O=n=>{if(!n)return"-";const s={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return new Date(n).toLocaleDateString("en-US",s)},S=n=>{confirm("هل أنت متأكد من حذف هذا المصروف؟")&&B.delete(route("expenses.destroy",n))};return H(a,()=>{r()},{deep:!0}),(n,s)=>(i(),F(E,{translations:o.translations},{default:b(()=>{var C,V,k,L;return[t("section",z,[t("div",P,[t("div",Q,[t("div",$,[t("div",q,[s[5]||(s[5]=t("h5",{class:"card-title"},"إجمالي المصاريف",-1)),t("div",G,[s[4]||(s[4]=t("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-currency-dollar"})],-1)),t("div",J,[t("h6",null,l(u(((C=o.statistics)==null?void 0:C.total)||0)),1)])])])])]),t("div",K,[t("div",R,[t("div",W,[s[7]||(s[7]=t("h5",{class:"card-title"},"مصاريف هذا الشهر",-1)),t("div",X,[s[6]||(s[6]=t("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-calendar-month"})],-1)),t("div",Y,[t("h6",null,l(u(((V=o.statistics)==null?void 0:V.monthly)||0)),1)])])])])]),t("div",Z,[t("div",tt,[t("div",st,[s[9]||(s[9]=t("h5",{class:"card-title"},"مصاريف اليوم",-1)),t("div",et,[s[8]||(s[8]=t("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-calendar-day"})],-1)),t("div",lt,[t("h6",null,l(u(((k=o.statistics)==null?void 0:k.today)||0)),1)])])])])]),t("div",ot,[t("div",at,[t("div",it,[s[11]||(s[11]=t("h5",{class:"card-title"},"عدد المصاريف",-1)),t("div",nt,[s[10]||(s[10]=t("div",{class:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-list-ul"})],-1)),t("div",dt,[t("h6",null,l(((L=o.expenses)==null?void 0:L.total)||0),1)])])])])])]),t("div",rt,[t("div",ct,[t("div",ut,[s[13]||(s[13]=t("h5",{class:"card-title mb-0"},[t("i",{class:"bi bi-receipt me-2"}),M(" قائمة المصاريف ")],-1)),T(f(h),{href:n.route("expenses.create"),class:"btn btn-primary"},{default:b(()=>s[12]||(s[12]=[t("i",{class:"bi bi-plus-circle me-1"},null,-1),M(" إضافة مصروف جديد ")])),_:1},8,["href"])])]),t("div",mt,[t("div",vt,[t("div",bt,[s[15]||(s[15]=t("label",{class:"form-label"},"الفئة",-1)),v(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.value.category=e),onChange:r,class:"form-select"},[s[14]||(s[14]=t("option",{value:""},"جميع الفئات",-1)),(i(!0),d(_,null,p(o.categories,(e,m)=>(i(),d("option",{key:m,value:m},l(e),9,ft))),128))],544),[[N,a.value.category]])]),t("div",ht,[s[16]||(s[16]=t("label",{class:"form-label"},"من تاريخ",-1)),v(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>a.value.start_date=e),onChange:r,class:"form-control"},null,544),[[y,a.value.start_date]])]),t("div",pt,[s[17]||(s[17]=t("label",{class:"form-label"},"إلى تاريخ",-1)),v(t("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=e=>a.value.end_date=e),onChange:r,class:"form-control"},null,544),[[y,a.value.end_date]])]),t("div",_t,[s[18]||(s[18]=t("label",{class:"form-label"},"البحث",-1)),v(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=e=>a.value.search=e),onInput:r,placeholder:"البحث في العنوان أو الوصف",class:"form-control"},null,544),[[y,a.value.search]])])]),t("div",yt,[t("table",gt,[s[21]||(s[21]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"العنوان"),t("th",{scope:"col"},"الفئة"),t("th",{scope:"col"},"المبلغ"),t("th",{scope:"col"},"التاريخ"),t("th",{scope:"col"},"المنشئ"),t("th",{scope:"col"},"الإجراءات")])],-1)),t("tbody",null,[(i(!0),d(_,null,p(o.expenses.data,(e,m)=>{var D;return i(),d("tr",{key:e.id},[t("th",xt,l(m+1),1),t("td",null,[t("div",null,[t("strong",null,l(e.title),1),e.description?(i(),d("div",jt,l(e.description),1)):A("",!0)])]),t("td",null,[t("span",wt,l(o.categories[e.category]),1)]),t("td",null,[t("span",Ct,l(u(e.amount,e.currency)),1)]),t("td",null,l(O(e.expense_date)),1),t("td",null,l(((D=e.creator)==null?void 0:D.name)||"غير محدد"),1),t("td",null,[t("div",Vt,[T(f(h),{href:n.route("expenses.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:b(()=>s[19]||(s[19]=[t("i",{class:"bi bi-pencil"},null,-1)])),_:2},1032,["href"]),t("button",{onClick:Mt=>S(e.id),class:"btn btn-sm btn-outline-danger"},s[20]||(s[20]=[t("i",{class:"bi bi-trash"},null,-1)]),8,kt)])])])}),128))])])]),t("div",Lt,[t("nav",null,[t("ul",Dt,[(i(!0),d(_,null,p(o.expenses.links,e=>(i(),d("li",{key:e.label,class:I(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(i(),F(f(h),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(i(),d("span",{key:1,class:"page-link",innerHTML:e.label},null,8,Ft))],2))),128))])])])])])])]}),_:1},8,["translations"]))}};export{St as default};
