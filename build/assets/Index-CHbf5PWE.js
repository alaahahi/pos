import{r as g,z,a as i,h as B,w as k,b as t,t as o,u as E,p as I,d as p,e as b,i as T,j as N,l as r,x as u,A as U,c,F as M,f as D,n as dt,v as R,g as x}from"./app-DniDjs0a.js";import{_ as ct}from"./AuthenticatedLayout-D_OBjHYh.js";import{_ as ut}from"./Pagination-tv3KMxwm.js";import{_ as mt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const bt={class:"d-flex justify-content-between align-items-center"},_t={class:"font-semibold text-xl text-gray-800 leading-tight"},vt={class:"d-flex gap-2"},ft={class:"py-12"},ht={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},pt={class:"card mb-4"},yt={class:"card-body"},gt={class:"row"},wt={class:"col-md-4"},kt=["placeholder"],xt={class:"col-md-3"},Vt={value:""},Ct={value:"birthday"},Ut={value:"gender_reveal"},Ft={value:"baby_shower"},qt={value:"wedding"},St={value:"graduation"},$t={value:"corporate"},jt={value:"religious"},zt={class:"col-md-3"},Et={value:""},It={value:"1"},Mt={value:"0"},Dt={class:"col-md-2"},Ot={type:"submit",class:"btn btn-primary w-100"},At={key:0,class:"row"},Pt={class:"card h-100"},Tt={class:"card-img-top position-relative",style:{height:"200px",overflow:"hidden"}},Nt=["src","alt"],Bt={key:1,class:"w-100 h-100 bg-light d-flex align-items-center justify-content-center"},Rt={class:"position-absolute top-0 end-0 p-2"},Lt={key:0,class:"badge bg-warning mb-1"},Gt={key:1,class:"badge bg-danger mb-1"},Ht={key:2,class:"badge bg-info"},Jt={class:"card-body d-flex flex-column"},Kt={class:"card-title"},Qt={class:"card-text text-muted"},Wt={class:"mt-auto"},Xt={class:"d-flex justify-content-between align-items-center mb-2"},Yt={class:"badge bg-info"},Zt={class:"price-section mb-3"},ts={class:"d-flex justify-content-between align-items-center mb-2"},ss={class:"fw-bold text-primary fs-5"},es={class:"text-muted"},os={class:"d-flex justify-content-between align-items-center"},ls={class:"text-muted"},ns=["onClick","title"],as={class:"actions-container"},is={class:"row g-2"},rs={class:"col-6"},ds=["onClick"],cs={class:"col-6"},us=["onClick","title"],ms={class:"row g-2 mt-2"},bs={class:"col-3"},_s={class:"col-3"},vs={class:"col-3"},fs={class:"col-3"},hs=["onClick"],ps={key:1,class:"text-center py-5"},ys={class:"text-muted mt-3"},gs={class:"text-muted"},ws={key:3,class:"d-flex justify-content-center mt-4"},ks={key:0,class:"modal-mask"},xs={class:"modal-wrapper"},Vs={class:"modal-container"},Cs={class:"modal-header"},Us={class:"modal-body"},Fs={class:"row"},qs={class:"col-md-6"},Ss={class:"mb-3"},$s={class:"form-label"},js={class:"mb-3"},zs={class:"form-label"},Es={class:"mb-3"},Is={class:"form-label"},Ms=["value"],Ds={class:"col-md-6"},Os={class:"mb-3"},As={class:"form-label"},Ps={value:"dinar"},Ts={value:"dollar"},Ns={class:"mb-3"},Bs={class:"form-label"},Rs={class:"mb-3"},Ls={class:"form-label"},Gs={class:"mb-3"},Hs={class:"form-label"},Js={class:"mb-3"},Ks={class:"form-check"},Qs={class:"mb-3"},Ws={class:"form-check"},Xs={class:"form-check-label",for:"create_is_active"},Ys={class:"row"},Zs={class:"col-12"},te={class:"mb-3"},se={key:0,class:"mt-2"},ee=["src"],oe={class:"mb-3"},le={key:0,class:"mt-3"},ne={class:"row"},ae={class:"image-preview"},ie=["src"],re=["onClick"],de={class:"mb-3"},ce={class:"d-flex justify-content-center gap-2"},ue=["disabled"],me={key:0,class:"spinner-border spinner-border-sm me-2"},be={key:1,class:"modal-mask"},_e={class:"modal-wrapper"},ve={class:"modal-container"},fe={class:"modal-header"},he={class:"modal-body"},pe={class:"row"},ye={class:"col-md-6"},ge={class:"mb-3"},we={class:"form-label"},ke={class:"mb-3"},xe={class:"form-label"},Ve={class:"mb-3"},Ce={class:"form-label"},Ue=["value"],Fe={class:"col-md-6"},qe={class:"mb-3"},Se={class:"form-label"},$e={class:"mb-3"},je={class:"form-label"},ze={class:"mb-3"},Ee={class:"form-label"},Ie={class:"mb-3"},Me={class:"form-check"},De={class:"form-check-label",for:"edit_is_active"},Oe={class:"d-flex justify-content-center gap-2"},Ae=["disabled"],Pe={key:0,class:"spinner-border spinner-border-sm me-2"},Te={key:2,class:"modal-mask"},Ne={class:"modal-wrapper"},Be={class:"modal-container",style:{"max-width":"800px"}},Re={class:"modal-header"},Le={class:"text-end"},Ge={class:"text-muted"},He={class:"modal-body"},Je={class:"row mb-4"},Ke={class:"col-12"},Qe={class:"mb-3"},We={class:"form-label"},Xe={class:"d-flex gap-2"},Ye={value:""},Ze=["value"],to={key:0,class:"border p-3 rounded mb-3"},so={class:"row"},eo={class:"col-md-6"},oo={class:"mb-3"},lo={class:"form-label"},no={class:"col-md-6"},ao={class:"mb-3"},io={class:"form-label"},ro={class:"col-12"},co={class:"mb-3"},uo={class:"form-label"},mo={key:1,class:"alert alert-info"},bo={class:"row mb-4"},_o={class:"col-12"},vo={class:"col-md-6"},fo={class:"mb-3"},ho={class:"form-label"},po={class:"col-md-3"},yo={class:"mb-3"},go={class:"form-label"},wo={class:"col-md-3"},ko={class:"mb-3"},xo={class:"form-label"},Vo={class:"col-md-6"},Co={class:"mb-3"},Uo={class:"form-label"},Fo={class:"col-md-6"},qo={class:"mb-3"},So={class:"form-label"},$o={class:"row mb-4"},jo={class:"col-12"},zo={class:"col-md-3"},Eo={class:"mb-3"},Io={class:"form-label"},Mo={class:"text-muted"},Do={class:"col-md-3"},Oo={class:"mb-3"},Ao={class:"form-label"},Po={class:"col-md-3"},To={class:"mb-3"},No={class:"form-label"},Bo={class:"col-md-3"},Ro={class:"mb-3"},Lo={class:"form-label"},Go={class:"d-flex justify-content-center gap-2"},Ho=["disabled"],Jo={key:0,class:"spinner-border spinner-border-sm me-2"},Ko={__name:"Index",props:{decorations:Object,filters:Object,translations:Object,customers:Array,decorationTypes:{type:Array,default:()=>[]}},setup(l){var H,J,K;const v=l,F=g(!1),O=g(!1),q=g(!1),S=g(!1),_=g(!1),A=g(null),w=z({search:((H=v.filters)==null?void 0:H.search)||"",type:((J=v.filters)==null?void 0:J.type)||"",is_active:((K=v.filters)==null?void 0:K.is_active)!==void 0?v.filters.is_active.toString():""}),d=z({name:"",description:"",type:"",currency:"dinar",base_price:"",duration_hours:"",team_size:"",video_url:"",is_featured:!1,is_active:!0}),P=g(null),$=g([]),f=z({id:null,name:"",description:"",type:"",base_price:"",duration_hours:"",team_size:"",is_active:!0}),n=z({decoration_id:null,customer_id:"",customer_name:"",customer_phone:"",customer_email:"",event_address:"",event_date:"",event_time:"",guest_count:50,special_requests:"",base_price:0,additional_cost:0,discount:0,total_price:0}),y=z({name:"",phone:"",address:"",notes:""}),Q=()=>{x.get(route("decorations.index"),w,{preserveState:!0,replace:!0})},W=()=>{d.name="",d.description="",d.type="",d.currency="dinar",d.base_price="",d.duration_hours="",d.team_size="",d.video_url="",d.is_featured=!1,d.is_active=!0,P.value=null,$.value=[]},X=()=>{_.value=!0;const a=new FormData;Object.keys(d).forEach(h=>{a.append(h,d[h])});const s=document.querySelector('input[type="file"]');s&&s.files[0]&&a.append("main_image",s.files[0]);const m=document.querySelector("input[multiple]");m&&m.files.length>0&&Array.from(m.files).forEach((h,V)=>{a.append(`images[${V}]`,h)}),x.post(route("decorations.store"),a,{onSuccess:()=>{_.value=!1,F.value=!1,W()},onError:()=>{_.value=!1}})},Y=()=>{_.value=!0,x.put(route("decorations.update",f.id),f,{onSuccess:()=>{_.value=!1,O.value=!1},onError:()=>{_.value=!1}})},Z=a=>{confirm(v.translations.confirm_delete)&&x.delete(route("decorations.destroy",a))},j=a=>window.permissions&&window.permissions.includes(a),tt=a=>{const s=a.target.files[0];if(s){const m=new FileReader;m.onload=h=>{P.value=h.target.result},m.readAsDataURL(s)}},st=a=>{Array.from(a.target.files).forEach(m=>{const h=new FileReader;h.onload=V=>{$.value.push(V.target.result)},h.readAsDataURL(m)})},et=a=>{$.value.splice(a,1)},ot=a=>{const s=a.base_price||a.current_price||0,m=a.currency==="dollar"?v.translations.dollar:v.translations.dinar;return`${parseFloat(s).toFixed(2)} ${m}`},lt=a=>({birthday:v.translations.birthday,gender_reveal:v.translations.gender_reveal,baby_shower:v.translations.baby_shower,wedding:v.translations.wedding,graduation:v.translations.graduation,corporate:v.translations.corporate,religious:v.translations.religious})[a]||a,L=a=>{const s=a.currency==="dinar"?"dollar":"dinar";x.patch(route("decorations.update",a.id),{currency:s},{preserveState:!0,onSuccess:()=>{console.log("Currency updated successfully")},onError:m=>{console.error("Error updating currency:",m)}})},nt=a=>{A.value=a,n.decoration_id=a.id;const s=a.current_price||(a.currency==="dollar"?a.base_price_dollar:a.base_price_dinar)||a.base_price||0;n.base_price=s,n.total_price=s,console.log("Decoration data:",a),console.log("Base price set to:",s),q.value=!0},at=()=>{if(n.customer_id){const a=v.customers.find(s=>s.id==n.customer_id);a&&(n.customer_name=a.name,n.customer_phone=a.phone,n.customer_email=a.email||"")}else n.customer_name="",n.customer_phone="",n.customer_email=""},G=()=>{const a=parseFloat(n.base_price)||0,s=parseFloat(n.additional_cost)||0,m=parseFloat(n.discount)||0;n.total_price=a+s-m},it=()=>{n.decoration_id=null,n.customer_id="",n.customer_name="",n.customer_phone="",n.customer_email="",n.event_address="",n.event_date="",n.event_time="",n.guest_count=50,n.special_requests="",n.base_price=0,n.additional_cost=0,n.discount=0,n.total_price=0,S.value=!1,y.name="",y.phone="",y.address="",y.notes=""},rt=async()=>{if(_.value=!0,!j("create decoration")){alert("ليس لديك صلاحية لإنشاء طلبات الديكورات"),_.value=!1;return}try{if(S.value&&y.name){const a=await x.post("/customers",{...y,is_active:!0,notes:v.translations.created_from_decoration},{preserveState:!0,onSuccess:s=>{var h;const m=(h=s.props.flash)==null?void 0:h.customer;m&&(n.customer_id=m.id,n.customer_name=m.name,n.customer_phone=m.phone,n.customer_email=m.email||"")}})}x.post(route("decoration.orders.store"),n,{onSuccess:a=>{_.value=!1,q.value=!1,it(),console.log("Order created successfully:",a.props.flash)},onError:a=>{_.value=!1,console.error("Error creating order:",a),a.message?alert("خطأ: "+a.message):a.event_date?alert("خطأ في التاريخ: "+a.event_date[0]):alert("حدث خطأ أثناء إنشاء الطلب")}})}catch(a){_.value=!1,console.error("Error creating order:",a)}};return(a,s)=>(i(),B(ct,null,{header:k(()=>[t("div",bt,[t("h2",_t,o(l.translations.decorations),1),t("div",vt,[j("create decoration")?(i(),B(E(I),{key:0,href:a.route("decorations.create"),class:"btn btn-primary"},{default:k(()=>[s[41]||(s[41]=t("i",{class:"bi bi-plus-circle"},null,-1)),p(" "+o(l.translations.create_decoration),1)]),_:1},8,["href"])):b("",!0),T(E(I),{href:a.route("public.gallery"),class:"btn btn-outline-info",target:"_blank"},{default:k(()=>s[42]||(s[42]=[t("i",{class:"bi bi-eye"},null,-1),p(" عرض المعرض العام ")])),_:1},8,["href"])])])]),default:k(()=>{var m,h,V;return[t("div",ft,[t("div",ht,[t("div",pt,[t("div",yt,[t("form",{onSubmit:N(Q,["prevent"])},[t("div",gt,[t("div",wt,[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>w.search=e),placeholder:l.translations.search},null,8,kt),[[u,w.search]])]),t("div",xt,[r(t("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=e=>w.type=e)},[t("option",Vt,o(l.translations.all_types),1),t("option",Ct,o(l.translations.birthday),1),t("option",Ut,o(l.translations.gender_reveal),1),t("option",Ft,o(l.translations.baby_shower),1),t("option",qt,o(l.translations.wedding),1),t("option",St,o(l.translations.graduation),1),t("option",$t,o(l.translations.corporate),1),t("option",jt,o(l.translations.religious),1)],512),[[U,w.type]])]),t("div",zt,[r(t("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=e=>w.is_active=e)},[t("option",Et,o(l.translations.all_status),1),t("option",It,o(l.translations.active),1),t("option",Mt,o(l.translations.inactive),1)],512),[[U,w.is_active]])]),t("div",Dt,[t("button",Ot,[s[43]||(s[43]=t("i",{class:"bi bi-search"},null,-1)),p(" "+o(l.translations.search),1)])])])],32)])]),l.decorations.data.length>0?(i(),c("div",At,[(i(!0),c(M,null,D(l.decorations.data,e=>(i(),c("div",{class:"col-md-4 mb-4",key:e.id},[t("div",Pt,[t("div",Tt,[e.thumbnail_url||e.image_url?(i(),c("img",{key:0,src:e.thumbnail_url||e.image_url,alt:e.name,class:"w-100 h-100 object-cover"},null,8,Nt)):(i(),c("div",Bt,s[44]||(s[44]=[t("i",{class:"bi bi-image text-muted",style:{"font-size":"3rem"}},null,-1)]))),t("div",Rt,[e.is_featured?(i(),c("div",Lt,s[45]||(s[45]=[t("i",{class:"bi bi-star-fill"},null,-1)]))):b("",!0),e.video_url?(i(),c("div",Gt,s[46]||(s[46]=[t("i",{class:"bi bi-play-circle-fill"},null,-1)]))):b("",!0),e.images&&e.images.length>1?(i(),c("div",Ht,[s[47]||(s[47]=t("i",{class:"bi bi-images"},null,-1)),p(" "+o(e.images.length),1)])):b("",!0)])]),t("div",Jt,[t("h5",Kt,o(e.name),1),t("p",Qt,o(e.description),1),t("div",Wt,[t("div",Xt,[t("span",Yt,o(lt(e.type)),1),t("span",{class:dt(["badge",e.is_active?"bg-success":"bg-secondary"])},o(e.is_active?l.translations.active:l.translations.inactive),3)]),t("div",Zt,[t("div",ts,[t("span",ss,o(ot(e)),1),t("small",es,[s[48]||(s[48]=t("i",{class:"bi bi-clock"},null,-1)),p(" "+o(e.duration_hours)+" "+o(l.translations.hours),1)])]),t("div",os,[t("small",ls,[s[49]||(s[49]=t("i",{class:"bi bi-people"},null,-1)),p(" "+o(e.team_size)+" "+o(l.translations.team_members),1)]),t("button",{onClick:C=>L(e),class:"btn btn-sm btn-outline-info",title:l.translations.switch_currency},s[50]||(s[50]=[t("i",{class:"bi bi-arrow-repeat"},null,-1)]),8,ns)])]),t("div",as,[t("div",is,[t("div",rs,[t("button",{onClick:C=>nt(e),class:"btn btn-success btn-action w-100"},[s[51]||(s[51]=t("i",{class:"bi bi-plus-circle"},null,-1)),t("span",null,o(l.translations.create_order),1)],8,ds)]),t("div",cs,[t("button",{onClick:C=>L(e),class:"btn btn-outline-info btn-action w-100",title:l.translations.switch_currency},[s[52]||(s[52]=t("i",{class:"bi bi-arrow-repeat"},null,-1)),t("span",null,o(l.translations.switch_currency),1)],8,us)])]),t("div",ms,[t("div",bs,[j("update decoration")?(i(),B(E(I),{key:0,href:a.route("decorations.edit",e.id),class:"btn btn-outline-warning btn-action w-100"},{default:k(()=>[s[53]||(s[53]=t("i",{class:"bi bi-pencil"},null,-1)),t("span",null,o(l.translations.edit),1)]),_:2},1032,["href"])):b("",!0)]),t("div",_s,[T(E(I),{href:a.route("decorations.show",e.id),class:"btn btn-outline-primary btn-action w-100"},{default:k(()=>[s[54]||(s[54]=t("i",{class:"bi bi-eye"},null,-1)),t("span",null,o(l.translations.view),1)]),_:2},1032,["href"])]),t("div",vs,[T(E(I),{href:a.route("public.decoration.show",e.id),class:"btn btn-outline-info btn-action w-100",target:"_blank"},{default:k(()=>s[55]||(s[55]=[t("i",{class:"bi bi-globe"},null,-1),t("span",null,"معرض",-1)])),_:2},1032,["href"])]),t("div",fs,[j("delete decoration")?(i(),c("button",{key:0,onClick:C=>Z(e.id),class:"btn btn-outline-danger btn-action w-100"},[s[56]||(s[56]=t("i",{class:"bi bi-trash"},null,-1)),t("span",null,o(l.translations.delete),1)],8,hs)):b("",!0)])])])])])])]))),128))])):(i(),c("div",ps,[s[57]||(s[57]=t("i",{class:"bi bi-palette text-muted",style:{"font-size":"4rem"}},null,-1)),t("h4",ys,o(l.translations.no_decorations),1),t("p",gs,o(l.translations.no_decorations_description),1)])),j("create decoration")?(i(),c("button",{key:2,class:"btn btn-primary",onClick:s[3]||(s[3]=e=>F.value=!0)},[s[58]||(s[58]=t("i",{class:"bi bi-plus-circle"},null,-1)),p(" "+o(l.translations.create_first_decoration),1)])):b("",!0),l.decorations.data.length>0?(i(),c("div",ws,[T(ut,{links:l.decorations.links},null,8,["links"])])):b("",!0)])]),F.value?(i(),c("div",ks,[t("div",xs,[t("div",Vs,[t("div",Cs,[t("h3",null,o(l.translations.create_decoration),1),t("button",{onClick:s[4]||(s[4]=e=>F.value=!1),class:"btn-close"})]),t("div",Us,[t("form",{onSubmit:N(X,["prevent"])},[t("div",Fs,[t("div",qs,[t("div",Ss,[t("label",$s,o(l.translations.decoration_name)+" *",1),r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=e=>d.name=e),required:""},null,512),[[u,d.name]])]),t("div",js,[t("label",zs,o(l.translations.decoration_description),1),r(t("input",{class:"form-control",type:"text","onUpdate:modelValue":s[6]||(s[6]=e=>d.description=e)},null,512),[[u,d.description]])]),t("div",Es,[t("label",Is,o(l.translations.decoration_type)+" *",1),r(t("select",{class:"form-select","onUpdate:modelValue":s[7]||(s[7]=e=>d.type=e),required:""},[s[59]||(s[59]=t("option",{value:""},"اختر النوع",-1)),(i(!0),c(M,null,D(l.decorationTypes,e=>(i(),c("option",{key:e.value,value:e.value},o(e.label_ar),9,Ms))),128))],512),[[U,d.type]])])]),t("div",Ds,[t("div",Os,[t("label",As,o(l.translations.currency)+" *",1),r(t("select",{class:"form-select","onUpdate:modelValue":s[8]||(s[8]=e=>d.currency=e),required:""},[t("option",Ps,o(l.translations.dinar),1),t("option",Ts,o(l.translations.dollar),1)],512),[[U,d.currency]])]),t("div",Ns,[t("label",Bs,o(l.translations.base_price)+" *",1),r(t("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=e=>d.base_price=e),required:""},null,512),[[u,d.base_price]])]),t("div",Rs,[t("label",Ls,o(l.translations.duration_hours),1),r(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=e=>d.duration_hours=e)},null,512),[[u,d.duration_hours]])]),t("div",Gs,[t("label",Hs,o(l.translations.team_size),1),r(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=e=>d.team_size=e)},null,512),[[u,d.team_size]])]),t("div",Js,[t("div",Ks,[r(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[12]||(s[12]=e=>d.is_featured=e),id:"create_is_featured"},null,512),[[R,d.is_featured]]),s[60]||(s[60]=t("label",{class:"form-check-label",for:"create_is_featured"}," ديكور مميز ",-1))])]),t("div",Qs,[t("div",Ws,[r(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[13]||(s[13]=e=>d.is_active=e),id:"create_is_active"},null,512),[[R,d.is_active]]),t("label",Xs,o(l.translations.active),1)])])])]),t("div",Ys,[t("div",Zs,[s[65]||(s[65]=t("h6",{class:"mt-3 mb-3"},"الوسائط",-1)),t("div",te,[s[61]||(s[61]=t("label",{class:"form-label"},"الصورة الرئيسية",-1)),t("input",{type:"file",class:"form-control",onChange:tt,accept:"image/*"},null,32),P.value?(i(),c("div",se,[t("img",{src:P.value,alt:"Preview",class:"preview-image"},null,8,ee)])):b("",!0)]),t("div",oe,[s[63]||(s[63]=t("label",{class:"form-label"},"صور إضافية",-1)),t("input",{type:"file",class:"form-control",onChange:st,accept:"image/*",multiple:""},null,32),$.value.length>0?(i(),c("div",le,[t("div",ne,[(i(!0),c(M,null,D($.value,(e,C)=>(i(),c("div",{key:C,class:"col-md-3 mb-2"},[t("div",ae,[t("img",{src:e,alt:"Preview",class:"preview-image"},null,8,ie),t("button",{type:"button",onClick:Qo=>et(C),class:"remove-btn"},s[62]||(s[62]=[t("i",{class:"bi bi-x"},null,-1)]),8,re)])]))),128))])])):b("",!0)]),t("div",de,[s[64]||(s[64]=t("label",{class:"form-label"},"رابط الفيديو",-1)),r(t("input",{type:"url",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=e=>d.video_url=e),placeholder:"https://example.com/video.mp4"},null,512),[[u,d.video_url]])])])]),t("div",ce,[t("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:s[15]||(s[15]=e=>F.value=!1)},o(l.translations.cancel),1),t("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:_.value},[_.value?(i(),c("span",me)):b("",!0),p(" "+o(l.translations.save),1)],8,ue)])],32)])])])])):b("",!0),O.value?(i(),c("div",be,[t("div",_e,[t("div",ve,[t("div",fe,[t("h3",null,o(l.translations.edit_decoration),1),t("button",{onClick:s[16]||(s[16]=e=>O.value=!1),class:"btn-close"})]),t("div",he,[t("form",{onSubmit:N(Y,["prevent"])},[t("div",pe,[t("div",ye,[t("div",ge,[t("label",we,o(l.translations.decoration_name)+" *",1),r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[17]||(s[17]=e=>f.name=e),required:""},null,512),[[u,f.name]])]),t("div",ke,[t("label",xe,o(l.translations.decoration_description),1),r(t("input",{class:"form-control",type:"text","onUpdate:modelValue":s[18]||(s[18]=e=>f.description=e)},null,512),[[u,f.description]])]),t("div",Ve,[t("label",Ce,o(l.translations.decoration_type)+" *",1),r(t("select",{class:"form-select","onUpdate:modelValue":s[19]||(s[19]=e=>f.type=e),required:""},[s[66]||(s[66]=t("option",{value:""},"اختر النوع",-1)),(i(!0),c(M,null,D(l.decorationTypes,e=>(i(),c("option",{key:e.value,value:e.value},o(e.label_ar),9,Ue))),128))],512),[[U,f.type]])])]),t("div",Fe,[t("div",qe,[t("label",Se,o(l.translations.base_price)+" *",1),r(t("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":s[20]||(s[20]=e=>f.base_price=e),required:""},null,512),[[u,f.base_price]])]),t("div",$e,[t("label",je,o(l.translations.duration_hours)+" *",1),r(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[21]||(s[21]=e=>f.duration_hours=e),required:""},null,512),[[u,f.duration_hours]])]),t("div",ze,[t("label",Ee,o(l.translations.team_size)+" *",1),r(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[22]||(s[22]=e=>f.team_size=e),required:""},null,512),[[u,f.team_size]])]),t("div",Ie,[t("div",Me,[r(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[23]||(s[23]=e=>f.is_active=e),id:"edit_is_active"},null,512),[[R,f.is_active]]),t("label",De,o(l.translations.active),1)])])])]),t("div",Oe,[t("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:s[24]||(s[24]=e=>O.value=!1)},o(l.translations.cancel),1),t("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:_.value},[_.value?(i(),c("span",Pe)):b("",!0),p(" "+o(l.translations.update),1)],8,Ae)])],32)])])])])):b("",!0),q.value?(i(),c("div",Te,[t("div",Ne,[t("div",Be,[t("div",Re,[t("h3",null,o(l.translations.create_order)+" - "+o((m=A.value)==null?void 0:m.name),1),t("div",Le,[t("small",Ge,o(l.translations.base_price)+": "+o(((h=A.value)==null?void 0:h.formatted_price)||"0.00 دينار"),1)]),t("button",{onClick:s[25]||(s[25]=e=>q.value=!1),class:"btn-close"})]),t("div",He,[t("form",{onSubmit:N(rt,["prevent"])},[t("div",Je,[t("div",Ke,[t("h5",null,o(l.translations.customer_details),1),t("div",Qe,[t("label",We,o(l.translations.select_customer),1),t("div",Xe,[r(t("select",{class:"form-select","onUpdate:modelValue":s[26]||(s[26]=e=>n.customer_id=e),onChange:at},[t("option",Ye,o(l.translations.select_customer),1),(i(!0),c(M,null,D(l.customers,e=>(i(),c("option",{key:e.id,value:e.id},o(e.name)+" - "+o(e.phone),9,Ze))),128))],544),[[U,n.customer_id]]),t("button",{type:"button",class:"btn btn-outline-primary",onClick:s[27]||(s[27]=e=>S.value=!S.value)},o(l.translations.create_new_customer),1)])]),S.value?(i(),c("div",to,[t("div",so,[t("div",eo,[t("div",oo,[t("label",lo,o(l.translations.name)+" *",1),r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[28]||(s[28]=e=>y.name=e),required:""},null,512),[[u,y.name]])])]),t("div",no,[t("div",ao,[t("label",io,o(l.translations.phone),1),r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[29]||(s[29]=e=>y.phone=e)},null,512),[[u,y.phone]])])]),t("div",ro,[t("div",co,[t("label",uo,o(l.translations.address),1),r(t("input",{class:"form-control",type:"text","onUpdate:modelValue":s[30]||(s[30]=e=>y.address=e)},null,512),[[u,y.address]])])])])])):b("",!0),n.customer_name?(i(),c("div",mo,[t("strong",null,o(l.translations.customer_details)+":",1),s[67]||(s[67]=t("br",null,null,-1)),p(" "+o(l.translations.name)+": "+o(n.customer_name),1),s[68]||(s[68]=t("br",null,null,-1)),p(" "+o(l.translations.phone)+": "+o(n.customer_phone),1),s[69]||(s[69]=t("br",null,null,-1)),p(" "+o(l.translations.email)+": "+o(n.customer_email),1)])):b("",!0)])]),t("div",bo,[t("div",_o,[t("h5",null,o(l.translations.event_details),1)]),t("div",vo,[t("div",fo,[t("label",ho,o(l.translations.event_address)+" *",1),r(t("input",{class:"form-control",type:"text","onUpdate:modelValue":s[31]||(s[31]=e=>n.event_address=e),required:""},null,512),[[u,n.event_address]])])]),t("div",po,[t("div",yo,[t("label",go,o(l.translations.event_date)+" *",1),r(t("input",{type:"date",class:"form-control","onUpdate:modelValue":s[32]||(s[32]=e=>n.event_date=e),required:""},null,512),[[u,n.event_date]])])]),t("div",wo,[t("div",ko,[t("label",xo,o(l.translations.event_time)+" *",1),r(t("input",{type:"time",class:"form-control","onUpdate:modelValue":s[33]||(s[33]=e=>n.event_time=e),required:""},null,512),[[u,n.event_time]])])]),t("div",Vo,[t("div",Co,[t("label",Uo,o(l.translations.guest_count),1),r(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[34]||(s[34]=e=>n.guest_count=e),min:"1"},null,512),[[u,n.guest_count]])])]),t("div",Fo,[t("div",qo,[t("label",So,o(l.translations.special_requests),1),r(t("input",{class:"form-control",type:"text","onUpdate:modelValue":s[35]||(s[35]=e=>n.special_requests=e)},null,512),[[u,n.special_requests]])])])]),t("div",$o,[t("div",jo,[t("h5",null,o(l.translations.payment_details),1)]),t("div",zo,[t("div",Eo,[t("label",Io,o(l.translations.base_price),1),r(t("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":s[36]||(s[36]=e=>n.base_price=e),readonly:""},null,512),[[u,n.base_price]]),t("small",Mo,o(((V=A.value)==null?void 0:V.current_currency)||"دينار"),1)])]),t("div",Do,[t("div",Oo,[t("label",Ao,o(l.translations.additional_cost),1),r(t("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":s[37]||(s[37]=e=>n.additional_cost=e),onInput:G},null,544),[[u,n.additional_cost]])])]),t("div",Po,[t("div",To,[t("label",No,o(l.translations.discount),1),r(t("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":s[38]||(s[38]=e=>n.discount=e),onInput:G},null,544),[[u,n.discount]])])]),t("div",Bo,[t("div",Ro,[t("label",Lo,o(l.translations.total_price),1),r(t("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":s[39]||(s[39]=e=>n.total_price=e),readonly:""},null,512),[[u,n.total_price]])])])]),t("div",Go,[t("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:s[40]||(s[40]=e=>q.value=!1)},o(l.translations.cancel),1),t("button",{type:"submit",class:"btn btn-success w-100 text-center",disabled:_.value},[_.value?(i(),c("span",Jo)):b("",!0),p(" "+o(l.translations.create_order),1)],8,Ho)])],32)])])])])):b("",!0)]}),_:1}))}},tl=mt(Ko,[["__scopeId","data-v-799a25bd"]]);export{tl as default};
