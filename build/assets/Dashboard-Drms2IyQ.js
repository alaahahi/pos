import{r as j,z as H,o as ss,a as r,c as m,b as s,t,d as b,F as B,f as G,e as w,j as q,l as $,A as L,n as D,x as V,g as R,D as os,v as ns,i as K,h as X,k as as,G as Y,Q as $s,w as es}from"./app-CuOM9y-2.js";import{A as gs}from"./AuthenticatedLayout-DqmIOAZj.js";import{_ as ls}from"./Pagination-D6lX8hRp.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as xs}from"./StatusUpdateModal-CgeaNoZ7.js";import{P as ws}from"./PricingEditModal-elA4C4DR.js";const ks={class:"modal-mask"},Cs={class:"modal-wrapper"},Ss={class:"modal-container",style:{"max-width":"900px"}},Vs={class:"modal-header"},Us={class:"modal-body"},Fs={key:0,class:"alert alert-danger alert-dismissible fade show mb-4",role:"alert"},Ds={class:"mb-0"},js={class:"row mb-4"},Is={class:"col-12"},As={class:"text-primary"},Os={class:"col-md-8"},Ms={class:"form-label"},qs={value:""},Es=["value"],Ps={key:0,class:"invalid-feedback"},zs={class:"col-md-4"},Rs={key:0,class:"col-12 mt-3"},Ts={class:"border rounded p-3 bg-light"},Ls={class:"row"},Ns={class:"col-md-4"},Bs={class:"form-label"},Gs={key:0,class:"invalid-feedback"},Ws={class:"col-md-4"},Js={class:"form-label"},Qs={key:0,class:"invalid-feedback"},Ys={class:"col-md-4"},Hs={class:"form-label"},Ks={key:0,class:"invalid-feedback"},Xs={class:"col-12 mt-2"},Zs={class:"form-label"},st={key:1,class:"col-12 mt-3"},tt={class:"alert alert-info"},et={class:"row mb-4"},ot={class:"col-12"},nt={class:"text-success"},at={class:"col-md-6"},lt={class:"form-label"},it={key:0,class:"invalid-feedback"},rt={class:"col-md-3"},dt={class:"form-label"},ct=["min"],ut={key:0,class:"invalid-feedback"},mt={class:"col-md-3"},vt={class:"form-label"},bt={key:0,class:"invalid-feedback"},_t={class:"col-md-6 mt-3"},pt={class:"form-label"},ht={key:0,class:"invalid-feedback"},yt={class:"col-12 mt-3"},ft={class:"form-label"},$t=["placeholder"],gt={key:0,class:"invalid-feedback"},xt={class:"row mb-4"},wt={class:"col-12"},kt={class:"text-info"},Ct={class:"col-md-6"},St={class:"card"},Vt={class:"card-body"},Ut={class:"card-title"},Ft={class:"card-text"},Dt={class:"d-flex justify-content-between"},jt={class:"badge bg-primary"},It={class:"badge bg-info"},At={class:"col-md-6"},Ot={class:"card"},Mt={class:"card-body"},qt={class:"card-title"},Et={class:"d-flex justify-content-between mb-2"},Pt={class:"d-flex justify-content-between mb-2"},zt={class:"d-flex justify-content-between"},Rt={class:"row mb-4"},Tt={class:"col-12"},Lt={class:"text-warning"},Nt={class:"col-md-3"},Bt={class:"form-label"},Gt={class:"col-md-3"},Wt={class:"form-label"},Jt={key:0,class:"invalid-feedback"},Qt={class:"col-md-3"},Yt={class:"form-label"},Ht={key:0,class:"invalid-feedback"},Kt={class:"col-md-3"},Xt={class:"form-label"},Zt={class:"d-flex justify-content-center gap-2"},se=["disabled"],te={key:0,class:"spinner-border spinner-border-sm me-2"},ee={__name:"OrderCreationModal",props:{decoration:Object,customers:Array,translations:Object},emits:["close","success"],setup(e,{emit:M}){const c=e,U=M,_=j(!1),a=j(!1),u=j({}),d=H({decoration_id:c.decoration.id,customer_id:"",customer_name:"",customer_phone:"",customer_email:"",event_address:"",event_date:"",event_time:"",guest_count:50,special_requests:"",base_price:0,additional_cost:0,discount:0,total_price:0}),v=H({name:"",phone:"",email:"",address:""}),x=n=>{const l=n.currency==="dollar"?n.base_price_dollar:n.base_price_dinar,f=n.currency==="dollar"?c.translations.dollar:c.translations.dinar;return`${parseFloat(l).toFixed(2)} ${f}`},C=()=>{if(d.customer_id){const n=c.customers.find(l=>l.id==d.customer_id);n&&(d.customer_name=n.name,d.customer_phone=n.phone,d.customer_email=n.email||"",a.value=!1)}else d.customer_name="",d.customer_phone="",d.customer_email=""},k=()=>{const n=new Date,l=n.getFullYear(),f=String(n.getMonth()+1).padStart(2,"0"),z=String(n.getDate()).padStart(2,"0");return`${l}-${f}-${z}`},I=n=>{u.value[n]&&delete u.value[n]},E=n=>({customer_name:c.translations.customer_name||"اسم العميل",customer_phone:c.translations.customer_phone||"رقم الهاتف",customer_email:c.translations.customer_email||"البريد الإلكتروني",event_address:c.translations.event_address||"عنوان الحدث",event_date:c.translations.event_date||"تاريخ الحدث",event_time:c.translations.event_time||"وقت الحدث",guest_count:c.translations.guest_count||"عدد الضيوف",special_requests:c.translations.order_specifications||"مواصفات الطلب",additional_cost:c.translations.additional_cost||"تكلفة إضافية",discount:c.translations.discount||"خصم"})[n]||n,P=()=>{const n=parseFloat(d.base_price)||0,l=parseFloat(d.additional_cost)||0,f=parseFloat(d.discount)||0;d.total_price=Math.max(0,n+l-f)},A=async()=>{_.value=!0;try{a.value&&v.name&&await R.post("/customers",{...v,is_active:!0,notes:c.translations.created_from_decoration},{preserveState:!0,onSuccess:n=>{d.customer_name=v.name,d.customer_phone=v.phone,d.customer_email=v.email}}),R.post("/decoration-orders",d,{onSuccess:()=>{_.value=!1,u.value={},os.post("/logs",{module_name:"Decoration Order",action:"Order Creation Modal Submit",affected_record_id:null,updated_data:d}).catch(()=>{}),U("success")},onError:n=>{_.value=!1,u.value=n,console.error("Validation errors:",n)}})}catch(n){_.value=!1,console.error("Error creating order:",n)}};return ss(()=>{const n=c.decoration.currency==="dollar"?c.decoration.base_price_dollar:c.decoration.base_price_dinar;d.base_price=parseFloat(n),d.total_price=parseFloat(n)}),(n,l)=>(r(),m("div",ks,[s("div",Cs,[s("div",Ss,[s("div",Vs,[s("h3",null,t(e.translations.create_order)+" - "+t(e.decoration.name),1),s("button",{onClick:l[0]||(l[0]=f=>n.$emit("close")),class:"btn-close"})]),s("div",Us,[Object.keys(u.value).length>0?(r(),m("div",Fs,[l[21]||(l[21]=s("h5",{class:"alert-heading"},[s("i",{class:"bi bi-exclamation-triangle"}),b(" يرجى تصحيح الأخطاء التالية: ")],-1)),s("ul",Ds,[(r(!0),m(B,null,G(u.value,(f,z)=>(r(),m("li",{key:z},[s("strong",null,t(E(z))+":",1),b(" "+t(Array.isArray(f)?f[0]:f),1)]))),128))])])):w("",!0),s("form",{onSubmit:q(A,["prevent"])},[s("div",js,[s("div",Is,[s("h5",As,[l[22]||(l[22]=s("i",{class:"bi bi-person"},null,-1)),b(" "+t(e.translations.customer_details),1)]),l[23]||(l[23]=s("hr",null,null,-1))]),s("div",Os,[s("label",Ms,t(e.translations.select_customer),1),$(s("select",{class:D(["form-select",{"is-invalid":u.value.customer_id}]),"onUpdate:modelValue":l[1]||(l[1]=f=>d.customer_id=f),onChange:C},[s("option",qs,t(e.translations.select_customer),1),(r(!0),m(B,null,G(e.customers,f=>(r(),m("option",{key:f.id,value:f.id},t(f.name)+" - "+t(f.phone),9,Es))),128))],34),[[L,d.customer_id]]),u.value.customer_id?(r(),m("div",Ps,t(u.value.customer_id),1)):w("",!0)]),s("div",zs,[l[25]||(l[25]=s("label",{class:"form-label"}," ",-1)),s("button",{type:"button",class:"btn btn-outline-primary w-100",onClick:l[2]||(l[2]=f=>a.value=!a.value)},[l[24]||(l[24]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(e.translations.create_new_customer),1)])]),a.value?(r(),m("div",Rs,[s("div",Ts,[s("div",Ls,[s("div",Ns,[s("label",Bs,t(e.translations.name)+" *",1),$(s("input",{type:"text",class:D(["form-control",{"is-invalid":u.value.customer_name}]),"onUpdate:modelValue":l[3]||(l[3]=f=>v.name=f),required:""},null,2),[[V,v.name]]),u.value.customer_name?(r(),m("div",Gs,t(u.value.customer_name),1)):w("",!0)]),s("div",Ws,[s("label",Js,t(e.translations.phone),1),$(s("input",{type:"text",class:D(["form-control",{"is-invalid":u.value.customer_phone}]),"onUpdate:modelValue":l[4]||(l[4]=f=>v.phone=f)},null,2),[[V,v.phone]]),u.value.customer_phone?(r(),m("div",Qs,t(u.value.customer_phone),1)):w("",!0)]),s("div",Ys,[s("label",Hs,t(e.translations.email),1),$(s("input",{type:"email",class:D(["form-control",{"is-invalid":u.value.customer_email}]),"onUpdate:modelValue":l[5]||(l[5]=f=>v.email=f)},null,2),[[V,v.email]]),u.value.customer_email?(r(),m("div",Ks,t(u.value.customer_email),1)):w("",!0)]),s("div",Xs,[s("label",Zs,t(e.translations.address),1),$(s("input",{class:"form-control",type:"text","onUpdate:modelValue":l[6]||(l[6]=f=>v.address=f)},null,512),[[V,v.address]])])])])])):w("",!0),d.customer_name&&!a.value?(r(),m("div",st,[s("div",tt,[s("strong",null,t(e.translations.selected_customer)+":",1),l[26]||(l[26]=s("br",null,null,-1)),l[27]||(l[27]=s("i",{class:"bi bi-person"},null,-1)),b(" "+t(d.customer_name),1),l[28]||(l[28]=s("br",null,null,-1)),l[29]||(l[29]=s("i",{class:"bi bi-telephone"},null,-1)),b(" "+t(d.customer_phone),1),l[30]||(l[30]=s("br",null,null,-1)),l[31]||(l[31]=s("i",{class:"bi bi-envelope"},null,-1)),b(" "+t(d.customer_email||e.translations.not_provided),1)])])):w("",!0)]),s("div",et,[s("div",ot,[s("h5",nt,[l[32]||(l[32]=s("i",{class:"bi bi-calendar-event"},null,-1)),b(" "+t(e.translations.event_details),1)]),l[33]||(l[33]=s("hr",null,null,-1))]),s("div",at,[s("label",lt,t(e.translations.event_address)+" *",1),$(s("input",{class:D(["form-control",{"is-invalid":u.value.event_address}]),type:"text","onUpdate:modelValue":l[7]||(l[7]=f=>d.event_address=f),required:"",onInput:l[8]||(l[8]=f=>I("event_address"))},null,34),[[V,d.event_address]]),u.value.event_address?(r(),m("div",it,t(u.value.event_address),1)):w("",!0)]),s("div",rt,[s("label",dt,t(e.translations.event_date)+" *",1),$(s("input",{type:"date",class:D(["form-control",{"is-invalid":u.value.event_date}]),"onUpdate:modelValue":l[9]||(l[9]=f=>d.event_date=f),required:"",min:k(),onInput:l[10]||(l[10]=f=>I("event_date"))},null,42,ct),[[V,d.event_date]]),u.value.event_date?(r(),m("div",ut,t(u.value.event_date),1)):w("",!0)]),s("div",mt,[s("label",vt,t(e.translations.event_time)+" *",1),$(s("input",{type:"time",class:D(["form-control",{"is-invalid":u.value.event_time}]),"onUpdate:modelValue":l[11]||(l[11]=f=>d.event_time=f),required:"",onInput:l[12]||(l[12]=f=>I("event_time"))},null,34),[[V,d.event_time]]),u.value.event_time?(r(),m("div",bt,t(u.value.event_time),1)):w("",!0)]),s("div",_t,[s("label",pt,t(e.translations.guest_count),1),$(s("input",{type:"number",class:D(["form-control",{"is-invalid":u.value.guest_count}]),"onUpdate:modelValue":l[13]||(l[13]=f=>d.guest_count=f),min:"1"},null,2),[[V,d.guest_count]]),u.value.guest_count?(r(),m("div",ht,t(u.value.guest_count),1)):w("",!0)]),s("div",yt,[s("label",ft,t(e.translations.order_specifications||"مواصفات الطلب"),1),$(s("textarea",{class:D(["form-control",{"is-invalid":u.value.special_requests}]),style:{"border-color":"#007bff","box-shadow":"0 0 0 0.2rem rgba(0, 123, 255, 0.25)"},"onUpdate:modelValue":l[14]||(l[14]=f=>d.special_requests=f),rows:"4",placeholder:e.translations.enter_order_specifications||"أدخل مواصفات الطلب والطلبات الخاصة...",onInput:l[15]||(l[15]=f=>I("special_requests"))},null,42,$t),[[V,d.special_requests]]),u.value.special_requests?(r(),m("div",gt,t(u.value.special_requests),1)):w("",!0),l[34]||(l[34]=s("small",{class:"text-muted"},"مثل: عدد البالونات، الألوان المطلوبة، تفاصيل الديكور، إلخ...",-1))])]),s("div",xt,[s("div",wt,[s("h5",kt,[l[35]||(l[35]=s("i",{class:"bi bi-palette"},null,-1)),b(" "+t(e.translations.decoration_details),1)]),l[36]||(l[36]=s("hr",null,null,-1))]),s("div",Ct,[s("div",St,[s("div",Vt,[s("h6",Ut,t(e.decoration.name),1),s("p",Ft,t(e.decoration.description),1),s("div",Dt,[s("span",jt,t(e.decoration.type_name),1),s("span",It,t(e.decoration.duration_hours)+" "+t(e.translations.hours),1)])])])]),s("div",At,[s("div",Ot,[s("div",Mt,[s("h6",qt,t(e.translations.pricing_details),1),s("div",Et,[s("span",null,t(e.translations.base_price)+":",1),s("strong",null,t(x(e.decoration)),1)]),s("div",Pt,[s("span",null,t(e.translations.team_size)+":",1),s("span",null,t(e.decoration.team_size)+" "+t(e.translations.team_members),1)]),s("div",zt,[s("span",null,t(e.translations.currency)+":",1),s("span",{class:D(["badge",e.decoration.currency==="dollar"?"bg-success":"bg-primary"])},t(e.decoration.currency==="dollar"?e.translations.dollar:e.translations.dinar),3)])])])])]),s("div",Rt,[s("div",Tt,[s("h5",Lt,[l[37]||(l[37]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.payment_details),1)]),l[38]||(l[38]=s("hr",null,null,-1))]),s("div",Nt,[s("label",Bt,t(e.translations.base_price),1),$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[16]||(l[16]=f=>d.base_price=f),readonly:""},null,512),[[V,d.base_price]])]),s("div",Gt,[s("label",Wt,t(e.translations.additional_cost),1),$(s("input",{type:"number",step:"0.01",class:D(["form-control",{"is-invalid":u.value.additional_cost}]),"onUpdate:modelValue":l[17]||(l[17]=f=>d.additional_cost=f),onInput:P},null,34),[[V,d.additional_cost]]),u.value.additional_cost?(r(),m("div",Jt,t(u.value.additional_cost),1)):w("",!0)]),s("div",Qt,[s("label",Yt,t(e.translations.discount),1),$(s("input",{type:"number",step:"0.01",class:D(["form-control",{"is-invalid":u.value.discount}]),"onUpdate:modelValue":l[18]||(l[18]=f=>d.discount=f),onInput:P},null,34),[[V,d.discount]]),u.value.discount?(r(),m("div",Ht,t(u.value.discount),1)):w("",!0)]),s("div",Kt,[s("label",Xt,t(e.translations.total_price),1),$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":l[19]||(l[19]=f=>d.total_price=f),readonly:""},null,512),[[V,d.total_price]])])]),s("div",Zt,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:l[20]||(l[20]=f=>n.$emit("close"))},[l[39]||(l[39]=s("i",{class:"bi bi-x-circle"},null,-1)),b(" "+t(e.translations.cancel),1)]),s("button",{type:"submit",class:"btn btn-success w-100 text-center",disabled:_.value},[_.value?(r(),m("span",te)):w("",!0),l[40]||(l[40]=s("i",{class:"bi bi-check-circle"},null,-1)),b(" "+t(e.translations.create_order),1)],8,se)])],32)])])])]))}},oe=Q(ee,[["__scopeId","data-v-444e1eec"]]),ne={class:"modal-mask"},ae={class:"modal-wrapper"},le={class:"modal-container",style:{"max-width":"800px"}},ie={class:"modal-header"},re={class:"modal-body"},de={class:"row"},ce={class:"col-md-6"},ue={class:"text-primary mb-3"},me={class:"mb-3"},ve={class:"form-label"},be={class:"mb-3"},_e={class:"form-label"},pe={class:"mb-3"},he={class:"form-label"},ye={value:""},fe={value:"birthday"},$e={value:"gender_reveal"},ge={value:"baby_shower"},xe={value:"wedding"},we={value:"graduation"},ke={value:"corporate"},Ce={value:"religious"},Se={class:"col-md-6"},Ve={class:"text-success mb-3"},Ue={class:"mb-3"},Fe={class:"form-label"},De={value:"dinar"},je={value:"dollar"},Ie={class:"row"},Ae={class:"col-md-6"},Oe={class:"mb-3"},Me={class:"form-label"},qe={class:"col-md-6"},Ee={class:"mb-3"},Pe={class:"form-label"},ze={class:"row"},Re={class:"col-md-6"},Te={class:"mb-3"},Le={class:"form-label"},Ne={class:"col-md-6"},Be={class:"mb-3"},Ge={class:"form-label"},We={class:"mb-3"},Je={class:"form-check"},Qe={class:"form-check-label",for:"is_active_edit"},Ye={class:"d-flex justify-content-center gap-2 mt-4"},He=["disabled"],Ke={key:0,class:"spinner-border spinner-border-sm me-2"},Xe={__name:"EditDecorationModal",props:{decoration:Object,translations:Object},emits:["success","close"],setup(e,{emit:M}){const c=e,U=M,_=j(!1),a=H({name:"",description:"",type:"",currency:"dinar",base_price:"",base_price_dinar:"",base_price_dollar:"",duration_hours:"",team_size:"",is_active:!0,materials_cost:0,labor_cost:0,transportation_cost:0}),u=()=>{_.value=!0;const d={...a,base_price:a.currency==="dinar"?a.base_price_dinar:a.base_price_dollar,materials_cost:parseFloat(a.materials_cost)||0,labor_cost:parseFloat(a.labor_cost)||0,transportation_cost:parseFloat(a.transportation_cost)||0};R.patch(route("decorations.update",c.decoration.id),d,{onSuccess:()=>{_.value=!1,os.post("/logs",{module_name:"Decoration",action:"Edit Decoration Modal Submit",affected_record_id:c.decoration.id,updated_data:d}).catch(()=>{}),U("success")},onError:()=>{_.value=!1}})};return ss(()=>{if(c.decoration&&(a.name=c.decoration.name||"",a.description=c.decoration.description||"",a.type=c.decoration.type||"",a.currency=c.decoration.currency||"dinar",a.base_price=c.decoration.base_price||"",a.base_price_dinar=c.decoration.base_price_dinar||"",a.base_price_dollar=c.decoration.base_price_dollar||"",a.duration_hours=c.decoration.duration_hours||"",a.team_size=c.decoration.team_size||"",a.is_active=c.decoration.is_active!==void 0?c.decoration.is_active:!0,c.decoration.pricing_details)){const d=typeof c.decoration.pricing_details=="string"?JSON.parse(c.decoration.pricing_details):c.decoration.pricing_details;a.materials_cost=d.materials||0,a.labor_cost=d.labor||0,a.transportation_cost=d.transportation||0}}),(d,v)=>(r(),m("div",ne,[s("div",ae,[s("div",le,[s("div",ie,[s("h3",null,t(e.translations.edit)+" "+t(e.translations.decoration),1),s("button",{onClick:v[0]||(v[0]=x=>d.$emit("close")),class:"btn-close"})]),s("div",re,[s("form",{onSubmit:q(u,["prevent"])},[s("div",de,[s("div",ce,[s("h6",ue,[v[11]||(v[11]=s("i",{class:"bi bi-info-circle"},null,-1)),b(" "+t(e.translations.basic_information),1)]),s("div",me,[s("label",ve,t(e.translations.decoration_name)+" *",1),$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":v[1]||(v[1]=x=>a.name=x),required:""},null,512),[[V,a.name]])]),s("div",be,[s("label",_e,t(e.translations.decoration_description),1),$(s("input",{class:"form-control",type:"text","onUpdate:modelValue":v[2]||(v[2]=x=>a.description=x)},null,512),[[V,a.description]])]),s("div",pe,[s("label",he,t(e.translations.decoration_type)+" *",1),$(s("select",{class:"form-select","onUpdate:modelValue":v[3]||(v[3]=x=>a.type=x),required:""},[s("option",ye,t(e.translations.select_type),1),s("option",fe,t(e.translations.birthday),1),s("option",$e,t(e.translations.gender_reveal),1),s("option",ge,t(e.translations.baby_shower),1),s("option",xe,t(e.translations.wedding),1),s("option",we,t(e.translations.graduation),1),s("option",ke,t(e.translations.corporate),1),s("option",Ce,t(e.translations.religious),1)],512),[[L,a.type]])])]),s("div",Se,[s("h6",Ve,[v[12]||(v[12]=s("i",{class:"bi bi-currency-dollar"},null,-1)),b(" "+t(e.translations.pricing_details),1)]),s("div",Ue,[s("label",Fe,t(e.translations.currency)+" *",1),$(s("select",{class:"form-select","onUpdate:modelValue":v[4]||(v[4]=x=>a.currency=x),required:""},[s("option",De,t(e.translations.dinar),1),s("option",je,t(e.translations.dollar),1)],512),[[L,a.currency]])]),s("div",Ie,[s("div",Ae,[s("div",Oe,[s("label",Me,t(e.translations.base_price_dinar)+" *",1),$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":v[5]||(v[5]=x=>a.base_price_dinar=x),required:""},null,512),[[V,a.base_price_dinar]])])]),s("div",qe,[s("div",Ee,[s("label",Pe,t(e.translations.base_price_dollar)+" *",1),$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":v[6]||(v[6]=x=>a.base_price_dollar=x),required:""},null,512),[[V,a.base_price_dollar]])])])]),s("div",ze,[s("div",Re,[s("div",Te,[s("label",Le,t(e.translations.duration_hours)+" *",1),$(s("input",{type:"number",class:"form-control","onUpdate:modelValue":v[7]||(v[7]=x=>a.duration_hours=x),required:""},null,512),[[V,a.duration_hours]])])]),s("div",Ne,[s("div",Be,[s("label",Ge,t(e.translations.team_size)+" *",1),$(s("input",{type:"number",class:"form-control","onUpdate:modelValue":v[8]||(v[8]=x=>a.team_size=x),required:""},null,512),[[V,a.team_size]])])])]),s("div",We,[s("div",Je,[$(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":v[9]||(v[9]=x=>a.is_active=x),id:"is_active_edit"},null,512),[[ns,a.is_active]]),s("label",Qe,t(e.translations.active),1)])])])]),s("div",Ye,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:v[10]||(v[10]=x=>d.$emit("close"))},[v[13]||(v[13]=s("i",{class:"bi bi-x-circle"},null,-1)),b(" "+t(e.translations.cancel),1)]),s("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:_.value},[_.value?(r(),m("span",Ke)):w("",!0),v[14]||(v[14]=s("i",{class:"bi bi-check-circle"},null,-1)),b(" "+t(e.translations.save),1)],8,He)])],32)])])])]))}},Ze=Q(Xe,[["__scopeId","data-v-5cbf25cd"]]),so={class:"d-flex justify-content-between align-items-center mb-4"},to={class:"mb-0"},eo={class:"badge bg-primary ms-2"},oo={class:"d-flex gap-2"},no=["href"],ao={class:"card mb-4"},lo={class:"card-body"},io={class:"row"},ro={class:"col-md-3"},co=["placeholder"],uo={class:"col-md-2"},mo={value:""},vo={value:"birthday"},bo={value:"gender_reveal"},_o={value:"baby_shower"},po={value:"wedding"},ho={value:"graduation"},yo={value:"corporate"},fo={value:"religious"},$o={class:"col-md-2"},go={value:""},xo={value:"dinar"},wo={value:"dollar"},ko={class:"col-md-2"},Co={value:""},So={value:"1"},Vo={value:"0"},Uo={class:"col-md-2"},Fo={type:"submit",class:"btn btn-primary w-100"},Do={key:0,class:"row"},jo={class:"card h-100 decoration-card"},Io={class:"card-img-top position-relative",style:{height:"200px",overflow:"hidden"}},Ao=["src","alt"],Oo={key:1,class:"w-100 h-100 bg-light d-flex align-items-center justify-content-center"},Mo={class:"position-absolute top-0 end-0 m-2"},qo={class:"position-absolute top-0 start-0 m-2"},Eo={class:"card-body d-flex flex-column"},Po={class:"card-title"},zo={class:"card-text text-muted"},Ro={class:"mt-auto"},To={class:"d-flex justify-content-between align-items-center mb-2"},Lo={class:"badge bg-info"},No={class:"price-section mb-3"},Bo={class:"d-flex justify-content-between align-items-center mb-2"},Go={class:"fw-bold text-primary fs-5"},Wo={class:"text-muted"},Jo={class:"d-flex justify-content-between align-items-center"},Qo={class:"text-muted"},Yo=["onClick","title"],Ho={class:"actions-container"},Ko={class:"row g-2"},Xo={class:"col-6"},Zo=["onClick"],sn={class:"col-6"},tn=["onClick","title"],en={class:"row g-2 mt-2"},on={class:"col-3"},nn=["onClick"],an={class:"col-3"},ln=["onClick"],rn={class:"col-3"},dn=["href"],cn={class:"col-3"},un=["onClick"],mn={key:1,class:"text-center py-5 empty-state"},vn={class:"empty-state-title"},bn={class:"empty-state-description"},_n={class:"empty-state-actions"},pn={key:2,class:"d-flex justify-content-center mt-4"},hn={__name:"DecorationsList",props:{decorations:Object,customers:Array,translations:Object},emits:["refresh"],setup(e,{emit:M}){const c=e,U=M,_=j(!1),a=j(!1),u=j(null),d=H({search:"",type:"",currency:"",is_active:""}),v=()=>{R.get(route("decorations.dashboard"),{tab:"decorations",...d},{preserveState:!0,replace:!0})},x=()=>{d.search="",d.type="",d.currency="",d.is_active="",v()},C=S=>{const h=S.base_price||S.current_price||0,T=S.currency==="dollar"?c.translations.dollar:c.translations.dinar;return`${parseFloat(h).toFixed(2)} ${T}`},k=S=>({birthday:c.translations.birthday,gender_reveal:c.translations.gender_reveal,baby_shower:c.translations.baby_shower,wedding:c.translations.wedding,graduation:c.translations.graduation,corporate:c.translations.corporate,religious:c.translations.religious})[S]||S,I=S=>{const h=S.currency==="dinar"?"dollar":"dinar";R.patch(route("decorations.update",S.id),{currency:h},{preserveState:!0,onSuccess:()=>{console.log("Currency updated successfully")},onError:T=>{console.error("Error updating currency:",T)}})},E=S=>{u.value=S,_.value=!0},P=S=>{u.value=S,a.value=!0},A=S=>{R.get(route("decorations.show",S.id))},n=S=>{confirm(c.translations.confirm_delete)&&R.delete(route("decorations.destroy",S),{onSuccess:()=>{U("refresh")}})},l=()=>{_.value=!1,U("refresh")},f=()=>{a.value=!1,U("refresh")},z=S=>window.permissions&&window.permissions.includes(S);return(S,h)=>{var T,F;return r(),m("div",null,[s("div",so,[s("h4",to,[h[8]||(h[8]=s("i",{class:"bi bi-palette text-primary"},null,-1)),b(" "+t(e.translations.decorations_list)+" ",1),s("span",eo,t(((F=(T=e.decorations)==null?void 0:T.data)==null?void 0:F.length)||0),1)]),s("div",oo,[z("create decoration")?(r(),m("button",{key:0,class:"btn btn-primary btn-lg",onClick:h[0]||(h[0]=i=>S.$emit("createDecoration"))},[h[9]||(h[9]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(e.translations.create_decoration),1)])):w("",!0),s("a",{href:S.route("public.gallery"),class:"btn btn-outline-info btn-lg",target:"_blank"},h[10]||(h[10]=[s("i",{class:"bi bi-eye"},null,-1),b(" عرض المعرض العام ")]),8,no)])]),s("div",ao,[s("div",lo,[s("form",{onSubmit:q(v,["prevent"])},[s("div",io,[s("div",ro,[$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":h[1]||(h[1]=i=>d.search=i),placeholder:e.translations.search},null,8,co),[[V,d.search]])]),s("div",uo,[$(s("select",{class:"form-select","onUpdate:modelValue":h[2]||(h[2]=i=>d.type=i)},[s("option",mo,t(e.translations.all_types),1),s("option",vo,t(e.translations.birthday),1),s("option",bo,t(e.translations.gender_reveal),1),s("option",_o,t(e.translations.baby_shower),1),s("option",po,t(e.translations.wedding),1),s("option",ho,t(e.translations.graduation),1),s("option",yo,t(e.translations.corporate),1),s("option",fo,t(e.translations.religious),1)],512),[[L,d.type]])]),s("div",$o,[$(s("select",{class:"form-select","onUpdate:modelValue":h[3]||(h[3]=i=>d.currency=i)},[s("option",go,t(e.translations.all_currencies),1),s("option",xo,t(e.translations.dinar),1),s("option",wo,t(e.translations.dollar),1)],512),[[L,d.currency]])]),s("div",ko,[$(s("select",{class:"form-select","onUpdate:modelValue":h[4]||(h[4]=i=>d.is_active=i)},[s("option",Co,t(e.translations.all_status),1),s("option",So,t(e.translations.active),1),s("option",Vo,t(e.translations.inactive),1)],512),[[L,d.is_active]])]),s("div",Uo,[s("button",Fo,[h[11]||(h[11]=s("i",{class:"bi bi-search"},null,-1)),b(" "+t(e.translations.search),1)])]),s("div",{class:"col-md-1"},[s("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:x},h[12]||(h[12]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1)]))])])],32)])]),e.decorations.data.length>0?(r(),m("div",Do,[(r(!0),m(B,null,G(e.decorations.data,i=>(r(),m("div",{class:"col-xl-4 col-lg-4 col-md-6 mb-4",key:i.id},[s("div",jo,[s("div",Io,[i.thumbnail_url||i.image_url?(r(),m("img",{key:0,src:i.thumbnail_url||i.image_url,alt:i.name,class:"w-100 h-100 object-cover"},null,8,Ao)):(r(),m("div",Oo,h[13]||(h[13]=[s("i",{class:"bi bi-image text-muted",style:{"font-size":"3rem"}},null,-1)]))),s("div",Mo,[s("span",{class:D(["badge",i.currency==="dollar"?"bg-success":"bg-primary"])},t(i.currency==="dollar"?e.translations.dollar:e.translations.dinar),3)]),s("div",qo,[s("span",{class:D(["badge",i.is_active?"bg-success":"bg-secondary"])},t(i.is_active?e.translations.active:e.translations.inactive),3)])]),s("div",Eo,[s("h5",Po,t(i.name),1),s("p",zo,t(i.description),1),s("div",Ro,[s("div",To,[s("span",Lo,t(k(i.type)),1),s("span",{class:D(["badge",i.is_active?"bg-success":"bg-secondary"])},t(i.is_active?c.translations.active:c.translations.inactive),3)]),s("div",No,[s("div",Bo,[s("span",Go,t(C(i)),1),s("small",Wo,[h[14]||(h[14]=s("i",{class:"bi bi-clock"},null,-1)),b(" "+t(i.duration_hours)+" "+t(c.translations.hours),1)])]),s("div",Jo,[s("small",Qo,[h[15]||(h[15]=s("i",{class:"bi bi-people"},null,-1)),b(" "+t(i.team_size)+" "+t(c.translations.team_members),1)]),s("button",{onClick:y=>I(i),class:"btn btn-sm btn-outline-info",title:c.translations.switch_currency},h[16]||(h[16]=[s("i",{class:"bi bi-arrow-repeat"},null,-1)]),8,Yo)])])]),s("div",Ho,[s("div",Ko,[s("div",Xo,[s("button",{onClick:y=>E(i),class:"btn btn-success btn-action w-100"},[h[17]||(h[17]=s("i",{class:"bi bi-plus-circle"},null,-1)),s("span",null,t(e.translations.create_order),1)],8,Zo)]),s("div",sn,[s("button",{onClick:y=>I(i),class:"btn btn-outline-info btn-action w-100",title:e.translations.switch_currency},[h[18]||(h[18]=s("i",{class:"bi bi-arrow-repeat"},null,-1)),s("span",null,t(e.translations.switch_currency),1)],8,tn)])]),s("div",en,[s("div",on,[z("update decoration")?(r(),m("button",{key:0,onClick:y=>P(i),class:"btn btn-outline-warning btn-action w-100"},[h[19]||(h[19]=s("i",{class:"bi bi-pencil"},null,-1)),s("span",null,t(e.translations.edit),1)],8,nn)):w("",!0)]),s("div",an,[s("button",{onClick:y=>A(i),class:"btn btn-outline-primary btn-action w-100"},[h[20]||(h[20]=s("i",{class:"bi bi-eye"},null,-1)),s("span",null,t(e.translations.view),1)],8,ln)]),s("div",rn,[s("a",{href:S.route("public.decoration.show",i.id),class:"btn btn-outline-info btn-action w-100",target:"_blank"},h[21]||(h[21]=[s("i",{class:"bi bi-globe"},null,-1),s("span",null,"معرض",-1)]),8,dn)]),s("div",cn,[z("delete decoration")?(r(),m("button",{key:0,onClick:y=>n(i.id),class:"btn btn-outline-danger btn-action w-100"},[h[22]||(h[22]=s("i",{class:"bi bi-trash"},null,-1)),s("span",null,t(e.translations.delete),1)],8,un)):w("",!0)])])])])])]))),128))])):(r(),m("div",mn,[h[24]||(h[24]=s("div",{class:"empty-state-icon"},[s("i",{class:"bi bi-palette"})],-1)),s("h4",vn,t(e.translations.no_decorations),1),s("p",bn,t(e.translations.no_decorations_description),1),s("div",_n,[z("create decoration")?(r(),m("button",{key:0,class:"btn btn-primary btn-lg",onClick:h[5]||(h[5]=i=>S.$emit("createDecoration"))},[h[23]||(h[23]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(e.translations.create_first_decoration),1)])):w("",!0)])])),e.decorations.data.length>0?(r(),m("div",pn,[K(ls,{links:e.decorations.links},null,8,["links"])])):w("",!0),_.value?(r(),X(oe,{key:3,decoration:u.value,customers:e.customers,translations:e.translations,onClose:h[6]||(h[6]=i=>_.value=!1),onSuccess:l},null,8,["decoration","customers","translations"])):w("",!0),a.value?(r(),X(Ze,{key:4,decoration:u.value,translations:e.translations,onClose:h[7]||(h[7]=i=>a.value=!1),onSuccess:f},null,8,["decoration","translations"])):w("",!0)])}}},yn=Q(hn,[["__scopeId","data-v-d0d8ed18"]]),fn={class:"modal-mask"},$n={class:"modal-wrapper"},gn={class:"modal-container"},xn={class:"modal-header"},wn={class:"modal-body"},kn={key:0,class:"alert alert-danger mb-3",role:"alert"},Cn={class:"mb-0"},Sn={class:"mb-3"},Vn={class:"form-label"},Un={value:""},Fn=["value"],Dn={key:0,class:"invalid-feedback"},jn={class:"mb-3"},In={class:"form-label"},An={key:0,class:"invalid-feedback"},On={class:"d-flex justify-content-center gap-2"},Mn=["disabled"],qn={key:0,class:"spinner-border spinner-border-sm me-2"},En={__name:"EmployeeAssignmentModal",props:{order:Object,employees:Array,translations:Object},emits:["close","success"],setup(e,{emit:M}){const c=e,U=M,_=j(!1),a=j({}),u=H({assigned_employee_id:c.order.assigned_employee_id||"",notes:c.order.notes||""}),d=()=>{if(!u.assigned_employee_id){alert(c.translations.select_employee||"يرجى اختيار موظف");return}_.value=!0,a.value={},R.patch(route("decoration.orders.status",c.order.id),u,{onSuccess:()=>{_.value=!1,U("success")},onError:v=>{_.value=!1,a.value=v,console.error("Assignment errors:",v)}})};return(v,x)=>(r(),m("div",fn,[s("div",$n,[s("div",gn,[s("div",xn,[s("h3",null,t(e.translations.assign_employee),1),s("button",{onClick:x[0]||(x[0]=C=>v.$emit("close")),class:"btn-close"})]),s("div",wn,[Object.keys(a.value).length>0?(r(),m("div",kn,[x[4]||(x[4]=s("h6",{class:"alert-heading"},[s("i",{class:"bi bi-exclamation-triangle"}),b(" حدثت أخطاء: ")],-1)),s("ul",Cn,[(r(!0),m(B,null,G(a.value,(C,k)=>(r(),m("li",{key:k},t(Array.isArray(C)?C[0]:C),1))),128))])])):w("",!0),s("form",{onSubmit:q(d,["prevent"])},[s("div",Sn,[s("label",Vn,t(e.translations.select_employee),1),$(s("select",{class:D(["form-select",{"is-invalid":a.value.assigned_employee_id}]),"onUpdate:modelValue":x[1]||(x[1]=C=>u.assigned_employee_id=C),required:""},[s("option",Un,t(e.translations.select_employee),1),(r(!0),m(B,null,G(e.employees,C=>(r(),m("option",{key:C.id,value:C.id},t(C.name),9,Fn))),128))],2),[[L,u.assigned_employee_id]]),a.value.assigned_employee_id?(r(),m("div",Dn,t(Array.isArray(a.value.assigned_employee_id)?a.value.assigned_employee_id[0]:a.value.assigned_employee_id),1)):w("",!0)]),s("div",jn,[s("label",In,t(e.translations.notes),1),$(s("textarea",{class:D(["form-control",{"is-invalid":a.value.notes}]),"onUpdate:modelValue":x[2]||(x[2]=C=>u.notes=C),rows:"3"},null,2),[[V,u.notes]]),a.value.notes?(r(),m("div",An,t(Array.isArray(a.value.notes)?a.value.notes[0]:a.value.notes),1)):w("",!0)]),s("div",On,[s("button",{type:"button",class:"btn btn-secondary text-center w-100",onClick:x[3]||(x[3]=C=>v.$emit("close"))},t(e.translations.cancel),1),s("button",{type:"submit",class:"btn btn-primary w-100 text-center",disabled:_.value},[_.value?(r(),m("span",qn)):w("",!0),b(" "+t(e.translations.assign),1)],8,Mn)])],32)])])])]))}},Pn=Q(En,[["__scopeId","data-v-7a4969ca"]]),zn={class:"card mb-4"},Rn={class:"card-body"},Tn={class:"row"},Ln={class:"col-md-3"},Nn=["placeholder"],Bn={class:"col-md-2"},Gn={value:""},Wn={value:"created"},Jn={value:"received"},Qn={value:"executing"},Yn={value:"partial_payment"},Hn={value:"full_payment"},Kn={value:"completed"},Xn={value:"cancelled"},Zn={class:"col-md-2"},sa={value:""},ta=["value"],ea={class:"col-md-2"},oa=["placeholder"],na={class:"col-md-2"},aa={type:"submit",class:"btn btn-primary w-100"},la={key:0,class:"row"},ia={class:"card h-100 order-card"},ra={class:"card-header d-flex justify-content-between align-items-center"},da={class:"mb-0"},ca={class:"text-muted"},ua={class:"card-body"},ma={class:"mb-3"},va={class:"text-primary"},ba={class:"text-muted"},_a={class:"mb-3"},pa={class:"d-flex align-items-center mb-1"},ha={class:"d-flex align-items-center mb-1"},ya={class:"d-flex align-items-center"},fa={class:"mb-3"},$a={class:"d-flex align-items-center mb-1"},ga={class:"text-muted"},xa={class:"d-flex align-items-center"},wa={class:"text-muted"},ka={class:"mb-3"},Ca={class:"pricing-breakdown"},Sa={class:"d-flex justify-content-between mb-1"},Va={key:0,class:"d-flex justify-content-between mb-1"},Ua={class:"text-success"},Fa={class:"text-success"},Da={key:1,class:"d-flex justify-content-between mb-1"},ja={class:"text-danger"},Ia={class:"text-danger"},Aa={class:"d-flex justify-content-between mb-1"},Oa={class:"text-primary"},Ma={class:"d-flex justify-content-between mb-1"},qa={class:"text-info"},Ea={class:"d-flex justify-content-between"},Pa={class:"text-warning"},za={key:0,class:"mb-3"},Ra={class:"d-flex align-items-center"},Ta={class:"text-muted"},La={class:"card-footer"},Na={class:"btn-group w-100",role:"group"},Ba=["onClick"],Ga=["onClick"],Wa=["onClick"],Ja=["href"],Qa=["onClick"],Ya={key:1,class:"text-center py-5"},Ha={class:"text-muted mt-3"},Ka={class:"text-muted"},Xa={key:2,class:"d-flex justify-content-center mt-4"},Za={__name:"OrdersList",props:{orders:Object,employees:Array,translations:Object},emits:["refresh"],setup(e,{emit:M}){const c=e,U=M,_=j(!1),a=j(!1),u=j(!1),d=j(null),v=H({search:"",status:"",assigned_employee_id:"",event_date:""}),x=()=>{R.get(route("decorations.dashboard"),{tab:"orders",...v},{preserveState:!0,replace:!0})},C=()=>{v.search="",v.status="",v.assigned_employee_id="",v.event_date="",x()},k=F=>new Date(F).toLocaleDateString("ar-EG"),I=(F,i)=>F&&F.length>i?F.substring(0,i)+"...":F,E=F=>({created:"secondary",received:"info",executing:"primary",partial_payment:"warning",full_payment:"success",completed:"success",cancelled:"danger"})[F]||"secondary",P=F=>({created:c.translations.created,received:c.translations.received,executing:c.translations.executing,partial_payment:c.translations.partial_payment,full_payment:c.translations.full_payment,completed:c.translations.completed,cancelled:c.translations.cancelled})[F]||F,A=F=>F.currency==="dollar"?c.translations.dollar:c.translations.dinar,n=F=>{R.get(route("decoration.orders.show",F.id))},l=F=>{d.value=F,_.value=!0},f=F=>{d.value=F,a.value=!0},z=F=>{d.value=F,u.value=!0},S=()=>{_.value=!1,U("refresh")},h=()=>{a.value=!1,U("refresh")},T=()=>{u.value=!1,U("refresh")};return(F,i)=>(r(),m("div",null,[s("div",zn,[s("div",Rn,[s("form",{onSubmit:q(x,["prevent"])},[s("div",Tn,[s("div",Ln,[$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=y=>v.search=y),placeholder:e.translations.search+" ("+e.translations.customer_name+", "+e.translations.phone+")"},null,8,Nn),[[V,v.search]])]),s("div",Bn,[$(s("select",{class:"form-select","onUpdate:modelValue":i[1]||(i[1]=y=>v.status=y)},[s("option",Gn,t(e.translations.all_status),1),s("option",Wn,t(e.translations.created),1),s("option",Jn,t(e.translations.received),1),s("option",Qn,t(e.translations.executing),1),s("option",Yn,t(e.translations.partial_payment),1),s("option",Hn,t(e.translations.full_payment),1),s("option",Kn,t(e.translations.completed),1),s("option",Xn,t(e.translations.cancelled),1)],512),[[L,v.status]])]),s("div",Zn,[$(s("select",{class:"form-select","onUpdate:modelValue":i[2]||(i[2]=y=>v.assigned_employee_id=y)},[s("option",sa,t(e.translations.all_employees),1),(r(!0),m(B,null,G(e.employees,y=>(r(),m("option",{key:y.id,value:y.id},t(y.name),9,ta))),128))],512),[[L,v.assigned_employee_id]])]),s("div",ea,[$(s("input",{type:"date",class:"form-control","onUpdate:modelValue":i[3]||(i[3]=y=>v.event_date=y),placeholder:e.translations.event_date},null,8,oa),[[V,v.event_date]])]),s("div",na,[s("button",aa,[i[7]||(i[7]=s("i",{class:"bi bi-search"},null,-1)),b(" "+t(e.translations.search),1)])]),s("div",{class:"col-md-1"},[s("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:C},i[8]||(i[8]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1)]))])])],32)])]),e.orders.data.length>0?(r(),m("div",la,[(r(!0),m(B,null,G(e.orders.data,y=>{var Z,N;return r(),m("div",{class:"col-xl-4 col-lg-6 col-md-12 mb-4",key:y.id},[s("div",ia,[s("div",ra,[s("div",null,[s("h6",da,t(e.translations.order)+" #"+t(y.id),1),s("small",ca,t(k(y.created_at)),1)]),s("span",{class:D(["badge",`bg-${E(y.status)}`])},t(P(y.status)),3)]),s("div",ua,[s("div",ma,[s("h6",va,t((Z=y.decoration)==null?void 0:Z.name),1),s("small",ba,t((N=y.decoration)==null?void 0:N.type_name),1)]),s("div",_a,[s("div",pa,[i[9]||(i[9]=s("i",{class:"bi bi-person me-2"},null,-1)),s("strong",null,t(y.customer_name),1)]),s("div",ha,[i[10]||(i[10]=s("i",{class:"bi bi-telephone me-2"},null,-1)),s("span",null,t(y.customer_phone),1)]),s("div",ya,[i[11]||(i[11]=s("i",{class:"bi bi-calendar-event me-2"},null,-1)),s("span",null,t(k(y.event_date))+" "+t(y.event_time),1)])]),s("div",fa,[s("div",$a,[i[12]||(i[12]=s("i",{class:"bi bi-geo-alt me-2"},null,-1)),s("small",ga,t(I(y.event_address,30)),1)]),s("div",xa,[i[13]||(i[13]=s("i",{class:"bi bi-people me-2"},null,-1)),s("small",wa,t(y.guest_count)+" "+t(e.translations.guests),1)])]),s("div",ka,[s("div",Ca,[s("div",Sa,[s("small",null,t(e.translations.base_price)+":",1),s("small",null,t(y.base_price)+" "+t(A(y)),1)]),y.additional_cost>0?(r(),m("div",Va,[s("small",Ua,t(e.translations.additional_cost)+":",1),s("small",Fa,"+"+t(y.additional_cost)+" "+t(A(y)),1)])):w("",!0),y.discount>0?(r(),m("div",Da,[s("small",ja,t(e.translations.discount)+":",1),s("small",Ia,"-"+t(y.discount)+" "+t(A(y)),1)])):w("",!0),i[14]||(i[14]=s("hr",{class:"my-1"},null,-1)),s("div",Aa,[s("strong",null,t(e.translations.total_price)+":",1),s("strong",Oa,t(y.total_price)+" "+t(A(y)),1)]),s("div",Ma,[s("span",null,t(e.translations.paid_amount)+":",1),s("span",qa,t(y.paid_amount||0)+" "+t(A(y)),1)]),s("div",Ea,[s("span",null,t(e.translations.remaining_amount)+":",1),s("span",Pa,t((y.total_price-(y.paid_amount||0)).toFixed(2))+" "+t(A(y)),1)])])]),y.assigned_employee?(r(),m("div",za,[s("div",Ra,[i[15]||(i[15]=s("i",{class:"bi bi-person-badge me-2"},null,-1)),s("small",Ta,t(e.translations.assigned_employee)+": "+t(y.assigned_employee.name),1)])])):w("",!0)]),s("div",La,[s("div",Na,[s("button",{onClick:W=>n(y),class:"btn btn-outline-primary btn-sm"},[i[16]||(i[16]=s("i",{class:"bi bi-eye"},null,-1)),b(" "+t(e.translations.view),1)],8,Ba),s("button",{onClick:W=>l(y),class:"btn btn-outline-secondary btn-sm"},[i[17]||(i[17]=s("i",{class:"bi bi-pencil"},null,-1)),b(" "+t(e.translations.update_status),1)],8,Ga),s("button",{onClick:W=>z(y),class:"btn btn-outline-warning btn-sm"},[i[18]||(i[18]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.edit_pricing),1)],8,Wa),s("a",{href:F.route("decoration.orders.print",y.id),target:"_blank",class:"btn btn-outline-info btn-sm"},[i[19]||(i[19]=s("i",{class:"bi bi-printer"},null,-1)),b(" "+t(e.translations.print_invoice),1)],8,Ja),s("button",{onClick:W=>f(y),class:"btn btn-outline-success btn-sm"},[i[20]||(i[20]=s("i",{class:"bi bi-person-plus"},null,-1)),b(" "+t(e.translations.assign),1)],8,Qa)])])])])}),128))])):(r(),m("div",Ya,[i[21]||(i[21]=s("i",{class:"bi bi-calendar-x text-muted",style:{"font-size":"4rem"}},null,-1)),s("h4",Ha,t(e.translations.no_orders),1),s("p",Ka,t(e.translations.no_orders_description),1)])),e.orders.data.length>0?(r(),m("div",Xa,[K(ls,{links:e.orders.links},null,8,["links"])])):w("",!0),_.value?(r(),X(xs,{key:3,order:d.value,employees:e.employees,translations:e.translations,onClose:i[4]||(i[4]=y=>_.value=!1),onSuccess:S},null,8,["order","employees","translations"])):w("",!0),a.value?(r(),X(Pn,{key:4,order:d.value,employees:e.employees,translations:e.translations,onClose:i[5]||(i[5]=y=>a.value=!1),onSuccess:h},null,8,["order","employees","translations"])):w("",!0),u.value?(r(),X(ws,{key:5,order:d.value,translations:e.translations,onClose:i[6]||(i[6]=y=>u.value=!1),onSuccess:T},null,8,["order","translations"])):w("",!0)]))}},sl=Q(Za,[["__scopeId","data-v-38cd3c8f"]]),tl={class:"row mb-4"},el={class:"col-xl-3 col-md-6 mb-4"},ol={class:"card border-left-primary shadow h-100 py-2"},nl={class:"card-body"},al={class:"row no-gutters align-items-center"},ll={class:"col mr-2"},il={class:"text-xs font-weight-bold text-primary text-uppercase mb-1"},rl={class:"h5 mb-0 font-weight-bold text-gray-800"},dl={class:"col-xl-3 col-md-6 mb-4"},cl={class:"card border-left-success shadow h-100 py-2"},ul={class:"card-body"},ml={class:"row no-gutters align-items-center"},vl={class:"col mr-2"},bl={class:"text-xs font-weight-bold text-success text-uppercase mb-1"},_l={class:"h5 mb-0 font-weight-bold text-gray-800"},pl={class:"col-xl-3 col-md-6 mb-4"},hl={class:"card border-left-info shadow h-100 py-2"},yl={class:"card-body"},fl={class:"row no-gutters align-items-center"},$l={class:"col mr-2"},gl={class:"text-xs font-weight-bold text-info text-uppercase mb-1"},xl={class:"h5 mb-0 font-weight-bold text-gray-800"},wl={class:"col-xl-3 col-md-6 mb-4"},kl={class:"card border-left-warning shadow h-100 py-2"},Cl={class:"card-body"},Sl={class:"row no-gutters align-items-center"},Vl={class:"col mr-2"},Ul={class:"text-xs font-weight-bold text-warning text-uppercase mb-1"},Fl={class:"h5 mb-0 font-weight-bold text-gray-800"},Dl={class:"row"},jl={class:"col-xl-6 col-lg-7"},Il={class:"card shadow mb-4"},Al={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},Ol={class:"m-0 font-weight-bold text-primary"},Ml={class:"card-body"},ql={class:"mt-4 text-center small"},El={class:"mr-2"},Pl={class:"mr-2"},zl={class:"mr-2"},Rl={class:"col-xl-6 col-lg-5"},Tl={class:"card shadow mb-4"},Ll={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},Nl={class:"m-0 font-weight-bold text-primary"},Bl={class:"card-body"},Gl={class:"d-flex align-items-center justify-content-between mb-3"},Wl={class:"d-flex align-items-center"},Jl={class:"ms-3"},Ql={class:"small text-gray-500"},Yl={class:"font-weight-bold"},Hl={class:"d-flex align-items-center justify-content-between mb-3"},Kl={class:"d-flex align-items-center"},Xl={class:"ms-3"},Zl={class:"small text-gray-500"},si={class:"font-weight-bold"},ti={class:"d-flex align-items-center justify-content-between"},ei={class:"d-flex align-items-center"},oi={class:"ms-3"},ni={class:"small text-gray-500"},ai={class:"font-weight-bold"},li={__name:"AnalyticsDashboard",props:{analytics:Object,translations:Object},setup(e){const M=e,c=U=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(U||0);return ss(()=>{console.log("Analytics loaded:",M.analytics)}),(U,_)=>(r(),m("div",null,[s("div",tl,[s("div",el,[s("div",ol,[s("div",nl,[s("div",al,[s("div",ll,[s("div",il,t(e.translations.decorations),1),s("div",rl,t(e.analytics.total_decorations),1)]),_[0]||(_[0]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-palette fa-2x text-gray-300"})],-1))])])])]),s("div",dl,[s("div",cl,[s("div",ul,[s("div",ml,[s("div",vl,[s("div",bl,t(e.translations.total_orders),1),s("div",_l,t(e.analytics.total_orders),1)]),_[1]||(_[1]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-calendar-check fa-2x text-gray-300"})],-1))])])])]),s("div",pl,[s("div",hl,[s("div",yl,[s("div",fl,[s("div",$l,[s("div",gl,t(e.translations.total_revenue),1),s("div",xl,t(c(e.analytics.total_revenue)),1)]),_[2]||(_[2]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-currency-dollar fa-2x text-gray-300"})],-1))])])])]),s("div",wl,[s("div",kl,[s("div",Cl,[s("div",Sl,[s("div",Vl,[s("div",Ul,t(e.translations.monthly_orders),1),s("div",Fl,t(e.analytics.monthly_orders),1)]),_[3]||(_[3]=s("div",{class:"col-auto"},[s("i",{class:"bi bi-graph-up fa-2x text-gray-300"})],-1))])])])])]),s("div",Dl,[s("div",jl,[s("div",Il,[s("div",Al,[s("h6",Ol,t(e.translations.orders_by_status),1)]),s("div",Ml,[_[7]||(_[7]=s("div",{class:"chart-pie pt-4 pb-2"},[s("canvas",{id:"ordersStatusChart"})],-1)),s("div",ql,[s("span",El,[_[4]||(_[4]=s("i",{class:"fas fa-circle text-primary"},null,-1)),b(" "+t(e.translations.created),1)]),s("span",Pl,[_[5]||(_[5]=s("i",{class:"fas fa-circle text-success"},null,-1)),b(" "+t(e.translations.completed),1)]),s("span",zl,[_[6]||(_[6]=s("i",{class:"fas fa-circle text-info"},null,-1)),b(" "+t(e.translations.executing),1)])])])])]),s("div",Rl,[s("div",Tl,[s("div",Ll,[s("h6",Nl,t(e.translations.recent_activity),1)]),s("div",Bl,[s("div",Gl,[s("div",Wl,[_[8]||(_[8]=s("div",{class:"icon-circle bg-primary"},[s("i",{class:"bi bi-plus-circle text-white"})],-1)),s("div",Jl,[s("div",Ql,t(e.translations.pending_orders),1),s("div",Yl,t(e.analytics.pending_orders),1)])])]),s("div",Hl,[s("div",Kl,[_[9]||(_[9]=s("div",{class:"icon-circle bg-success"},[s("i",{class:"bi bi-check-circle text-white"})],-1)),s("div",Xl,[s("div",Zl,t(e.translations.completed_orders),1),s("div",si,t(e.analytics.completed_orders),1)])])]),s("div",ti,[s("div",ei,[_[10]||(_[10]=s("div",{class:"icon-circle bg-info"},[s("i",{class:"bi bi-palette text-white"})],-1)),s("div",oi,[s("div",ni,t(e.translations.active)+" "+t(e.translations.decorations),1),s("div",ai,t(e.analytics.active_decorations),1)])])])])])])])]))}},ii=Q(li,[["__scopeId","data-v-c6c49c2a"]]),ri={class:"decoration-form-container"},di={class:"modal-header"},ci={class:"modal-title"},ui={class:"modal-body decoration-modal-body"},mi={class:"progress-indicator mb-4"},vi={class:"progress-steps"},bi={class:"step-label"},_i={class:"step-label"},pi={class:"step-label"},hi={class:"step-label"},yi={class:"form-step"},fi={class:"step-header"},$i={class:"step-title"},gi={class:"step-description"},xi={class:"row"},wi={class:"col-md-6"},ki={class:"form-group"},Ci={class:"form-label required"},Si=["placeholder"],Vi={key:0,class:"form-feedback"},Ui={class:"form-group"},Fi={class:"form-label"},Di=["placeholder"],ji={key:0,class:"form-feedback"},Ii={class:"col-md-6"},Ai={class:"form-group"},Oi={class:"form-label required"},Mi={value:""},qi=["value"],Ei={key:0,class:"form-feedback"},Pi={class:"form-group"},zi={class:"form-label"},Ri={class:"form-check form-switch"},Ti={class:"form-check-label",for:"is_active"},Li={class:"form-step"},Ni={class:"step-header"},Bi={class:"step-title"},Gi={class:"step-description"},Wi={class:"row"},Ji={class:"col-md-6"},Qi={class:"form-group"},Yi={class:"form-label required"},Hi={value:"dinar"},Ki={value:"dollar"},Xi={key:0,class:"form-feedback"},Zi={class:"form-group"},sr={class:"form-label required"},tr=["placeholder"],er={key:0,class:"form-feedback"},or={class:"col-md-6"},nr={class:"form-group"},ar={class:"form-label required"},lr=["placeholder"],ir={key:0,class:"form-feedback"},rr={class:"price-display"},dr={class:"price-card"},cr={class:"price-header"},ur={class:"price-value"},mr={class:"row"},vr={class:"col-md-6"},br={class:"form-group"},_r={class:"form-label required"},pr={class:"input-group"},hr=["placeholder"],yr={class:"input-group-text"},fr={key:0,class:"form-feedback"},$r={class:"col-md-6"},gr={class:"currency-converter"},xr={class:"form-label"},wr={class:"converter-display"},kr={class:"converted-item"},Cr={class:"currency-label"},Sr={class:"currency-value"},Vr={class:"converted-item"},Ur={class:"currency-label"},Fr={class:"currency-value"},Dr={class:"form-step"},jr={class:"step-header"},Ir={class:"step-title"},Ar={class:"step-description"},Or={class:"row"},Mr={class:"col-md-4"},qr={class:"form-group"},Er={class:"form-label"},Pr={class:"input-group"},zr=["placeholder"],Rr={class:"input-group-text"},Tr={class:"col-md-4"},Lr={class:"form-group"},Nr={class:"form-label"},Br={class:"input-group"},Gr=["placeholder"],Wr={class:"input-group-text"},Jr={class:"col-md-4"},Qr={class:"form-group"},Yr={class:"form-label"},Hr={class:"input-group"},Kr=["placeholder"],Xr={class:"input-group-text"},Zr={class:"cost-summary"},sd={class:"summary-title"},td={class:"summary-items"},ed={class:"summary-item"},od={class:"summary-item"},nd={class:"summary-item"},ad={class:"summary-item total"},ld={class:"form-step"},id={class:"step-header"},rd={class:"step-title"},dd={class:"step-description"},cd={class:"row"},ud={class:"col-md-6"},md={class:"form-group"},vd={class:"form-label"},bd={key:0,class:"upload-placeholder"},_d={key:1,class:"image-preview-container"},pd=["src"],hd={class:"col-md-6"},yd={class:"form-group"},fd={class:"form-label"},$d={key:0,class:"upload-placeholder"},gd={key:1,class:"images-grid"},xd=["src"],wd=["onClick"],kd={class:"row"},Cd={class:"col-12"},Sd={class:"form-group"},Vd={class:"form-label"},Ud={class:"video-upload-section"},Fd={class:"row"},Dd={class:"col-md-6"},jd={key:0,class:"upload-placeholder"},Id={key:1,class:"video-preview-container"},Ad=["src"],Od={class:"col-md-6"},Md={class:"form-group"},qd={class:"form-label"},Ed=["placeholder"],Pd={class:"form-text text-muted"},zd={class:"media-summary"},Rd={class:"summary-title"},Td={class:"summary-items"},Ld={class:"summary-item"},Nd={class:"summary-item"},Bd={class:"summary-item"},Gd={class:"modal-footer"},Wd=["disabled"],Jd=["disabled"],Qd={key:0,class:"spinner-border spinner-border-sm me-2"},Yd={__name:"CreateDecorationForm",props:{translations:Object,exchangeRate:{type:Number,default:1500},decorationTypes:{type:Array,default:()=>[]}},emits:["success","cancel"],setup(e,{emit:M}){const c=e,U=M,_=j(!1),a=j(1),u=j({}),d=j(null),v=j(null),x=j(null),C=j(null),k=j([]),I=j(null),E=j(null),P=j([]),A=j(null),n=H({name:"",description:"",type:"",currency:"dinar",base_price:"",base_price_dinar:"",base_price_dollar:"",duration_hours:"",team_size:"",is_active:!0,materials_cost:0,labor_cost:0,transportation_cost:0,video_url:""}),l=as(()=>a.value===1?n.name&&n.type:a.value===2?n.base_price&&n.duration_hours&&n.team_size:!0),f=()=>{a.value<4&&a.value++},z=()=>{a.value>1&&a.value--},S=g=>{u.value[g]&&delete u.value[g]},h=()=>{n.base_price&&T()},T=()=>{const g=parseFloat(n.base_price)||0;n.currency==="dinar"?(n.base_price_dinar=g,n.base_price_dollar=(g/c.exchangeRate).toFixed(2)):(n.base_price_dollar=g,n.base_price_dinar=(g*c.exchangeRate).toFixed(0))},F=()=>n.currency==="dinar"?c.translations.enter_price_dinar:c.translations.enter_price_dollar,i=()=>`${n.base_price||0} ${N()}`,y=()=>`${n.base_price_dinar||0} ${c.translations.dinar}`,Z=()=>`${n.base_price_dollar||0} ${c.translations.dollar}`,N=()=>n.currency==="dinar"?c.translations.dinar:c.translations.dollar,W=g=>`${(parseFloat(g)||0).toLocaleString()} ${N()}`,is=()=>{const g=parseFloat(n.materials_cost)||0,o=parseFloat(n.labor_cost)||0,p=parseFloat(n.transportation_cost)||0;return g+o+p},rs=()=>{var g;(g=d.value)==null||g.click()},ds=()=>{var g;(g=v.value)==null||g.click()},cs=()=>{var g;(g=x.value)==null||g.click()},us=g=>{const o=g.target.files[0];if(o){E.value=o;const p=new FileReader;p.onload=O=>{C.value=O.target.result},p.readAsDataURL(o)}},ms=g=>{const o=g.dataTransfer.files;if(o.length>0){const p=o[0];if(p.type.startsWith("image/")){E.value=p;const O=new FileReader;O.onload=J=>{C.value=J.target.result},O.readAsDataURL(p)}}},vs=()=>{C.value=null,E.value=null,d.value&&(d.value.value="")},bs=g=>{Array.from(g.target.files).forEach(p=>{if(p.type.startsWith("image/")&&k.value.length<10){P.value.push(p);const O=new FileReader;O.onload=J=>{k.value.push(J.target.result)},O.readAsDataURL(p)}})},_s=g=>{Array.from(g.dataTransfer.files).forEach(p=>{if(p.type.startsWith("image/")&&k.value.length<10){P.value.push(p);const O=new FileReader;O.onload=J=>{k.value.push(J.target.result)},O.readAsDataURL(p)}})},ps=g=>{k.value.splice(g,1),P.value.splice(g,1)},hs=g=>{const o=g.target.files[0];if(o){A.value=o;const p=new FileReader;p.onload=O=>{I.value=O.target.result},p.readAsDataURL(o)}},ys=g=>{const o=g.dataTransfer.files;if(o.length>0){const p=o[0];if(p.type.startsWith("video/")){A.value=p;const O=new FileReader;O.onload=J=>{I.value=J.target.result},O.readAsDataURL(p)}}},fs=()=>{I.value=null,A.value=null,x.value&&(x.value.value="")},ts=()=>{_.value=!0,n.base_price&&(!n.base_price_dinar||!n.base_price_dollar)&&T();const g=new FormData;Object.keys(n).forEach(o=>{o!=="video_url"&&n[o]!==null&&n[o]!==void 0&&(typeof n[o]=="boolean"?g.append(o,n[o]?"1":"0"):o!=="base_price_dinar"&&o!=="base_price_dollar"&&g.append(o,n[o]))}),E.value&&g.append("main_image",E.value),P.value.forEach((o,p)=>{g.append(`images[${p}]`,o)}),A.value?g.append("video",A.value):n.video_url&&g.append("video_url",n.video_url),g.append("base_price",parseFloat(n.base_price)||0),g.append("materials_cost",parseFloat(n.materials_cost)||0),g.append("labor_cost",parseFloat(n.labor_cost)||0),g.append("transportation_cost",parseFloat(n.transportation_cost)||0),R.post(route("decorations.store"),g,{onSuccess:()=>{_.value=!1,U("success")},onError:o=>{_.value=!1,console.error("Validation errors:",o),o&&Object.keys(o).forEach(p=>{console.error(`${p}: ${o[p]}`)})}})};return(g,o)=>(r(),m("div",ri,[s("div",di,[s("h4",ci,[o[21]||(o[21]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(e.translations.add_decoration),1)])]),s("div",ui,[s("div",mi,[s("div",vi,[s("div",{class:D(["step",{active:a.value>=1,completed:a.value>1}])},[o[22]||(o[22]=s("div",{class:"step-number"},"1",-1)),s("div",bi,t(e.translations.basic_information),1)],2),s("div",{class:D(["step",{active:a.value>=2,completed:a.value>2}])},[o[23]||(o[23]=s("div",{class:"step-number"},"2",-1)),s("div",_i,t(e.translations.pricing_details),1)],2),s("div",{class:D(["step",{active:a.value>=3,completed:a.value>3}])},[o[24]||(o[24]=s("div",{class:"step-number"},"3",-1)),s("div",pi,t(e.translations.additional_details),1)],2),s("div",{class:D(["step",{active:a.value>=4,completed:a.value>4}])},[o[25]||(o[25]=s("div",{class:"step-number"},"4",-1)),s("div",hi,t(e.translations.media_upload),1)],2)])]),s("form",{onSubmit:q(ts,["prevent"]),class:"decoration-form"},[$(s("div",yi,[s("div",fi,[s("h5",$i,[o[26]||(o[26]=s("i",{class:"bi bi-info-circle text-primary"},null,-1)),b(" "+t(e.translations.basic_information),1)]),s("p",gi,t(e.translations.fill_basic_info),1)]),s("div",xi,[s("div",wi,[s("div",ki,[s("label",Ci,[o[27]||(o[27]=s("i",{class:"bi bi-tag"},null,-1)),b(" "+t(e.translations.decoration_name),1)]),$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=p=>n.name=p),placeholder:e.translations.enter_decoration_name,required:"",onInput:o[1]||(o[1]=p=>S("name"))},null,40,Si),[[V,n.name]]),u.value.name?(r(),m("div",Vi,t(u.value.name),1)):w("",!0)]),s("div",Ui,[s("label",Fi,[o[28]||(o[28]=s("i",{class:"bi bi-file-text"},null,-1)),b(" "+t(e.translations.decoration_description),1)]),$(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[2]||(o[2]=p=>n.description=p),placeholder:e.translations.enter_description,onInput:o[3]||(o[3]=p=>S("description"))},null,40,Di),[[V,n.description]]),u.value.description?(r(),m("div",ji,t(u.value.description),1)):w("",!0)])]),s("div",Ii,[s("div",Ai,[s("label",Oi,[o[29]||(o[29]=s("i",{class:"bi bi-grid"},null,-1)),b(" "+t(e.translations.decoration_type),1)]),$(s("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=p=>n.type=p),required:"",onChange:o[5]||(o[5]=p=>S("type"))},[s("option",Mi,t(e.translations.select_type),1),(r(!0),m(B,null,G(e.decorationTypes,p=>(r(),m("option",{key:p.value,value:p.value},t(p.label_ar),9,qi))),128))],544),[[L,n.type]]),u.value.type?(r(),m("div",Ei,t(u.value.type),1)):w("",!0)]),s("div",Pi,[s("label",zi,[o[30]||(o[30]=s("i",{class:"bi bi-toggle-on"},null,-1)),b(" "+t(e.translations.status),1)]),s("div",Ri,[$(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=p=>n.is_active=p),id:"is_active"},null,512),[[ns,n.is_active]]),s("label",Ti,t(n.is_active?e.translations.active:e.translations.inactive),1)])])])])],512),[[Y,a.value===1]]),$(s("div",Li,[s("div",Ni,[s("h5",Bi,[o[31]||(o[31]=s("i",{class:"bi bi-currency-dollar text-success"},null,-1)),b(" "+t(e.translations.pricing_details),1)]),s("p",Gi,t(e.translations.set_pricing_info),1)]),s("div",Wi,[s("div",Ji,[s("div",Qi,[s("label",Yi,[o[32]||(o[32]=s("i",{class:"bi bi-globe"},null,-1)),b(" "+t(e.translations.currency),1)]),$(s("select",{class:"form-select","onUpdate:modelValue":o[7]||(o[7]=p=>n.currency=p),required:"",onChange:h},[s("option",Hi,t(e.translations.dinar),1),s("option",Ki,t(e.translations.dollar),1)],544),[[L,n.currency]]),u.value.currency?(r(),m("div",Xi,t(u.value.currency),1)):w("",!0)]),s("div",Zi,[s("label",sr,[o[33]||(o[33]=s("i",{class:"bi bi-clock"},null,-1)),b(" "+t(e.translations.duration_hours),1)]),$(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=p=>n.duration_hours=p),placeholder:e.translations.enter_duration,min:"1",max:"24",required:"",onInput:o[9]||(o[9]=p=>S("duration_hours"))},null,40,tr),[[V,n.duration_hours]]),u.value.duration_hours?(r(),m("div",er,t(u.value.duration_hours),1)):w("",!0)])]),s("div",or,[s("div",nr,[s("label",ar,[o[34]||(o[34]=s("i",{class:"bi bi-people"},null,-1)),b(" "+t(e.translations.team_size),1)]),$(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=p=>n.team_size=p),placeholder:e.translations.enter_team_size,min:"1",max:"20",required:"",onInput:o[11]||(o[11]=p=>S("team_size"))},null,40,lr),[[V,n.team_size]]),u.value.team_size?(r(),m("div",ir,t(u.value.team_size),1)):w("",!0)]),s("div",rr,[s("div",dr,[s("div",cr,[o[35]||(o[35]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.current_price),1)]),s("div",ur,t(i()),1)])])])]),s("div",mr,[s("div",vr,[s("div",br,[s("label",_r,[o[36]||(o[36]=s("i",{class:"bi bi-currency-exchange"},null,-1)),b(" "+t(e.translations.base_price),1)]),s("div",pr,[$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=p=>n.base_price=p),placeholder:F(),min:"0",required:"",onInput:T},null,40,hr),[[V,n.base_price]]),s("span",yr,t(N()),1)]),u.value.base_price?(r(),m("div",fr,t(u.value.base_price),1)):w("",!0)])]),s("div",$r,[s("div",gr,[s("label",xr,[o[37]||(o[37]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.converted_price),1)]),s("div",wr,[s("div",kr,[s("span",Cr,t(e.translations.dinar)+":",1),s("span",Sr,t(y()),1)]),s("div",Vr,[s("span",Ur,t(e.translations.dollar)+":",1),s("span",Fr,t(Z()),1)])])])])])],512),[[Y,a.value===2]]),$(s("div",Dr,[s("div",jr,[s("h5",Ir,[o[38]||(o[38]=s("i",{class:"bi bi-gear text-info"},null,-1)),b(" "+t(e.translations.additional_details),1)]),s("p",Ar,t(e.translations.set_additional_costs),1)]),s("div",Or,[s("div",Mr,[s("div",qr,[s("label",Er,[o[39]||(o[39]=s("i",{class:"bi bi-box"},null,-1)),b(" "+t(e.translations.materials_cost),1)]),s("div",Pr,[$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=p=>n.materials_cost=p),placeholder:e.translations.enter_materials_cost,min:"0"},null,8,zr),[[V,n.materials_cost]]),s("span",Rr,t(N()),1)])])]),s("div",Tr,[s("div",Lr,[s("label",Nr,[o[40]||(o[40]=s("i",{class:"bi bi-person-workspace"},null,-1)),b(" "+t(e.translations.labor_cost),1)]),s("div",Br,[$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=p=>n.labor_cost=p),placeholder:e.translations.enter_labor_cost,min:"0"},null,8,Gr),[[V,n.labor_cost]]),s("span",Wr,t(N()),1)])])]),s("div",Jr,[s("div",Qr,[s("label",Yr,[o[41]||(o[41]=s("i",{class:"bi bi-truck"},null,-1)),b(" "+t(e.translations.transportation_cost),1)]),s("div",Hr,[$(s("input",{type:"number",step:"0.01",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=p=>n.transportation_cost=p),placeholder:e.translations.enter_transportation_cost,min:"0"},null,8,Kr),[[V,n.transportation_cost]]),s("span",Xr,t(N()),1)])])])]),s("div",Zr,[s("h6",sd,[o[42]||(o[42]=s("i",{class:"bi bi-calculator"},null,-1)),b(" "+t(e.translations.cost_summary),1)]),s("div",td,[s("div",ed,[s("span",null,t(e.translations.materials_cost)+":",1),s("span",null,t(W(n.materials_cost)),1)]),s("div",od,[s("span",null,t(e.translations.labor_cost)+":",1),s("span",null,t(W(n.labor_cost)),1)]),s("div",nd,[s("span",null,t(e.translations.transportation_cost)+":",1),s("span",null,t(W(n.transportation_cost)),1)]),s("div",ad,[s("span",null,t(e.translations.total_cost)+":",1),s("span",null,t(W(is())),1)])])])],512),[[Y,a.value===3]]),$(s("div",ld,[s("div",id,[s("h5",rd,[o[43]||(o[43]=s("i",{class:"bi bi-camera text-warning"},null,-1)),b(" "+t(e.translations.media_upload),1)]),s("p",dd,t(e.translations.upload_images_videos),1)]),s("div",cd,[s("div",ud,[s("div",md,[s("label",vd,[o[44]||(o[44]=s("i",{class:"bi bi-image"},null,-1)),b(" "+t(e.translations.main_image),1)]),s("div",{class:"upload-area",onClick:rs,onDragover:o[16]||(o[16]=q(()=>{},["prevent"])),onDrop:q(ms,["prevent"])},[s("input",{ref_key:"mainImageInput",ref:d,type:"file",accept:"image/*",onChange:us,style:{display:"none"}},null,544),C.value?(r(),m("div",_d,[s("img",{src:C.value,alt:"Main Image Preview",class:"preview-image"},null,8,pd),s("button",{type:"button",onClick:q(vs,["stop"]),class:"remove-image-btn"},o[46]||(o[46]=[s("i",{class:"bi bi-x"},null,-1)]))])):(r(),m("div",bd,[o[45]||(o[45]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_image),1),s("small",null,t(e.translations.supported_formats),1)]))],32)])]),s("div",hd,[s("div",yd,[s("label",fd,[o[47]||(o[47]=s("i",{class:"bi bi-images"},null,-1)),b(" "+t(e.translations.additional_images),1)]),s("div",{class:"upload-area",onClick:ds,onDragover:o[17]||(o[17]=q(()=>{},["prevent"])),onDrop:q(_s,["prevent"])},[s("input",{ref_key:"additionalImagesInput",ref:v,type:"file",accept:"image/*",multiple:"",onChange:bs,style:{display:"none"}},null,544),k.value.length===0?(r(),m("div",$d,[o[48]||(o[48]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_multiple_images),1),s("small",null,t(e.translations.max_images_limit),1)])):(r(),m("div",gd,[(r(!0),m(B,null,G(k.value,(p,O)=>(r(),m("div",{key:O,class:"image-item"},[s("img",{src:p,alt:"Additional Image Preview",class:"preview-image"},null,8,xd),s("button",{type:"button",onClick:q(J=>ps(O),["stop"]),class:"remove-image-btn"},o[49]||(o[49]=[s("i",{class:"bi bi-x"},null,-1)]),8,wd)]))),128))]))],32)])])]),s("div",kd,[s("div",Cd,[s("div",Sd,[s("label",Vd,[o[50]||(o[50]=s("i",{class:"bi bi-play-circle"},null,-1)),b(" "+t(e.translations.video_upload),1)]),s("div",Ud,[s("div",Fd,[s("div",Dd,[s("div",{class:"upload-area",onClick:cs,onDragover:o[18]||(o[18]=q(()=>{},["prevent"])),onDrop:q(ys,["prevent"])},[s("input",{ref_key:"videoInput",ref:x,type:"file",accept:"video/*",onChange:hs,style:{display:"none"}},null,544),I.value?(r(),m("div",Id,[s("video",{src:I.value,controls:"",class:"preview-video"},null,8,Ad),s("button",{type:"button",onClick:q(fs,["stop"]),class:"remove-video-btn"},o[52]||(o[52]=[s("i",{class:"bi bi-x"},null,-1)]))])):(r(),m("div",jd,[o[51]||(o[51]=s("i",{class:"bi bi-cloud-upload"},null,-1)),s("p",null,t(e.translations.click_or_drag_video),1),s("small",null,t(e.translations.supported_video_formats),1)]))],32)]),s("div",Od,[s("div",Md,[s("label",qd,[o[53]||(o[53]=s("i",{class:"bi bi-link-45deg"},null,-1)),b(" "+t(e.translations.video_url_alternative),1)]),$(s("input",{type:"url",class:"form-control","onUpdate:modelValue":o[19]||(o[19]=p=>n.video_url=p),placeholder:e.translations.enter_video_url},null,8,Ed),[[V,n.video_url]]),s("small",Pd,t(e.translations.or_enter_video_url),1)])])])])])])]),s("div",zd,[s("h6",Rd,[o[54]||(o[54]=s("i",{class:"bi bi-collection"},null,-1)),b(" "+t(e.translations.media_summary),1)]),s("div",Td,[s("div",Ld,[s("span",null,t(e.translations.main_image)+":",1),s("span",null,t(C.value?e.translations.uploaded:e.translations.not_uploaded),1)]),s("div",Nd,[s("span",null,t(e.translations.additional_images)+":",1),s("span",null,t(k.value.length)+" "+t(e.translations.images),1)]),s("div",Bd,[s("span",null,t(e.translations.video)+":",1),s("span",null,t(I.value||n.video_url?e.translations.uploaded:e.translations.not_uploaded),1)])])])],512),[[Y,a.value===4]])],32)]),s("div",Gd,[s("button",{type:"button",class:"btn btn-outline-secondary",onClick:z,disabled:a.value===1},[o[55]||(o[55]=s("i",{class:"bi bi-arrow-left"},null,-1)),b(" "+t(e.translations.previous),1)],8,Wd),a.value<4?(r(),m("button",{key:0,type:"button",class:"btn btn-outline-primary",onClick:f},[b(t(e.translations.next)+" ",1),o[56]||(o[56]=s("i",{class:"bi bi-arrow-right"},null,-1))])):w("",!0),a.value===4?(r(),m("button",{key:1,type:"submit",class:"btn btn-success",disabled:_.value||!l.value,onClick:ts},[_.value?(r(),m("span",Qd)):w("",!0),o[57]||(o[57]=s("i",{class:"bi bi-check-circle"},null,-1)),b(" "+t(e.translations.save),1)],8,Jd)):w("",!0),s("button",{type:"button",class:"btn btn-outline-danger",onClick:o[20]||(o[20]=p=>g.$emit("cancel"))},[o[58]||(o[58]=s("i",{class:"bi bi-x-circle"},null,-1)),b(" "+t(e.translations.cancel),1)])])]))}},Hd=Q(Yd,[["__scopeId","data-v-d464bf3f"]]),Kd={class:"d-flex justify-content-between align-items-center"},Xd={class:"font-semibold text-xl text-gray-800 leading-tight"},Zd={class:"d-flex gap-2"},sc={class:"py-12"},tc={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ec={class:"card mb-4"},oc={class:"card-header"},nc={class:"nav nav-tabs card-header-tabs",role:"tablist"},ac={class:"nav-item",role:"presentation"},lc={class:"badge bg-primary ms-2"},ic={class:"nav-item",role:"presentation"},rc={class:"badge bg-success ms-2"},dc={class:"nav-item",role:"presentation"},cc={class:"tab-content"},uc={key:0,class:"modal-mask"},mc={class:"modal-wrapper"},vc={class:"modal-container"},bc={class:"modal-header"},_c={class:"modal-body"},pc={__name:"Dashboard",props:{decorations:Object,orders:Object,customers:Array,employees:Array,analytics:Object,translations:Object,exchangeRate:{type:Number,default:1500},decorationTypes:{type:Array,default:()=>[]},activeTabProp:{type:String,default:"decorations"}},setup(e){const M=$s(),c=e,U=j(c.activeTabProp),_=j(!1),a=as(()=>c.translations||{}),u=()=>{R.reload({only:["decorations","orders","analytics"]})},d=()=>{_.value=!1,u()},v=C=>M.props.auth_permissions&&M.props.auth_permissions.includes(C),x=C=>{U.value=C,R.get(route("decorations.dashboard"),{tab:C},{preserveState:!0,replace:!0})};return(C,k)=>(r(),X(gs,{translations:a.value},{header:es(()=>[s("div",Kd,[s("h2",Xd,t(a.value.decorations_dashboard),1),s("div",Zd,[v("create decoration")?(r(),m("button",{key:0,class:"btn btn-primary",onClick:k[0]||(k[0]=I=>_.value=!0)},[k[8]||(k[8]=s("i",{class:"bi bi-plus-circle"},null,-1)),b(" "+t(a.value.create_decoration),1)])):w("",!0),s("button",{class:"btn btn-success",onClick:k[1]||(k[1]=I=>x("orders"))},[k[9]||(k[9]=s("i",{class:"bi bi-calendar-check"},null,-1)),b(" "+t(a.value.decoration_orders),1)])])])]),default:es(()=>{var I,E,P,A;return[s("div",sc,[s("div",tc,[s("div",ec,[s("div",oc,[s("ul",nc,[s("li",ac,[s("button",{class:D(["nav-link",{active:U.value==="decorations"}]),onClick:k[2]||(k[2]=n=>x("decorations")),type:"button"},[k[10]||(k[10]=s("i",{class:"bi bi-palette"},null,-1)),b(" "+t(a.value.decorations)+" ",1),s("span",lc,t(((E=(I=e.decorations)==null?void 0:I.data)==null?void 0:E.length)||0),1)],2)]),s("li",ic,[s("button",{class:D(["nav-link",{active:U.value==="orders"}]),onClick:k[3]||(k[3]=n=>x("orders")),type:"button"},[k[11]||(k[11]=s("i",{class:"bi bi-calendar-check"},null,-1)),b(" "+t(a.value.decoration_orders)+" ",1),s("span",rc,t(((A=(P=e.orders)==null?void 0:P.data)==null?void 0:A.length)||0),1)],2)]),s("li",dc,[s("button",{class:D(["nav-link",{active:U.value==="analytics"}]),onClick:k[4]||(k[4]=n=>x("analytics")),type:"button"},[k[12]||(k[12]=s("i",{class:"bi bi-graph-up"},null,-1)),b(" "+t(a.value.statistics),1)],2)])])])]),s("div",cc,[$(s("div",{class:D(["tab-pane fade",{"show active":U.value==="decorations"}])},[K(yn,{decorations:e.decorations,customers:e.customers,translations:a.value,onCreateDecoration:k[5]||(k[5]=n=>_.value=!0),onRefresh:u},null,8,["decorations","customers","translations"])],2),[[Y,U.value==="decorations"]]),$(s("div",{class:D(["tab-pane fade",{"show active":U.value==="orders"}])},[K(sl,{orders:e.orders,employees:e.employees,translations:a.value,onRefresh:u},null,8,["orders","employees","translations"])],2),[[Y,U.value==="orders"]]),$(s("div",{class:D(["tab-pane fade",{"show active":U.value==="analytics"}])},[K(ii,{analytics:e.analytics,translations:a.value},null,8,["analytics","translations"])],2),[[Y,U.value==="analytics"]])])])]),_.value?(r(),m("div",uc,[s("div",mc,[s("div",vc,[s("div",bc,[s("h3",null,t(a.value.create_decoration),1),s("button",{onClick:k[6]||(k[6]=n=>_.value=!1),class:"btn-close"})]),s("div",_c,[K(Hd,{translations:a.value,exchangeRate:e.exchangeRate,decorationTypes:e.decorationTypes,onSuccess:d,onCancel:k[7]||(k[7]=n=>_.value=!1)},null,8,["translations","exchangeRate","decorationTypes"])])])])])):w("",!0)]}),_:1},8,["translations"]))}},wc=Q(pc,[["__scopeId","data-v-8569992b"]]);export{wc as default};
