import{s as E,r as $,a as u,c as M,w,e as c,b as e,q as V,l as g,y,u as D,f as b,D as R,E as k,n as H,z as Z,G as le,t as p,H as ie,C as re,i as x,F as B,g as U,Q as de,x as ue,d as _,j as me,I as C,h as F}from"./app-AYyl8aPx.js";import{_ as ce}from"./AuthenticatedLayout-CYr2UffW.js";import{_ as ve}from"./Pagination-t5IWjNVW.js";import{S as fe}from"./sweetalert2.esm.all-DwEdJQJv.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const he={key:0,class:"modal-mask"},pe={class:"modal-wrapper max-h-[80vh]"},be={class:"modal-container"},ge={class:"modal-header"},ye={class:"modal-body"},xe={class:"my-4 mx-5"},$e={key:0,class:"text-danger"},we={class:"my-4 mx-5"},_e={class:"my-4 mx-5"},De={class:"modal-footer my-2"},ke={class:"d-flex w-100"},Me={class:"px-4 flex-fill"},Ce={class:"px-4 flex-fill"},Se={__name:"ModalConvertDollarDinar",props:{show:Boolean,boxes:Array},setup(a){E();const o=$({user:{percentage:0},amount:0,exchangeRate:1}),l=()=>{o.value={user:{percentage:0},amount:0}};function d(){v(),o.value.amountResultDinar=Math.floor(o.value.amountDollar*(o.value.exchangeRate/100))}let m=$(!1);function v(){const r=o.value.exchangeRate;/^\d{6}$/.test(r)?m.value=!1:m.value=!0}return(r,s)=>(u(),M(R,{name:"modal"},{default:w(()=>[a.show?(u(),c("div",he,[e("div",pe,[e("div",be,[e("div",ge,[V(r.$slots,"header")]),e("div",ye,[e("div",null,[e("div",xe,[s[7]||(s[7]=e("label",{for:"amountDinar",class:"form-label float-end"},"سعر الصرف 100",-1)),g(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[0]||(s[0]=n=>d()),"onUpdate:modelValue":s[1]||(s[1]=n=>o.value.exchangeRate=n)},null,544),[[y,o.value.exchangeRate]]),D(m)?(u(),c("div",$e," مطلوب رقم من 6 خانة فقط ")):b("",!0)]),e("div",we,[s[8]||(s[8]=e("label",{for:"amountDollar",class:"form-label float-end"}," المبلغ بالدولار (المبلغ المسحوب من الصندوق بالدولار) ",-1)),g(e("input",{id:"amountDollar",type:"number",class:"form-control",onInput:s[2]||(s[2]=n=>d()),"onUpdate:modelValue":s[3]||(s[3]=n=>o.value.amountDollar=n)},null,544),[[y,o.value.amountDollar]])]),e("div",_e,[s[9]||(s[9]=e("label",{for:"amountDinar",class:"form-label float-end"}," المبلغ بالدينار العراقي (المبلغ المضاف للصندوق بالدينار) ",-1)),g(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=n=>o.value.amountResultDinar=n)},null,512),[[y,o.value.amountResultDinar]])])])]),e("div",De,[e("div",ke,[e("div",Me,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:s[5]||(s[5]=n=>{r.$emit("close")})}," تراجع ")]),e("div",Ce,[e("button",{class:"btn btn-danger w-100 text-center",onClick:s[6]||(s[6]=n=>{r.$emit("a",o.value),l()})}," نعم ")])])])])])])):b("",!0)]),_:3}))}},Le={key:0,class:"modal-mask"},Ae={class:"modal-wrapper max-h-[80vh]"},Be={class:"modal-container"},Ue={class:"modal-header"},Ve={class:"modal-body"},Re={class:"my-4 mx-5"},ze={key:0,class:"text-danger"},Ie={class:"my-4 mx-5"},Te={class:"my-4 mx-5"},Ne={class:"modal-footer my-2"},Fe={class:"row w-100"},je={class:"col-6 px-4"},Ee={class:"col-6 px-4"},He={__name:"ModalConvertDinarDollar",props:{show:Boolean,boxes:Array},setup(a){E();const o=$({user:{percentage:0},amount:0,exchangeRate:1}),l=()=>{o.value={user:{percentage:0},amount:0}};let d=$(!1);function m(){const r=o.value.exchangeRate;/^\d{6}$/.test(r)?d.value=!1:d.value=!0}function v(){m(),o.value.amountResultDollar=Math.floor(o.value.amountDinar/(o.value.exchangeRate/100))}return(r,s)=>(u(),M(R,{name:"modal"},{default:w(()=>[a.show?(u(),c("div",Le,[e("div",Ae,[e("div",Be,[e("div",Ue,[V(r.$slots,"header")]),e("div",Ve,[e("div",null,[e("div",Re,[s[7]||(s[7]=e("label",{for:"amountDinar",class:"form-label float-end"},"سعر الصرف 100$",-1)),g(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[0]||(s[0]=n=>v()),"onUpdate:modelValue":s[1]||(s[1]=n=>o.value.exchangeRate=n)},null,544),[[y,o.value.exchangeRate]]),D(d)?(u(),c("div",ze," مطلوب رقم من 6 خانة فقط ")):b("",!0)]),e("div",Ie,[s[8]||(s[8]=e("label",{for:"amountDinar",class:"form-label float-end"}," المبلغ بالدينار العراقي (المبلغ المسحوب من الصندوق بالدينار العراقي) ",-1)),g(e("input",{id:"amountDinar",type:"number",class:"form-control",onInput:s[2]||(s[2]=n=>v()),"onUpdate:modelValue":s[3]||(s[3]=n=>o.value.amountDinar=n)},null,544),[[y,o.value.amountDinar]])]),e("div",Te,[s[9]||(s[9]=e("label",{for:"amountDollar",class:"form-label float-end"}," المبلغ بالدولار (المبلغ المضاف للصندوق بالدولار) ",-1)),g(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=n=>o.value.amountResultDollar=n)},null,512),[[y,o.value.amountResultDollar]])])])]),e("div",Ne,[e("div",Fe,[e("div",je,[e("button",{class:"btn btn-secondary w-100 py-2 text-center",onClick:s[5]||(s[5]=n=>{r.$emit("close")})}," تراجع ")]),e("div",Ee,[e("button",{class:"btn btn-danger w-100 py-2 text-center",onClick:s[6]||(s[6]=n=>{r.$emit("a",o.value),l()})}," نعم ")])])])])])])):b("",!0)]),_:3}))}},Ye={key:0,class:"modal-mask"},Oe={class:"modal-wrapper max-h-[80vh]"},Xe={class:"modal-container"},Ze={class:"modal-header"},Pe={class:"modal-body"},Qe={class:"row g-3"},qe={class:"col-lg-6"},Ge={class:"col-lg-6"},Je={class:"col-lg-6"},Ke={class:"col-lg-6"},We={class:"modal-footer"},et={class:"d-flex w-100"},tt={class:"px-2 flex-fill"},ot={class:"px-2 flex-fill"},st=["disabled"],at={__name:"ModalAddToBox",props:{show:Boolean,data:Array,accounts:Array},emits:["close","a"],setup(a,{emit:o}){const l=o,d=$({date:m(),amountDollar:0,amountDinar:0,amountNote:""});function m(){const s=new Date,n=s.getFullYear(),h=String(s.getMonth()+1).padStart(2,"0"),j=String(s.getDate()).padStart(2,"0");return`${n}-${h}-${j}`}const v=()=>{d.value={date:m(),amountDollar:0,amountDinar:0,amountNote:""}},r=s=>{k.post("/api/add-to-box",s).then(n=>{l("a"),l("close"),v()}).catch(n=>{l("close")})};return(s,n)=>(u(),M(R,{name:"modal"},{default:w(()=>[a.show?(u(),c("div",Ye,[e("div",Oe,[e("div",Xe,[e("div",Ze,[V(s.$slots,"header")]),e("div",Pe,[e("div",Qe,[e("div",qe,[n[6]||(n[6]=e("label",{for:"amountDollar",class:"form-label"},"المبلغ بالدولار",-1)),g(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=h=>d.value.amountDollar=h)},null,512),[[y,d.value.amountDollar]])]),e("div",Ge,[n[7]||(n[7]=e("label",{for:"amountDinar",class:"form-label"},"المبلغ بالدينار",-1)),g(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=h=>d.value.amountDinar=h)},null,512),[[y,d.value.amountDinar]])]),e("div",Je,[n[8]||(n[8]=e("label",{for:"note",class:"form-label"},"ملاحظة",-1)),g(e("input",{id:"note",type:"text",class:"form-control","onUpdate:modelValue":n[2]||(n[2]=h=>d.value.amountNote=h)},null,512),[[y,d.value.amountNote]])]),e("div",Ke,[n[9]||(n[9]=e("label",{for:"date",class:"form-label"},"التاريخ",-1)),g(e("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":n[3]||(n[3]=h=>d.value.date=h)},null,512),[[y,d.value.date]])])])]),e("div",We,[e("div",et,[e("div",tt,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:n[4]||(n[4]=h=>l("close"))}," تراجع ")]),e("div",ot,[e("button",{class:"btn btn-danger w-100 text-center",onClick:n[5]||(n[5]=h=>r(d.value)),disabled:!d.value.amountDollar&&!d.value.amountDinar}," نعم ",8,st)])])])])])])):b("",!0)]),_:3}))}},nt={key:0,class:"modal-mask"},lt={class:"modal-wrapper max-h-[80vh]"},it={class:"modal-container"},rt={class:"modal-header"},dt={class:"modal-body"},ut={class:"row g-3"},mt={class:"col-lg-6"},ct={class:"col-lg-6"},vt={class:"col-lg-6"},ft={class:"col-lg-6"},ht={class:"modal-footer"},pt={class:"d-flex w-100"},bt={class:"px-2 flex-fill"},gt={class:"px-2 flex-fill"},yt=["disabled"],xt={__name:"ModalDropFromBox",props:{show:Boolean,data:Array,accounts:Array},setup(a){const o=$({date:l(),amountDollar:0,amountDinar:0,amountNote:""});function l(){const v=new Date,r=v.getFullYear(),s=String(v.getMonth()+1).padStart(2,"0"),n=String(v.getDate()).padStart(2,"0");return`${r}-${s}-${n}`}const d=()=>{o.value={date:l()}},m=v=>{k.post("/api/drop-from-box",v).then(r=>{}).catch(r=>{$emit("close")})};return(v,r)=>(u(),M(R,{name:"modal"},{default:w(()=>[a.show?(u(),c("div",nt,[e("div",lt,[e("div",it,[e("div",rt,[V(v.$slots,"header")]),e("div",dt,[e("div",ut,[e("div",mt,[r[6]||(r[6]=e("label",{for:"amountDollar",class:"form-label"},"المبلغ بالدولار",-1)),g(e("input",{id:"amountDollar",type:"number",class:"form-control","onUpdate:modelValue":r[0]||(r[0]=s=>o.value.amountDollar=s)},null,512),[[y,o.value.amountDollar]])]),e("div",ct,[r[7]||(r[7]=e("label",{for:"amountDinar",class:"form-label"},"المبلغ بالدينار",-1)),g(e("input",{id:"amountDinar",type:"number",class:"form-control","onUpdate:modelValue":r[1]||(r[1]=s=>o.value.amountDinar=s)},null,512),[[y,o.value.amountDinar]])]),e("div",vt,[r[8]||(r[8]=e("label",{for:"note",class:"form-label"},"ملاحظة",-1)),g(e("input",{id:"note",type:"text",class:"form-control","onUpdate:modelValue":r[2]||(r[2]=s=>o.value.amountNote=s)},null,512),[[y,o.value.amountNote]])]),e("div",ft,[r[9]||(r[9]=e("label",{for:"date",class:"form-label"},"التاريخ",-1)),g(e("input",{id:"date",type:"date",class:"form-control","onUpdate:modelValue":r[3]||(r[3]=s=>o.value.date=s)},null,512),[[y,o.value.date]])])])]),e("div",ht,[e("div",pt,[e("div",bt,[e("button",{class:"btn btn-secondary w-100 text-center",onClick:r[4]||(r[4]=s=>{v.$emit("close")})}," تراجع ")]),e("div",gt,[e("button",{class:"btn btn-danger w-100 text-center",onClick:r[5]||(r[5]=s=>{m(o.value),v.$emit("a"),d()}),disabled:!o.value.amountDollar&&!o.value.amountDinar}," نعم ",8,yt)])])])])])])):b("",!0)]),_:3}))}},$t={},wt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function _t(a,o){return u(),c("svg",wt,o[0]||(o[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"},null,-1)]))}const P=z($t,[["render",_t]]),Dt={},kt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Mt(a,o){return u(),c("svg",kt,o[0]||(o[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"},null,-1)]))}const Ct=z(Dt,[["render",Mt]]),St={},Lt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function At(a,o){return u(),c("svg",Lt,o[0]||(o[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)]))}const Bt=z(St,[["render",At]]),Ut={name:"line-scale",props:{color:{type:String,default:"#CCC"},size:{type:String,default:"40px"},duration:{type:String,default:"0.6s"}}},Vt=["width","height"],Rt=["fill"],zt=["dur"],It=["dur"],Tt=["fill"],Nt=["dur"],Ft=["dur"],jt=["fill"],Et=["dur"],Ht=["dur"];function Yt(a,o,l,d,m,v){return u(),c("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:l.size,height:l.size,viewBox:"0 0 24 30",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},[e("rect",{x:"0",y:"13",width:"4",height:"5",fill:l.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:l.duration,repeatCount:"indefinite"},null,8,zt),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:l.duration,repeatCount:"indefinite"},null,8,It)],8,Rt),e("rect",{x:"10",y:"13",width:"4",height:"5",fill:l.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:l.duration,repeatCount:"indefinite"},null,8,Nt),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:l.duration,repeatCount:"indefinite"},null,8,Ft)],8,Tt),e("rect",{x:"20",y:"13",width:"4",height:"5",fill:l.color},[e("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:l.duration,repeatCount:"indefinite"},null,8,Et),e("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:l.duration,repeatCount:"indefinite"},null,8,Ht)],8,jt)],8,Vt)}const Ot=z(Ut,[["render",Yt]]),Xt={LineScale:Ot},Zt={name:"vue-element-loading",props:{active:Boolean,spinner:{type:String,default:"spinner"},text:{type:String,default:""},textStyle:{type:Object,default:function(){return{}}},color:{type:String,default:"#000"},isFullScreen:{type:Boolean,default:!1},backgroundColor:{type:String,default:"rgba(255, 255, 255, .9)"},size:{type:String,default:"40"},duration:{type:String,default:"0.6"},delay:{type:[String,Number],default:0}},data(){return{isActive:this.active||!1,isActiveDelay:!1}},mounted(){if(this.$refs.velmld.parentNode.classList.add("velmld-parent"),this.delay){const a=+this.delay*1e3;this.delayActive(a)}},methods:{delayActive(a){this.isActiveDelay=!0,setTimeout(()=>{this.isActiveDelay=!1},a)}},watch:{active(a){this.isActive=a,a&&this.$refs.velmld.parentNode.classList.add("velmld-parent")}},components:Xt},Pt={class:"velmld-spinner"};function Qt(a,o,l,d,m,v){return u(),M(R,{name:"fade"},{default:w(()=>[g(e("div",{class:H([{"velmld-full-screen":l.isFullScreen},"velmld-overlay"]),style:Z({backgroundColor:l.backgroundColor}),ref:"velmld"},[e("div",Pt,[V(a.$slots,"default",{},()=>[(u(),M(le(l.spinner),{color:l.color,size:`${l.size}px`,duration:`${l.duration}s`},null,8,["color","size","duration"]))],!0),l.text.length?(u(),c("div",{key:0,style:Z({color:l.color,...l.textStyle})},p(l.text),5)):b("",!0)])],6),[[ie,m.isActive||m.isActiveDelay]])]),_:3})}const qt=z(Zt,[["render",Qt],["__scopeId","data-v-82159762"]]),Gt={props:{server:{type:String,default:"/api/upload"},isInvalid:{type:Boolean,default:!1},media:{type:Array,default:[]},location:{type:String,default:""},max:{type:Number,default:null},maxFilesize:{type:Number,default:4},warnings:{type:Boolean,default:!0},headers:{type:Object,default:null}},mounted(){this.init()},data(){return{addedMedia:[],savedMedia:[],removedMedia:[],config:{headers:null},isLoading:!0}},methods:{init(){this.savedMedia=this.media,this.config.headers=this.headers,this.savedMedia.forEach((a,o)=>{this.savedMedia[o].url||(this.savedMedia[o].url=this.location+"/"+a.name)}),setTimeout(()=>this.isLoading=!1,1e3),this.$emit("init",this.allMedia)},async fileChange(a){this.isLoading=!0;let o=a.target.files;for(var l=0;l<o.length;l++)if(!this.max||this.allMedia.length<this.max)if(o[l].size<=this.maxFilesize*1e6){let d=new FormData,m=URL.createObjectURL(o[l]);d.set("image",o[l]);const{data:v}=await k.post(this.server,d,this.config);let r={url:m,name:v.name,size:o[l].size,type:o[l].type};this.addedMedia.push(r),this.$emit("change",this.allMedia),this.$emit("add",r,this.addedMedia)}else{this.$emit("maxFilesize",o[l].size),this.warnings&&alert(`The file you are trying to upload is too big. 
Maximum Filesize: `+this.maxFilesize+"MB");break}else{this.$emit("max"),this.warnings&&alert(`You have reached the maximum number of files that you can upload. 
Maximum Files: `+this.max);break}a.target.value=null,this.isLoading=!1},removeAddedMedia(a){let o=this.addedMedia[a];this.addedMedia.splice(a,1),this.$emit("change",this.allMedia),this.$emit("remove",o,this.removedMedia)},removeSavedMedia(a){let o=this.savedMedia[a];this.removedMedia.push(o),this.savedMedia.splice(a,1),this.$emit("change",this.allMedia),this.$emit("remove",o,this.removedMedia)}},computed:{allMedia(){return[...this.savedMedia,...this.addedMedia]}},emits:["init","change","add","remove","max","maxFilesize"],components:{Loader:qt}},Jt={class:"mu-elements-wraper"},Kt={class:"mu-plusbox-container"},Wt={class:"mu-plusbox"},eo=["src"],to=["onClick"],oo=["src"],so=["onClick"],ao=["value"],no=["value"],lo={key:0,class:"mu-mt-1"};function io(a,o,l,d,m,v){const r=re("Loader");return u(),c("div",null,[e("div",{class:H(["mu-container",l.isInvalid?"mu-red-border":""])},[x(r,{color:"#0275d8",active:m.isLoading,spinner:"line-scale","background-color":"rgba(255, 255, 255, .4)"},null,8,["active"]),e("div",Jt,[e("div",Kt,[e("label",Wt,[o[1]||(o[1]=e("svg",{class:"mu-plus-icon",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11s11-4.925 11-11S18.075 1 12 1zm1 15a1 1 0 1 1-2 0v-3H8a1 1 0 1 1 0-2h3V8a1 1 0 1 1 2 0v3h3a1 1 0 1 1 0 2h-3v3z",fill:"currentColor"})])],-1)),e("input",{onChange:o[0]||(o[0]=(...s)=>v.fileChange&&v.fileChange(...s)),type:"file",accept:"image/*",multiple:"",hidden:""},null,32)])]),(u(!0),c(B,null,U(m.savedMedia,(s,n)=>(u(),c("div",{key:n,class:"mu-image-container"},[e("img",{src:l.location+"/"+s.name,alt:"",class:"mu-images-preview"},null,8,eo),e("button",{onClick:h=>v.removeSavedMedia(n),class:"mu-close-btn",type:"button"},o[2]||(o[2]=[e("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[e("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)]),8,to)]))),128)),(u(!0),c(B,null,U(m.addedMedia,(s,n)=>(u(),c("div",{key:n,class:"mu-image-container"},[e("img",{src:s.url,alt:"",class:"mu-images-preview"},null,8,oo),e("button",{onClick:h=>v.removeAddedMedia(n),class:"mu-close-btn",type:"button"},o[3]||(o[3]=[e("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[e("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)]),8,so)]))),128))])],2),e("div",null,[(u(!0),c(B,null,U(m.addedMedia,(s,n)=>(u(),c("div",{key:n,class:"mu-mt-1"},[e("input",{type:"text",name:"added_media[]",value:s.name,hidden:""},null,8,ao)]))),128)),(u(!0),c(B,null,U(m.removedMedia,(s,n)=>(u(),c("div",{key:n,class:"mu-mt-1"},[e("input",{type:"text",name:"removed_media[]",value:s.name,hidden:""},null,8,no)]))),128)),v.allMedia.length?(u(),c("div",lo,o[4]||(o[4]=[e("input",{type:"text",name:"media",value:"1",hidden:""},null,-1)]))):b("",!0)])])}const ro=z(Gt,[["render",io],["__scopeId","data-v-01f6b32e"]]),uo={key:0,class:"modal-mask"},mo={class:"modal-wrapper max-h-[80vh]"},co={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},vo={class:"modal-header"},fo={class:"dark:text-gray-300 py-4 text-center"},ho={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},po={class:"mb-4"},bo={class:"mt-3"},go={key:0,class:"text-danger"},yo={class:"modal-footer my-2"},xo={class:"flex flex-row w-100"},$o={class:"basis-1/2 px-4 w-100"},wo={class:"basis-1/2 px-4"},_o={__name:"ModalUploader",props:{show:Boolean,formData:Object,client:Array},setup(a){const o=E();function l(d){k.get("/api/TransactionsImageDel?name="+d.name).then(m=>{o.success("تم  حذف الصورة بنجاح",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(m=>{console.error(m)})}return(d,m)=>(u(),M(R,{name:"modal"},{default:w(()=>{var v,r,s;return[a.show?(u(),c("div",uo,[e("div",mo,[e("div",co,[e("div",vo,[V(d.$slots,"header")]),e("h2",fo,p(a.formData.description),1),e("div",ho,[e("div",po,[m[2]||(m[2]=e("label",{class:"form-label w-100 dark:text-gray-300"},"الصور",-1)),e("div",bo,[x(D(ro),{server:"/api/TransactionsUpload?transactionsId="+a.formData.id,"is-invalid":!!((v=d.errors)!=null&&v.media),onChange:d.changeMedia,onInitMedia:d.media,location:"/public/uploadsResized",media:a.formData.transactions_images,onAdd:d.addMedia,onRemove:l},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(r=d.errors)!=null&&r.media?(u(),c("p",go,p((s=d.errors)==null?void 0:s.media[0]),1)):b("",!0)])]),e("div",yo,[e("div",xo,[e("div",$o,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded text-center",onClick:m[0]||(m[0]=n=>{d.$emit("close")})},"تراجع")]),e("div",wo,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6 text-center",onClick:m[1]||(m[1]=n=>{d.$emit("a",a.formData)})},"نعم")])])])])])])):b("",!0)]}),_:3}))}},Do={class:"pagetitle dark:text-white"},ko={class:"dark:text-white"},Mo={class:"section dashboard"},Co={class:"card"},So={class:"card-header"},Lo={class:"row"},Ao={class:"col-md-2"},Bo={class:"col-md-2"},Uo={class:"col-md-2"},Vo={class:"col-md-2"},Ro={class:"col-md-2"},zo={class:"btn btn-info w-100 text-white"},Io={class:"text-bolde"},To={class:"col-md-2"},No={class:"btn btn-info w-100 text-white"},Fo={class:"text-bold"},jo={class:"card-body"},Eo={class:"row filter_form"},Ho={class:"col-md-2"},Yo=["placeholder"],Oo={class:"col-md-2"},Xo=["placeholder"],Zo={class:"col-md-2"},Po=["placeholder"],Qo={class:"col-md-2"},qo=["placeholder"],Go={class:"col-md-2"},Jo={type:"submit",class:"btn btn-primary"},Ko={class:"table-responsive"},Wo={class:"table text-center"},es={scope:"col"},ts={key:0,scope:"col"},os={key:0},ss={key:0},as={key:0},ns=["onClick"],ls=["onClick"],is=["href"],rs=["href"],ds=["href"],us=["src"],ps={__name:"index",props:{boxes:Object,transactions:Array,translations:Array,mainBox:Object},setup(a){let o=$(!1),l=$(!1),d=$(!1),m=$(!1),v=$(!1),r=$(0);const s=a,n=de(),h=ue({name:"",model:"",start_date:Y(),end_date:Y()});function j(){l.value=!0}function Q(){o.value=!0}function q(){d.value=!0}function G(){m.value=!0}function J(){I()}function I(){k.get("api/boxes/transactions").then(f=>{F.reload({only:["transactions","mainBox"]})}).catch(f=>{console.log(f)})}function K(f){k.post("/api/convertDollarDinar",f).then(t=>{I(),l.value=!1}).catch(t=>{errors.value=t.response.data.errors})}function W(f){k.post("/api/convertDinarDollar",f).then(t=>{I(),o.value=!1}).catch(t=>{errors.value=t.response.data.errors})}const ee=()=>{F.get(route("boxes.index"),h,{preserveState:!0,preserveScroll:!0})},S=f=>n.props.auth_permissions.includes(f);function T(f){return typeof f!="number"&&(f=parseFloat(f)||0),f.toLocaleString()}const te=(f,t)=>{fe.fire({title:s.translations.are_you_sure+s.translations.delete+" "+s.translations.amount+" "+t,text:s.translations.you_will_not_be_able_to_revert_this,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:s.translations.yes,cancelButtonText:s.translations.cancel}).then(L=>{L.isConfirmed&&k.post("api/delTransactions/?id="+f).then(A=>{F.reload({only:["transactions","mainBox"]})}).catch(A=>{F.reload({only:["transactions","mainBox"]})})})};function Y(){const f=new Date,t=f.getFullYear(),L=String(f.getMonth()+1).padStart(2,"0"),A=String(f.getDate()).padStart(2,"0");return`${t}-${L}-${A}`}const oe=f=>{const t={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(f).toLocaleDateString("en-US",t)};function se(f){r.value=f,v.value=!0}return(f,t)=>(u(),M(ce,{translations:a.translations},{default:w(()=>{var L,A,O;return[e("div",Do,[e("h1",ko,p(a.translations.boxes),1)]),e("section",Mo,[e("div",Co,[e("div",So,[e("div",Lo,[e("div",Ao,[S("create order")?(u(),c("button",{key:0,class:"btn btn-success",onClick:t[0]||(t[0]=i=>q())},[_(p(a.translations.add_to_box)+"   ",1),t[18]||(t[18]=e("i",{class:"bi bi-plus-circle"},null,-1))])):b("",!0)]),e("div",Bo,[S("create order")?(u(),c("button",{key:0,class:"btn btn-danger",onClick:t[1]||(t[1]=i=>G())},[_(p(a.translations.drop_from_box)+"   ",1),t[19]||(t[19]=e("i",{class:"bi bi-stop-circle-fill"},null,-1))])):b("",!0)]),e("div",Uo,[S("create order")?(u(),c("button",{key:0,class:"btn btn-warning",onClick:t[2]||(t[2]=i=>Q())},[_(p(a.translations.convert_dinar_dollar)+"   ",1),t[20]||(t[20]=e("i",{class:"bi bi-arrow-left-right"},null,-1))])):b("",!0)]),e("div",Vo,[S("create order")?(u(),c("button",{key:0,class:"btn btn-warning",onClick:t[3]||(t[3]=i=>j())},[_(p(a.translations.convert_dollar_dinar)+"   ",1),t[21]||(t[21]=e("i",{class:"bi bi-arrow-left-right"},null,-1))])):b("",!0)]),e("div",Ro,[e("button",zo,[t[22]||(t[22]=_(" الرصيد بالدولار : ")),e("span",Io,p(T(((L=a.mainBox)==null?void 0:L.balance_usd)??0)),1),t[23]||(t[23]=_()),t[24]||(t[24]=e("i",{class:"bi bi-currency-dollar"},null,-1))])]),e("div",To,[e("button",No,[t[25]||(t[25]=_(" الرصيد بالدينار : ")),e("span",Fo,p(T(((A=a.mainBox)==null?void 0:A.balance)??0)),1),t[26]||(t[26]=_()),t[27]||(t[27]=e("span",{class:"text-white"},"IQD",-1))])])])]),e("div",jo,[e("form",{onSubmit:me(ee,["prevent"])},[e("div",Eo,[e("div",Ho,[g(e("input",{type:"date",class:"form-control search_box","onUpdate:modelValue":t[4]||(t[4]=i=>h.start_date=i),placeholder:a.translations.start_date},null,8,Yo),[[y,h.start_date]])]),e("div",Oo,[g(e("input",{type:"date",class:"form-control search_box","onUpdate:modelValue":t[5]||(t[5]=i=>h.end_date=i),placeholder:a.translations.end_date},null,8,Xo),[[y,h.end_date]])]),e("div",Zo,[g(e("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":t[6]||(t[6]=i=>h.name=i),placeholder:a.translations.name},null,8,Po),[[y,h.name]])]),e("div",Qo,[g(e("input",{type:"text",class:"form-control search_box","onUpdate:modelValue":t[7]||(t[7]=i=>h.note=i),placeholder:a.translations.note},null,8,qo),[[y,h.note]])]),e("div",Go,[e("button",Jo,[_(p(a.translations.search)+"   ",1),t[28]||(t[28]=e("i",{class:"bi bi-search"},null,-1))])])])],32),e("div",Ko,[e("table",Wo,[e("thead",null,[e("tr",null,[t[29]||(t[29]=e("th",{scope:"col"},"#",-1)),t[30]||(t[30]=e("th",{scope:"col"},"الحساب",-1)),t[31]||(t[31]=e("th",{scope:"col"},"سحب",-1)),t[32]||(t[32]=e("th",{scope:"col"},"اضافة",-1)),t[33]||(t[33]=e("th",{scope:"col"},"البيان",-1)),e("th",es,p(a.translations.created_at),1),S("delete order")?(u(),c("th",ts,p(a.translations.delete),1)):b("",!0),t[34]||(t[34]=e("th",{scope:"col"},"مرفق",-1)),t[35]||(t[35]=e("th",{scope:"col"},"طباعة",-1)),t[36]||(t[36]=e("th",{scope:"col"},"عرض",-1))])]),e("tbody",null,[(u(!0),c(B,null,U(a.transactions.data,(i,ae)=>{var X;return u(),c("tr",{key:i.id,class:H({"bg-red-100 dark:bg-red-900":i.type=="outUser"||i.type=="out","bg-green-100 dark:bg-green-900":i.type=="inUser"||i.type=="in"})},[e("th",null,p(ae+1),1),e("td",null,p((X=i.morphed)==null?void 0:X.name),1),e("td",null,[i.type=="outUser"||i.type=="out"?(u(),c("span",os,p(T(i.amount))+" "+p(i.currency),1)):b("",!0)]),e("td",null,[i.type=="inUser"||i.type=="in"?(u(),c("span",ss,p(T(i.amount))+" "+p(i.currency),1)):b("",!0)]),e("td",null,p(i.description),1),e("td",null,p(oe(i.created_at)),1),S("delete order")?(u(),c("td",as,[e("button",{class:"px-1 py-1 text-white bg-rose-500 rounded-md focus:outline-none",onClick:N=>te(i.id,i.amount)},[x(Bt)],8,ns)])):b("",!0),e("td",null,[e("button",{class:"px-1 mx-2 py-1 text-white bg-purple-600 rounded-md focus:outline-none",onClick:N=>se(i)},[x(Ct)],8,ls)]),e("td",null,[i.type==="out"||i.type==="outUser"||i.type==="debt"?(u(),c("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a.mainBox.id}&print=2&transactions_id=${i.id}`,tabIndex:"1",class:"px-1 py-1 text-white bg-green-500 rounded"},[x(P,{class:"inline-flex"})],8,is)):b("",!0),i.type==="in"||i.type==="inUser"?(u(),c("a",{key:1,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a.mainBox.id}&print=3&transactions_id=${i.id}`,tabIndex:"1",class:"px-1 py-1 text-white bg-green-500 rounded"},[x(P,{class:"inline-flex"})],8,rs)):b("",!0)]),e("td",null,[(u(!0),c(B,null,U(i.transactions_images,(N,ne)=>(u(),c("a",{key:ne,href:f.getDownloadUrl(N.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:f.getImageUrl(N.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,us)],8,ds))),128))])],2)}),128))])])])])]),x(ve,{links:(O=a.transactions)==null?void 0:O.links},null,8,["links"])]),x(_o,{show:!!D(v),formData:D(r),onA:t[8]||(t[8]=i=>J(i)),onClose:t[9]||(t[9]=i=>C(v)?v.value=!1:v=!1)},{header:w(()=>t[37]||(t[37]=[e("h2",{class:"mb-5 dark:text-white w-100 text-center"}," تحميل ملفات ",-1)])),_:1},8,["show","formData"]),x(Se,{show:!!D(l),boxes:a.boxes,onA:t[10]||(t[10]=i=>K(i)),onClose:t[11]||(t[11]=i=>C(l)?l.value=!1:l=!1)},{header:w(()=>t[38]||(t[38]=[e("h3",{class:"text-center w-100"},"تحويل من الدولار الى دينار",-1)])),_:1},8,["show","boxes"]),x(He,{show:!!D(o),boxes:a.boxes,onA:t[12]||(t[12]=i=>W(i)),onClose:t[13]||(t[13]=i=>C(o)?o.value=!1:o=!1)},{header:w(()=>t[39]||(t[39]=[e("h3",{class:"text-center w-100"},"تحويل من الدينار الى دولار",-1)])),_:1},8,["show","boxes"]),x(at,{show:!!D(d),data:f.users,accounts:f.accounts,onA:t[14]||(t[14]=i=>{I(),C(d)?d.value=!1:d=!1}),onClose:t[15]||(t[15]=i=>C(d)?d.value=!1:d=!1)},{header:w(()=>t[40]||(t[40]=[e("h3",{class:"text-center w-100"},"وصل قبض - اضافة للصندوق",-1)])),_:1},8,["show","data","accounts"]),x(xt,{show:!!D(m),boxes:a.boxes,onA:t[16]||(t[16]=i=>{I(),C(m)?m.value=!1:m=!1}),onClose:t[17]||(t[17]=i=>C(m)?m.value=!1:m=!1)},{header:w(()=>t[41]||(t[41]=[e("h2",{class:"text-center w-100 dark:text-white text-black"},"وصل سحب - سحب من الصندوق",-1)])),_:1},8,["show","boxes"])]}),_:1},8,["translations"]))}};export{ps as default};
