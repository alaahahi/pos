# โ ุชุญุฏูุซ ูุญุต API Health

## ๐ ุงูุชุบููุฑุงุช

ุชู ุชุญุฏูุซ `ApiSyncService::isApiAvailable()` ูุงุณุชุฎุฏุงู `/api/sync-monitor/sync-health` ุจุฏูุงู ูู `/api/sync-monitor/sync-status`.

---

## ๐ง ุงูุชุญุฏูุซุงุช

### `app/Services/ApiSyncService.php`

#### โ `isApiAvailable()`
- **ูุจู**: ูุงู ูุณุชุฎุฏู `/api/sync-monitor/sync-status` ูุน `job_id=health-check`
- **ุจุนุฏ**: ูุณุชุฎุฏู `/api/sync-monitor/sync-health` ููุญุตูู ุนูู ูุนูููุงุช ุตุญูุฉ ุดุงููุฉ

#### ุงูุชุญุณููุงุช:
1. โ **ูุญุต ุดุงูู**: ูุชุญูู ูู `overall_status` ูู ุงูุงุณุชุฌุงุจุฉ
2. โ **ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก**: ูููุฒ ุจูู connection errors ูุงูุฃุฎุทุงุก ุงูุฃุฎุฑู
3. โ **Logging ูุญุณูู**: ูุณุฌู ุชูุงุตูู ุฃูุซุฑ ุนู ุญุงูุฉ API
4. โ **Timeout ุฃุทูู**: 10 ุซูุงูู ุจุฏูุงู ูู 5 ููู health check

---

## ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ

### ุนูุฏ ูุฌุงุญ Health Check:
```json
{
  "success": true,
  "health": {
    "overall_status": "ok",
    "api_sync": {
      "enabled": true,
      "online_url": "https://nissan.intellij-app.com",
      "api_token_set": true
    },
    "api_service": {
      "available": true,
      "status": "ูุชุงุญ"
    }
  }
}
```

### ุนูุฏ ูุดู Health Check:
- `overall_status: "issue"` โ API ูุชุงุญ ููู ุจู ูุดุงูู
- Connection error โ API ุบูุฑ ูุชุงุญ

---

## โ ุงููุฒุงูุง

1. โ **ูุญุต ุดุงูู**: ูุชุญูู ูู ุญุงูุฉ API ุจุงููุงูู ูููุณ ููุท ุงูุงุชุตุงู
2. โ **ูุนูููุงุช ุฃูุซุฑ**: ูุญุตู ุนูู ูุนูููุงุช ุนู ุฅุนุฏุงุฏุงุช API ูุฎุฏูุงุชู
3. โ **ุฃูุงู ุฃูุถู**: ูุชุญูู ูู ุฃู API ูุนูู ุจุดูู ุตุญูุญ ูููุณ ููุท ูุชุงุญ
4. โ **Logging ูุญุณูู**: ูุณุฌู ุชูุงุตูู ุฃูุซุฑ ูููุณุงุนุฏุฉ ูู ุงูุชุดุฎูุต

---

## ๐งช ุงูุงุฎุชุจุงุฑ

ุชู ุฅูุดุงุก `test-api-health.php` ูุงุฎุชุจุงุฑ:
1. `ApiSyncService::isApiAvailable()`
2. ุงูุงุชุตุงู ุงููุจุงุดุฑ ุจู `/api/sync-monitor/sync-health`
3. Local endpoint ููุชุญูู ูู ุฃู ุงููุธุงู ูุนูู ูุญููุงู

---

**ุชุงุฑูุฎ**: 2025-12-23

